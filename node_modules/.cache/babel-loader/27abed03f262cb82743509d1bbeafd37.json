{"ast":null,"code":"import * as CONSTANT from './../base/constant';\nimport { setStyleAttribute, closest } from '@syncfusion/ej2-base';\nimport * as EVENTS from './../../common/constant';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\n/**\n * Formats internal component\n *\n * @hidden\n\n */\n\nvar Alignments =\n/** @class */\nfunction () {\n  /**\n   * Constructor for creating the Formats plugin\n   *\n   * @param {EditorManager} parent - specifies the parent element.\n   * @returns {void}\n   * @hidden\n    */\n  function Alignments(parent) {\n    this.alignments = {\n      'JustifyLeft': 'left',\n      'JustifyCenter': 'center',\n      'JustifyRight': 'right',\n      'JustifyFull': 'justify'\n    };\n    this.parent = parent;\n    this.addEventListener();\n  }\n\n  Alignments.prototype.addEventListener = function () {\n    this.parent.observer.on(CONSTANT.ALIGNMENT_TYPE, this.applyAlignment, this);\n    this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown, this);\n  };\n\n  Alignments.prototype.onKeyDown = function (e) {\n    switch (e.event.action) {\n      case 'justify-center':\n        this.applyAlignment({\n          subCommand: 'JustifyCenter',\n          callBack: e.callBack\n        });\n        e.event.preventDefault();\n        break;\n\n      case 'justify-full':\n        this.applyAlignment({\n          subCommand: 'JustifyFull',\n          callBack: e.callBack\n        });\n        e.event.preventDefault();\n        break;\n\n      case 'justify-left':\n        this.applyAlignment({\n          subCommand: 'JustifyLeft',\n          callBack: e.callBack\n        });\n        e.event.preventDefault();\n        break;\n\n      case 'justify-right':\n        this.applyAlignment({\n          subCommand: 'JustifyRight',\n          callBack: e.callBack\n        });\n        e.event.preventDefault();\n        break;\n    }\n  };\n\n  Alignments.prototype.getTableNode = function (range) {\n    var startNode = range.startContainer.nodeType === Node.ELEMENT_NODE ? range.startContainer : range.startContainer.parentNode;\n    var cellNode = closest(startNode, 'td,th');\n    return [cellNode];\n  };\n\n  Alignments.prototype.applyAlignment = function (e) {\n    var isTableAlign = e.value === 'Table' ? true : false;\n    var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n    var save = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n\n    if (!isTableAlign) {\n      this.parent.domNode.setMarker(save);\n      var alignmentNodes = this.parent.domNode.blockNodes();\n\n      for (var i = 0; i < alignmentNodes.length; i++) {\n        var parentNode = alignmentNodes[i];\n        setStyleAttribute(parentNode, {\n          'text-align': this.alignments[e.subCommand]\n        });\n      }\n\n      var imageTags = this.parent.domNode.getImageTagInSelection();\n\n      for (var i = 0; i < imageTags.length; i++) {\n        var elementNode = [];\n        elementNode.push(imageTags[i]);\n        this.parent.imgObj.imageCommand({\n          item: {\n            selectNode: elementNode\n          },\n          subCommand: e.subCommand,\n          value: e.subCommand,\n          callBack: e.callBack,\n          selector: e.selector\n        });\n      }\n\n      this.parent.editableElement.focus();\n      save = this.parent.domNode.saveMarker(save);\n\n      if (isIDevice()) {\n        setEditFrameFocus(this.parent.editableElement, e.selector);\n      }\n\n      save.restore();\n    } else {\n      setStyleAttribute(this.getTableNode(range)[0], {\n        'text-align': this.alignments[e.subCommand]\n      });\n    }\n\n    if (e.callBack) {\n      e.callBack({\n        requestType: e.subCommand,\n        editorMode: 'HTML',\n        event: e.event,\n        range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n        elements: isTableAlign ? this.getTableNode(range) : this.parent.domNode.blockNodes()\n      });\n    }\n  };\n\n  return Alignments;\n}();\n\nexport { Alignments };","map":{"version":3,"sources":["/Users/yasaman/Documents/moj_adminpanel/adminpanel/node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/alignments.js"],"names":["CONSTANT","setStyleAttribute","closest","EVENTS","isIDevice","setEditFrameFocus","Alignments","parent","alignments","addEventListener","prototype","observer","on","ALIGNMENT_TYPE","applyAlignment","KEY_DOWN_HANDLER","onKeyDown","e","event","action","subCommand","callBack","preventDefault","getTableNode","range","startNode","startContainer","nodeType","Node","ELEMENT_NODE","parentNode","cellNode","isTableAlign","value","nodeSelection","getRange","currentDocument","save","domNode","setMarker","alignmentNodes","blockNodes","i","length","imageTags","getImageTagInSelection","elementNode","push","imgObj","imageCommand","item","selectNode","selector","editableElement","focus","saveMarker","restore","requestType","editorMode","elements"],"mappings":"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","sourcesContent":["import * as CONSTANT from './../base/constant';\nimport { setStyleAttribute, closest } from '@syncfusion/ej2-base';\nimport * as EVENTS from './../../common/constant';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\n/**\n * Formats internal component\n *\n * @hidden\n\n */\nvar Alignments = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element.\n     * @returns {void}\n     * @hidden\n\n     */\n    function Alignments(parent) {\n        this.alignments = {\n            'JustifyLeft': 'left',\n            'JustifyCenter': 'center',\n            'JustifyRight': 'right',\n            'JustifyFull': 'justify'\n        };\n        this.parent = parent;\n        this.addEventListener();\n    }\n    Alignments.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.ALIGNMENT_TYPE, this.applyAlignment, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown, this);\n    };\n    Alignments.prototype.onKeyDown = function (e) {\n        switch (e.event.action) {\n            case 'justify-center':\n                this.applyAlignment({ subCommand: 'JustifyCenter', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n            case 'justify-full':\n                this.applyAlignment({ subCommand: 'JustifyFull', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n            case 'justify-left':\n                this.applyAlignment({ subCommand: 'JustifyLeft', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n            case 'justify-right':\n                this.applyAlignment({ subCommand: 'JustifyRight', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n        }\n    };\n    Alignments.prototype.getTableNode = function (range) {\n        var startNode = range.startContainer.nodeType === Node.ELEMENT_NODE\n            ? range.startContainer : range.startContainer.parentNode;\n        var cellNode = closest(startNode, 'td,th');\n        return [cellNode];\n    };\n    Alignments.prototype.applyAlignment = function (e) {\n        var isTableAlign = e.value === 'Table' ? true : false;\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        var save = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n        if (!isTableAlign) {\n            this.parent.domNode.setMarker(save);\n            var alignmentNodes = this.parent.domNode.blockNodes();\n            for (var i = 0; i < alignmentNodes.length; i++) {\n                var parentNode = alignmentNodes[i];\n                setStyleAttribute(parentNode, { 'text-align': this.alignments[e.subCommand] });\n            }\n            var imageTags = this.parent.domNode.getImageTagInSelection();\n            for (var i = 0; i < imageTags.length; i++) {\n                var elementNode = [];\n                elementNode.push(imageTags[i]);\n                this.parent.imgObj.imageCommand({\n                    item: {\n                        selectNode: elementNode\n                    },\n                    subCommand: e.subCommand,\n                    value: e.subCommand,\n                    callBack: e.callBack,\n                    selector: e.selector\n                });\n            }\n            this.parent.editableElement.focus();\n            save = this.parent.domNode.saveMarker(save);\n            if (isIDevice()) {\n                setEditFrameFocus(this.parent.editableElement, e.selector);\n            }\n            save.restore();\n        }\n        else {\n            setStyleAttribute(this.getTableNode(range)[0], { 'text-align': this.alignments[e.subCommand] });\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: (isTableAlign ? this.getTableNode(range) : this.parent.domNode.blockNodes())\n            });\n        }\n    };\n    return Alignments;\n}());\nexport { Alignments };\n"]},"metadata":{},"sourceType":"module"}