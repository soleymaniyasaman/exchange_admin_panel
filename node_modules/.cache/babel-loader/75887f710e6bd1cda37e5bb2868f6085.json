{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Component, Property, NotifyPropertyChanges, isUndefined } from '@syncfusion/ej2-base';\nimport { Collection, Draggable, isNullOrUndefined, append, setValue } from '@syncfusion/ej2-base';\nimport { Event, formatUnit, ChildProperty, compile, closest, SanitizeHtmlHelper, getValue } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, addClass, detach, removeClass, EventHandler, Browser, extend } from '@syncfusion/ej2-base'; // constant class definitions\n\nvar preventSelect = 'e-prevent';\nvar dragging = 'e-dragging';\nvar draggable = 'e-draggable';\nvar dragRestrict = 'e-drag-restrict';\nvar drag = 'e-drag';\nvar resize = 'e-resize';\nvar resizeicon = 'e-dl-icon';\nvar responsive = 'e-responsive';\nvar east = 'e-east';\nvar west = 'e-west';\nvar north = 'e-north';\nvar south = 'e-south';\nvar single = 'e-single';\nvar double = 'e-double';\nvar northEast = 'e-north-east';\nvar southEast = 'e-south-east';\nvar northWest = 'e-north-west';\nvar southWest = 'e-south-west';\nvar panel = 'e-panel';\nvar panelContent = 'e-panel-content';\nvar panelContainer = 'e-panel-container';\nvar disable = 'e-disabled';\nvar header = 'e-panel-header';\nvar panelTransition = 'e-panel-transition';\n/**\n * Defines the panel of the DashboardLayout component.\n */\n\nvar Panel =\n/** @class */\nfunction (_super) {\n  __extends(Panel, _super);\n\n  function Panel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property('')], Panel.prototype, \"id\", void 0);\n\n  __decorate([Property('')], Panel.prototype, \"cssClass\", void 0);\n\n  __decorate([Property('')], Panel.prototype, \"header\", void 0);\n\n  __decorate([Property('')], Panel.prototype, \"content\", void 0);\n\n  __decorate([Property(true)], Panel.prototype, \"enabled\", void 0);\n\n  __decorate([Property(0)], Panel.prototype, \"row\", void 0);\n\n  __decorate([Property(0)], Panel.prototype, \"col\", void 0);\n\n  __decorate([Property(1)], Panel.prototype, \"sizeX\", void 0);\n\n  __decorate([Property(1)], Panel.prototype, \"sizeY\", void 0);\n\n  __decorate([Property(1)], Panel.prototype, \"minSizeY\", void 0);\n\n  __decorate([Property(1)], Panel.prototype, \"minSizeX\", void 0);\n\n  __decorate([Property(null)], Panel.prototype, \"maxSizeY\", void 0);\n\n  __decorate([Property(null)], Panel.prototype, \"maxSizeX\", void 0);\n\n  __decorate([Property(1000)], Panel.prototype, \"zIndex\", void 0);\n\n  return Panel;\n}(ChildProperty);\n\nexport { Panel };\n/**\n * The DashboardLayout is a grid structured layout control, that helps to create a dashboard with panels.\n * Panels hold the UI components or data to be visualized with flexible options like resize, reorder, drag-n-drop, remove and add,\n * that allows users to easily place the panels at a desired position within the grid layout.\n * ```html\n * <div id=\"default-layout\">\n * ```\n * ```typescript\n * <script>\n *   let dashBoardObject : DashboardLayout = new DashboardLayout();\n *   dashBoardObject.appendTo('#default-layout');\n * </script>\n * ```\n */\n\nvar DashboardLayout =\n/** @class */\nfunction (_super) {\n  __extends(DashboardLayout, _super);\n\n  function DashboardLayout(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.rows = 1;\n    _this.panelID = 0;\n    _this.movePanelCalled = false;\n    _this.resizeCalled = false;\n    _this.mOffX = 0;\n    _this.mOffY = 0;\n    _this.maxTop = 9999;\n    _this.maxRows = 100;\n    _this.mouseX = 0;\n    _this.mouseY = 0;\n    _this.minTop = 0;\n    _this.minLeft = 0;\n    _this.isInlineRendering = false;\n    _this.removeAllCalled = false; // to check whether removePanel is executed in mobile device\n\n    _this.isPanelRemoved = false; // to maintain sizeY in mobile device\n\n    _this.panelsSizeY = 0;\n    _this.resizeHeight = false;\n    setValue('mergePersistData', _this.mergePersistPanelData, _this);\n    return _this;\n  }\n  /**\n   * Initialize the event handler\n   *\n   * @private\n   */\n\n\n  DashboardLayout.prototype.preRender = function () {\n    this.panelCollection = [];\n    this.sortedArray = [];\n    this.gridPanelCollection = [];\n    this.overlapElement = [];\n    this.overlapElementClone = [];\n    this.overlapSubElementClone = [];\n    this.collisionChecker = {};\n    this.dragCollection = [];\n    this.elementRef = {\n      top: '',\n      left: '',\n      height: '',\n      width: ''\n    };\n    this.dimensions = [];\n    this.allItems = [];\n    this.oldRowCol = {};\n    this.availableClasses = [];\n    this.setOldRowCol();\n    this.calculateCellSize();\n    this.contentTemplateChild = [].slice.call(this.element.children);\n  };\n\n  DashboardLayout.prototype.setOldRowCol = function () {\n    for (var i = 0; i < this.panels.length; i++) {\n      if (!this.panels[i].id) {\n        this.panelPropertyChange(this.panels[i], {\n          id: 'layout_' + this.panelID.toString()\n        });\n        this.panelID = this.panelID + 1;\n      }\n\n      this.oldRowCol[this.panels[i].id] = {\n        row: this.panels[i].row,\n        col: this.panels[i].col\n      };\n    }\n  };\n\n  DashboardLayout.prototype.createPanelElement = function (cssClass, idValue) {\n    var ele = this.createElement('div');\n\n    if (cssClass && cssClass.length > 0) {\n      addClass([ele], cssClass);\n    }\n\n    if (idValue) {\n      ele.setAttribute('id', idValue);\n    }\n\n    return ele;\n  };\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns void\n   * @private\n   */\n\n\n  DashboardLayout.prototype.render = function () {\n    this.initialize();\n    this.isRenderComplete = true;\n\n    if (this.showGridLines && !this.checkMediaQuery()) {\n      this.initGridLines();\n    }\n\n    this.updateDragArea();\n    this.renderComplete();\n    this.renderReactTemplates();\n  };\n\n  DashboardLayout.prototype.initGridLines = function () {\n    this.table = document.createElement('table');\n    var tbody = document.createElement('tbody');\n    this.table.classList.add('e-dashboard-gridline-table');\n\n    for (var i = 0; i < this.maxRow(); i++) {\n      var tr = document.createElement('tr');\n\n      for (var j = 0; j < this.columns; j++) {\n        var td = document.createElement('td');\n        td.classList.add('e-dashboard-gridline');\n        this.setAttributes({\n          value: {\n            row: i.toString(),\n            col: j.toString(),\n            sizeX: '1',\n            sizeY: '1'\n          }\n        }, td);\n        td.setAttribute('id', '' + j);\n        this.setPanelPosition(td, i, j);\n        this.setHeightAndWidth(td, {\n          row: i,\n          col: j,\n          sizeX: 1,\n          sizeY: 1\n        });\n        tr.appendChild(td);\n      }\n\n      tbody.appendChild(tr);\n    }\n\n    this.table.appendChild(tbody);\n    this.element.appendChild(this.table);\n    this.renderReactTemplates();\n  };\n\n  DashboardLayout.prototype.initialize = function () {\n    this.updateRowHeight();\n\n    if (this.element.childElementCount > 0 && this.element.querySelectorAll('.e-panel').length > 0) {\n      var panelElements = [];\n      this.setProperties({\n        panels: []\n      }, true);\n      this.isInlineRendering = true;\n\n      for (var i = 0; i < this.element.querySelectorAll('.e-panel').length; i++) {\n        panelElements.push(this.element.querySelectorAll('.e-panel')[i]);\n      }\n\n      for (var i = 0; i < panelElements.length; i++) {\n        var panelElement = panelElements[i];\n\n        if (this.enableRtl) {\n          addClass([panelElement], 'e-rtl');\n        }\n\n        this.getInlinePanels(panelElement);\n        this.maxCol();\n        this.maxRow();\n      }\n\n      for (var i = 0; i < this.panels.length; i++) {\n        var panelElement = this.element.querySelector('#' + this.panels[i].id);\n        this.setMinMaxValues(this.panels[i]);\n\n        if (this.maxColumnValue < this.panels[i].col || this.maxColumnValue < this.panels[i].col + this.panels[i].sizeX) {\n          var colValue = this.maxColumnValue - this.panels[i].sizeX;\n          this.panelPropertyChange(this.panels[i], {\n            col: colValue < 0 ? 0 : colValue\n          });\n        }\n\n        this.setXYAttributes(panelElement, this.panels[i]);\n        var panel_1 = this.renderPanels(panelElement, this.panels[i], this.panels[i].id, false);\n        this.panelCollection.push(panel_1);\n        this.setHeightAndWidth(panelElement, this.panels[i]);\n        this.tempObject = this;\n\n        if (this.mediaQuery && !window.matchMedia('(' + this.mediaQuery + ')').matches) {\n          this.setPanelPosition(panelElement, this.panels[i].row, this.panels[i].col);\n          this.mainElement = panelElement;\n          this.updatePanelLayout(panelElement, this.panels[i]);\n          this.mainElement = null;\n        }\n\n        this.setClasses([panelElement]);\n      }\n\n      this.updateOldRowColumn();\n\n      if (this.checkMediaQuery()) {\n        this.checkMediaQuerySizing();\n      }\n    } else {\n      this.renderDashBoardCells(this.panels);\n    }\n\n    if (this.allowDragging && (this.mediaQuery ? !window.matchMedia('(' + this.mediaQuery + ')').matches : true)) {\n      this.enableDraggingContent(this.panelCollection);\n    }\n\n    this.sortedPanel();\n    this.bindEvents();\n    this.updatePanels();\n    this.updateCloneArrayObject();\n    this.checkColumnValue = this.maxColumnValue;\n\n    if (!this.checkMediaQuery()) {\n      this.panelResponsiveUpdate();\n    }\n\n    this.setEnableRtl();\n  };\n\n  DashboardLayout.prototype.checkMediaQuery = function () {\n    return this.mediaQuery && window.matchMedia('(' + this.mediaQuery + ')').matches;\n  };\n\n  DashboardLayout.prototype.calculateCellSize = function () {\n    this.cellSize = [];\n\n    if (this.checkMediaQuery()) {\n      this.cellSize[1] = this.element.parentElement && this.element.parentElement.offsetWidth / this.cellAspectRatio;\n    } else {\n      this.cellSize[0] = this.element.parentElement && this.element.parentElement.offsetWidth;\n      this.cellSize[0] = this.element.parentElement && (this.element.parentElement.offsetWidth - (this.maxCol() - 1) * this.cellSpacing[0]) / this.maxCol();\n      this.cellSize[1] = this.cellSize[0] / this.cellAspectRatio;\n    }\n  };\n\n  DashboardLayout.prototype.maxRow = function (recheck) {\n    var maxRow = 1;\n\n    if (this.rows > 1 && isNullOrUndefined(recheck)) {\n      maxRow = this.rows;\n      return maxRow;\n    }\n\n    for (var i = 0; i < this.panels.length; i++) {\n      if (this.panels[i].sizeY + this.panels[i].row > maxRow) {\n        maxRow = this.panels[i].sizeY + this.panels[i].row;\n      }\n    }\n\n    if (this.panels.length === 0) {\n      maxRow = this.columns;\n    }\n\n    return maxRow;\n  };\n\n  DashboardLayout.prototype.maxCol = function () {\n    var maxCol = 1;\n    maxCol = this.columns;\n    this.maxColumnValue = maxCol;\n    return maxCol;\n  };\n\n  DashboardLayout.prototype.updateOldRowColumn = function () {\n    for (var i = 0; i < this.panels.length; i++) {\n      var id = this.panels[i].id;\n\n      if (document.getElementById(id)) {\n        var row = parseInt(document.getElementById(id).getAttribute('data-row'), 10);\n        var col = parseInt(document.getElementById(id).getAttribute('data-col'), 10);\n        this.oldRowCol[this.panels[i].id] = {\n          row: row,\n          col: col\n        };\n      } else {\n        continue;\n      }\n    }\n  };\n\n  DashboardLayout.prototype.createSubElement = function (cssClass, idValue, className) {\n    var element = this.createElement('div');\n\n    if (className) {\n      addClass([element], [className]);\n    }\n\n    if (cssClass && cssClass.length > 0) {\n      addClass([element], cssClass);\n    }\n\n    if (idValue) {\n      element.setAttribute('id', idValue);\n    }\n\n    return element;\n  }; // eslint-disable-next-line\n\n\n  DashboardLayout.prototype.templateParser = function (template) {\n    if (template) {\n      try {\n        if (document.querySelectorAll(template).length) {\n          return compile(document.querySelector(template).innerHTML.trim());\n        }\n      } catch (error) {\n        var sanitizedValue = SanitizeHtmlHelper.sanitize(template);\n        return compile(this.enableHtmlSanitizer && typeof template === 'string' ? sanitizedValue : template);\n      }\n    }\n\n    return undefined;\n  };\n\n  DashboardLayout.prototype.renderTemplate = function (content, appendElement, type, isStringTemplate, prop) {\n    // eslint-disable-next-line\n    var templateFn = this.templateParser(content);\n    var templateElements = [];\n\n    if ((content[0] === '.' || content[0] === '#') && document.querySelector(content).tagName !== 'SCRIPT') {\n      var eleVal = document.querySelector(content);\n\n      if (!isNullOrUndefined(eleVal)) {\n        if (eleVal.style.display === 'none') {\n          eleVal.style.removeProperty('display');\n        }\n\n        if (eleVal.getAttribute('style') === '') {\n          eleVal.removeAttribute('style');\n        }\n\n        appendElement.appendChild(eleVal);\n        return;\n      } else {\n        content = content.trim();\n      }\n    } else {\n      // eslint-disable-next-line\n      var compilerFn = templateFn({}, this, prop, type, isStringTemplate, null, appendElement);\n\n      if (compilerFn) {\n        for (var _i = 0, compilerFn_1 = compilerFn; _i < compilerFn_1.length; _i++) {\n          var item = compilerFn_1[_i];\n          templateElements.push(item);\n        }\n\n        append([].slice.call(templateElements), appendElement);\n      }\n    }\n  };\n\n  DashboardLayout.prototype.renderPanels = function (cellElement, panelModel, panelId, isStringTemplate) {\n    addClass([cellElement], [panel, panelTransition]);\n    var cssClass = panelModel.cssClass ? panelModel.cssClass.split(' ') : null;\n    this.panelContent = cellElement.querySelector('.e-panel-container') ? cellElement.querySelector('.e-panel-container') : this.createSubElement(cssClass, cellElement.id + '_content', panelContainer);\n    cellElement.appendChild(this.panelContent);\n\n    if (!panelModel.enabled) {\n      this.disablePanel(cellElement);\n    }\n\n    if (panelModel.header) {\n      var headerTemplateElement = cellElement.querySelector('.e-panel-header') ? cellElement.querySelector('.e-panel-header') : this.createSubElement([], cellElement.id + 'template', '');\n      addClass([headerTemplateElement], [header]);\n\n      if (!cellElement.querySelector('.e-panel-header')) {\n        var id = this.element.id + 'HeaderTemplate' + panelId;\n        this.renderTemplate(panelModel.header, headerTemplateElement, id, isStringTemplate, 'header');\n        this.panelContent.appendChild(headerTemplateElement);\n        this.renderReactTemplates();\n      }\n    }\n\n    if (panelModel.content) {\n      var cssClass_1 = panelModel.cssClass ? panelModel.cssClass.split(' ') : null;\n      this.panelBody = cellElement.querySelector('.e-panel-content') ? cellElement.querySelector('.e-panel-content') : this.createSubElement(cssClass_1, cellElement.id + '_body', panelContent);\n      var headerHeight = this.panelContent.querySelector('.e-panel-header') ? window.getComputedStyle(this.panelContent.querySelector('.e-panel-header')).height : '0px';\n      var contentHeightValue = 'calc( 100% - ' + headerHeight + ')';\n      setStyle(this.panelBody, {\n        height: contentHeightValue\n      });\n\n      if (!cellElement.querySelector('.e-panel-content')) {\n        var id = this.element.id + 'ContentTemplate' + panelId;\n        this.renderTemplate(panelModel.content, this.panelBody, id, isStringTemplate, 'content');\n        this.panelContent.appendChild(this.panelBody);\n        this.renderReactTemplates();\n      }\n    }\n\n    return cellElement;\n  };\n\n  DashboardLayout.prototype.disablePanel = function (panelElement) {\n    addClass([panelElement], [disable]);\n  };\n\n  DashboardLayout.prototype.getInlinePanels = function (panelElement) {\n    var model = {\n      sizeX: panelElement.hasAttribute('data-sizex') ? parseInt(panelElement.getAttribute('data-sizex'), 10) : 1,\n      sizeY: panelElement.hasAttribute('data-sizey') ? parseInt(panelElement.getAttribute('data-sizey'), 10) : 1,\n      minSizeX: panelElement.hasAttribute('data-minsizex') ? parseInt(panelElement.getAttribute('data-minsizex'), 10) : 1,\n      minSizeY: panelElement.hasAttribute('data-minsizey') ? parseInt(panelElement.getAttribute('data-minsizey'), 10) : 1,\n      maxSizeX: panelElement.hasAttribute('data-maxsizex') ? parseInt(panelElement.getAttribute('data-maxsizex'), 10) : null,\n      maxSizeY: panelElement.hasAttribute('data-maxsizey') ? parseInt(panelElement.getAttribute('data-maxsizey'), 10) : null,\n      row: panelElement.hasAttribute('data-row') ? parseInt(panelElement.getAttribute('data-row'), 10) : 0,\n      col: panelElement.hasAttribute('data-col') ? parseInt(panelElement.getAttribute('data-col'), 10) : 0,\n      id: panelElement.getAttribute('id'),\n      zIndex: panelElement.hasAttribute('data-zindex') ? parseInt(panelElement.getAttribute('data-zIndex'), 10) : 1000,\n      header: panelElement.querySelector('.e-panel-header') && '.e-panel-header',\n      content: panelElement.querySelector('.e-panel-content') && '.e-panel-content'\n    };\n\n    if (!model.id) {\n      model.id = 'layout_' + this.panelID.toString();\n      panelElement.setAttribute('id', model.id);\n      this.panelID = this.panelID + 1;\n    }\n\n    if (isUndefined(model.enabled)) {\n      model.enabled = true;\n    }\n\n    panelElement.style.zIndex = '' + model.zIndex; // eslint-disable-next-line\n\n    var panelProp = new Panel(this, 'panels', model, true);\n    this.panels.push(panelProp);\n  };\n\n  DashboardLayout.prototype.resizeEvents = function () {\n    if (this.allowResizing) {\n      var panelElements = this.element.querySelectorAll('.e-panel .e-panel-container .e-resize');\n\n      for (var i = 0; i < panelElements.length; i++) {\n        var eventName = Browser.info.name === 'msie' ? 'mousedown pointerdown' : 'mousedown';\n        EventHandler.add(panelElements[i], eventName, this.downResizeHandler, this);\n\n        if (Browser.info.name !== 'msie') {\n          EventHandler.add(panelElements[i], 'touchstart', this.touchDownResizeHandler, this);\n        }\n      }\n    }\n  };\n\n  DashboardLayout.prototype.bindEvents = function () {\n    this.refreshListener = this.refresh.bind(this); // eslint-disable-next-line\n\n    EventHandler.add(window, 'resize', this.refreshListener);\n    this.resizeEvents();\n  };\n\n  DashboardLayout.prototype.downResizeHandler = function (e) {\n    this.downHandler(e);\n    this.lastMouseX = e.pageX;\n    this.lastMouseY = e.pageY;\n    var moveEventName = Browser.info.name === 'msie' ? 'mousemove pointermove' : 'mousemove';\n    var upEventName = Browser.info.name === 'msie' ? 'mouseup pointerup' : 'mouseup';\n\n    if (!this.isMouseMoveBound) {\n      EventHandler.add(document, moveEventName, this.moveResizeHandler, this);\n      this.isMouseMoveBound = true;\n    }\n\n    if (!this.isMouseUpBound) {\n      EventHandler.add(document, upEventName, this.upResizeHandler, this);\n      this.isMouseUpBound = true;\n    }\n  };\n\n  DashboardLayout.prototype.downHandler = function (e) {\n    this.resizeCalled = false;\n    this.panelsInitialModel = this.cloneModels(this.panels);\n    var el = closest(e.currentTarget, '.e-panel');\n    var args = {\n      event: e,\n      element: el,\n      isInteracted: true\n    };\n    this.trigger('resizeStart', args);\n    this.downTarget = e.currentTarget;\n    this.shadowEle = document.createElement('div');\n    this.shadowEle.classList.add('e-holder');\n    addClass([this.element], [preventSelect]);\n    this.element.appendChild(this.shadowEle);\n    this.renderReactTemplates();\n    this.elementX = parseFloat(el.style.left);\n    this.elementY = parseFloat(el.style.top);\n    this.elementWidth = el.offsetWidth;\n    this.elementHeight = el.offsetHeight;\n    this.originalWidth = this.getCellInstance(el.id).sizeX;\n    this.originalHeight = this.getCellInstance(el.id).sizeY;\n    this.previousRow = this.getCellInstance(el.id).row;\n  };\n\n  DashboardLayout.prototype.touchDownResizeHandler = function (e) {\n    this.downHandler(e);\n    this.lastMouseX = e.changedTouches[0].pageX;\n    this.lastMouseY = e.changedTouches[0].pageY;\n\n    if (!this.isMouseMoveBound) {\n      EventHandler.add(document, 'touchmove', this.touchMoveResizeHandler, this);\n      this.isMouseMoveBound = true;\n    }\n\n    if (!this.isMouseUpBound) {\n      EventHandler.add(document, 'touchend', this.upResizeHandler, this);\n      this.isMouseUpBound = true;\n    }\n  };\n\n  DashboardLayout.prototype.getCellSize = function () {\n    return [this.cellSize[0], this.cellSize[1]];\n  };\n\n  DashboardLayout.prototype.updateMaxTopLeft = function (e) {\n    this.moveTarget = this.downTarget;\n    var el = closest(this.moveTarget, '.e-panel');\n    var args = {\n      event: e,\n      element: el,\n      isInteracted: true\n    };\n    this.trigger('resize', args);\n  };\n\n  DashboardLayout.prototype.updateResizeElement = function (el) {\n    this.maxLeft = this.element.offsetWidth - 1;\n    this.maxTop = this.cellSize[1] * this.maxRows - 1;\n    removeClass([el], 'e-panel-transition');\n    addClass([el], [dragging]);\n    var handleArray = [east, west, north, south, southEast, northEast, northWest, southWest];\n\n    for (var i = 0; i < this.moveTarget.classList.length; i++) {\n      if (handleArray.indexOf(this.moveTarget.classList[i]) !== -1) {\n        this.handleClass = this.moveTarget.classList[i];\n      }\n    }\n  };\n\n  DashboardLayout.prototype.moveResizeHandler = function (e) {\n    this.updateMaxTopLeft(e);\n    var el = closest(this.moveTarget, '.e-panel');\n\n    if (this.lastMouseX === e.pageX || this.lastMouseY === e.pageY) {\n      return;\n    }\n\n    this.updateResizeElement(el);\n    var panelModel = this.getCellInstance(el.getAttribute('id'));\n    this.mouseX = e.pageX;\n    this.mouseY = e.pageY;\n    var diffY = this.mouseY - this.lastMouseY + this.mOffY;\n    var diffX = this.mouseX - this.lastMouseX + this.mOffX;\n    this.mOffX = this.mOffY = 0;\n    this.lastMouseY = this.mouseY;\n    this.lastMouseX = this.mouseX;\n    this.resizingPanel(el, panelModel, diffX, diffY);\n  };\n\n  DashboardLayout.prototype.touchMoveResizeHandler = function (e) {\n    this.updateMaxTopLeft(e);\n    var el = closest(this.moveTarget, '.e-panel');\n\n    if (this.lastMouseX === e.changedTouches[0].pageX || this.lastMouseY === e.changedTouches[0].pageY) {\n      return;\n    }\n\n    this.updateResizeElement(el);\n    var panelModel = this.getCellInstance(el.getAttribute('id'));\n    this.mouseX = e.changedTouches[0].pageX;\n    this.mouseY = e.changedTouches[0].pageY;\n    var diffX = this.mouseX - this.lastMouseX + this.mOffX;\n    var diffY = this.mouseY - this.lastMouseY + this.mOffY;\n    this.mOffX = this.mOffY = 0;\n    this.lastMouseX = this.mouseX;\n    this.lastMouseY = this.mouseY;\n    this.resizingPanel(el, panelModel, diffX, diffY);\n  };\n  /* istanbul ignore next */\n\n\n  DashboardLayout.prototype.resizingPanel = function (el, panelModel, currentX, currentY) {\n    var oldSizeX = this.getCellInstance(el.id).sizeX;\n    var oldSizeY = this.getCellInstance(el.id).sizeY;\n    var dY = currentY;\n    var dX = currentX;\n\n    if (this.handleClass.indexOf('north') >= 0) {\n      if (this.elementHeight - dY < this.getMinHeight(panelModel)) {\n        currentY = this.elementHeight - this.getMinHeight(panelModel);\n        this.mOffY = dY - currentY;\n      } else if (panelModel.maxSizeY && this.elementHeight - dY > this.getMaxHeight(panelModel)) {\n        currentY = this.elementHeight - this.getMaxHeight(panelModel);\n        this.mOffY = dY - currentY;\n      } else if (this.elementY + dY < this.minTop) {\n        currentY = this.minTop - this.elementY;\n        this.mOffY = dY - currentY;\n      }\n\n      this.elementY += currentY;\n      this.elementHeight -= currentY;\n    }\n\n    if (this.handleClass.indexOf('south') >= 0) {\n      if (this.elementHeight + dY < this.getMinHeight(panelModel)) {\n        currentY = this.getMinHeight(panelModel) - this.elementHeight;\n        this.mOffY = dY - currentY;\n      } else if (panelModel.maxSizeY && this.elementHeight + dY > this.getMaxHeight(panelModel)) {\n        currentY = this.getMaxHeight(panelModel) - this.elementHeight;\n        this.mOffY = dY - currentY;\n      }\n\n      this.elementHeight += currentY;\n    }\n\n    if (this.handleClass.indexOf('west') >= 0) {\n      if (this.elementWidth - dX < this.getMinWidth(panelModel)) {\n        currentX = this.elementWidth - this.getMinWidth(panelModel);\n        this.mOffX = dX - currentX;\n      } else if (panelModel.maxSizeX && this.elementWidth - dX > this.getMaxWidth(panelModel)) {\n        currentX = this.elementWidth - this.getMaxWidth(panelModel);\n        this.mOffX = dX - currentX;\n      } else if (this.elementX + dX < this.minLeft) {\n        currentX = this.minLeft - this.elementX;\n        this.mOffX = dX - currentX;\n      }\n\n      this.elementX += currentX;\n      this.elementWidth -= currentX;\n    }\n\n    if (this.handleClass.indexOf('east') >= 0) {\n      if (this.elementWidth + dX < this.getMinWidth(panelModel)) {\n        currentX = this.getMinWidth(panelModel) - this.elementWidth;\n        this.mOffX = dX - currentX;\n      } else if (panelModel.maxSizeX && this.elementWidth + dX > this.getMaxWidth(panelModel)) {\n        currentX = this.getMaxWidth(panelModel) - this.elementWidth;\n        this.mOffX = dX - currentX;\n      }\n\n      this.elementWidth += currentX;\n    }\n\n    el.style.top = this.elementY + 'px';\n    el.style.left = this.elementX + 'px';\n    el.style.width = this.elementWidth + 'px';\n    el.style.height = this.elementHeight + 'px';\n    var item = this.getResizeRowColumn(panelModel);\n\n    if (item.col + item.sizeX > this.columns) {\n      this.panelPropertyChange(item, {\n        sizeX: item.sizeX - 1\n      });\n    }\n\n    this.shadowEle.style.top = item.row * this.getCellSize()[1] + item.row * this.cellSpacing[1] + 'px';\n    this.shadowEle.style.left = item.col * this.getCellSize()[0] + item.col * this.cellSpacing[0] + 'px';\n    this.shadowEle.style.height = item.sizeY * (this.getCellSize()[1] + this.cellSpacing[1]) + 'px';\n    this.shadowEle.style.width = item.sizeX * (this.getCellSize()[0] + this.cellSpacing[0]) + 'px';\n\n    if (oldSizeX !== item.sizeX || oldSizeY !== item.sizeY) {\n      oldSizeX = item.sizeX;\n      oldSizeY = item.sizeY;\n      var model = this.getCellInstance(el.id);\n      var value = {\n        attributes: {\n          row: model.row.toString(),\n          col: model.col.toString(),\n          sizeX: model.sizeX.toString(),\n          sizeY: model.sizeY.toString()\n        }\n      };\n      this.setAttributes(value, el);\n      this.mainElement = el;\n      this.updatePanelLayout(el, this.getCellInstance(el.id));\n      this.updateOldRowColumn();\n      this.sortedPanel();\n    }\n  };\n\n  DashboardLayout.prototype.upResizeHandler = function (e) {\n    if (isNullOrUndefined(this.downTarget)) {\n      return;\n    }\n\n    this.upTarget = this.downTarget;\n    var el = closest(this.upTarget, '.e-panel');\n    var args = {\n      event: e,\n      element: el,\n      isInteracted: true\n    };\n\n    if (el) {\n      addClass([el], 'e-panel-transition');\n      var moveEventName = Browser.info.name === 'msie' ? 'mousemove pointermove' : 'mousemove';\n      var upEventName = Browser.info.name === 'msie' ? 'mouseup pointerup' : 'mouseup';\n      EventHandler.remove(document, moveEventName, this.moveResizeHandler);\n      EventHandler.remove(document, upEventName, this.upResizeHandler);\n\n      if (Browser.info.name !== 'msie') {\n        EventHandler.remove(document, 'touchmove', this.touchMoveResizeHandler);\n        EventHandler.remove(document, 'touchend', this.upResizeHandler);\n      }\n\n      this.isMouseUpBound = false;\n      this.isMouseMoveBound = false;\n\n      if (this.shadowEle) {\n        detach(this.shadowEle);\n      }\n\n      this.shadowEle = null;\n      var panelModel = this.getCellInstance(el.getAttribute('id'));\n      this.setPanelPosition(el, panelModel.row, panelModel.col);\n      this.setHeightAndWidth(el, panelModel);\n    }\n\n    removeClass([el], [dragging]);\n    this.trigger('resizeStop', args);\n    this.resizeCalled = false;\n    this.lastMouseX = this.lastMouseY = undefined;\n    this.mOffX = this.mOffY = 0;\n    this.mainElement = null;\n\n    if (this.allowFloating) {\n      this.moveItemsUpwards();\n    }\n\n    this.updatePanels();\n    this.updateCloneArrayObject();\n    this.checkForChanges(true);\n  };\n\n  DashboardLayout.prototype.getResizeRowColumn = function (item) {\n    var isChanged = false;\n    var col = item.col;\n\n    if (['e-west', 'e-south-west'].indexOf(this.handleClass) !== -1) {\n      col = this.pixelsToColumns(this.elementX, false);\n    }\n\n    var row = item.row;\n\n    if (['e-north'].indexOf(this.handleClass) !== -1) {\n      row = this.pixelsToRows(this.elementY, false);\n\n      if (this.previousRow !== row) {\n        this.previousRow = row;\n        isChanged = true;\n      }\n    }\n\n    var sizeX = item.sizeX;\n\n    if (['e-north', 'e-south'].indexOf(this.handleClass) === -1) {\n      sizeX = this.pixelsToColumns(this.elementWidth - sizeX * this.cellSpacing[1], true);\n    }\n\n    var sizeY = item.sizeY;\n\n    if (['e-east', 'e-west'].indexOf(this.handleClass) === -1) {\n      if (this.handleClass === 'e-north' ? isChanged : true) {\n        sizeY = this.pixelsToRows(this.elementHeight - sizeY * this.cellSpacing[0], true);\n      }\n    }\n\n    if (item.col + item.sizeX > this.columns) {\n      item.sizeX = item.sizeX - 1;\n    }\n\n    var canOccupy = row > -1 && col > -1 && sizeX + col <= this.maxCol() && sizeY + row <= this.maxRow();\n\n    if (canOccupy && this.collisions(row, col, sizeX, sizeY, this.getPanelBase(item.id)).length === 0 || this.allowPushing !== false) {\n      this.panelPropertyChange(item, {\n        row: row,\n        col: col,\n        sizeX: sizeX,\n        sizeY: sizeY\n      });\n    }\n\n    return item;\n  };\n\n  DashboardLayout.prototype.pixelsToColumns = function (pixels, isCeil) {\n    var curColWidth = this.cellSize[0];\n\n    if (isCeil) {\n      return Math.ceil(pixels / curColWidth);\n    } else {\n      return Math.floor(pixels / curColWidth);\n    }\n  };\n\n  DashboardLayout.prototype.pixelsToRows = function (pixels, isCeil) {\n    if (isCeil) {\n      return Math.round(pixels / this.cellSize[1]);\n    } else {\n      return Math.round(pixels / (this.cellSize[1] + this.cellSpacing[0]));\n    }\n  };\n\n  DashboardLayout.prototype.getMinWidth = function (item) {\n    return item.minSizeX * this.getCellSize()[0];\n  };\n\n  DashboardLayout.prototype.getMaxWidth = function (item) {\n    return item.maxSizeX * this.getCellSize()[0];\n  };\n\n  DashboardLayout.prototype.getMinHeight = function (item) {\n    return item.minSizeY * this.getCellSize()[1];\n  };\n\n  DashboardLayout.prototype.getMaxHeight = function (item) {\n    return item.maxSizeY * this.getCellSize()[1];\n  };\n\n  DashboardLayout.prototype.sortedPanel = function () {\n    this.sortedArray = [];\n\n    for (var i = 0, l = this.panelCollection.length; i < l; ++i) {\n      this.sortItem(this.panelCollection[i]);\n    }\n  };\n\n  DashboardLayout.prototype.moveItemsUpwards = function () {\n    if (this.allowFloating === false) {\n      return;\n    }\n\n    for (var rowIndex = 0, l = this.sortedArray.length; rowIndex < l; ++rowIndex) {\n      var columns = this.sortedArray[rowIndex];\n\n      if (!columns) {\n        continue;\n      }\n\n      for (var colIndex = 0, len = columns.length; colIndex < len; ++colIndex) {\n        var item = columns[colIndex];\n\n        if (item) {\n          this.moveItemUpwards(item);\n        }\n      }\n    }\n\n    this.updateGridLines();\n  };\n\n  DashboardLayout.prototype.moveItemUpwards = function (item) {\n    if (this.allowFloating === false || item === this.mainElement) {\n      return;\n    }\n\n    var colIndex = this.getCellInstance(item.id).col;\n    var sizeY = parseInt(item.getAttribute('data-sizeY'), 10);\n    var sizeX = parseInt(item.getAttribute('data-sizeX'), 10);\n    var availableRow = null;\n    var availableColumn = null;\n    var rowIndex = parseInt(item.getAttribute('data-row'), 10) - 1;\n\n    while (rowIndex > -1) {\n      var items = this.collisions(rowIndex, colIndex, sizeX, sizeY, item);\n\n      if (items.length !== 0) {\n        break;\n      }\n\n      availableRow = rowIndex;\n      availableColumn = colIndex;\n      --rowIndex;\n    }\n\n    if (availableRow !== null) {\n      this.sortItem(item, availableRow, availableColumn);\n    }\n  };\n\n  DashboardLayout.prototype.sortItem = function (item, rowValue, columnValue) {\n    this.overlapElement = [];\n    var column = parseInt(item.getAttribute('data-col'), 10);\n    var row = parseInt(item.getAttribute('data-row'), 10);\n\n    if (!this.sortedArray[row]) {\n      this.sortedArray[row] = [];\n    }\n\n    this.sortedArray[row][column] = item;\n\n    if (item !== undefined && rowValue !== undefined && columnValue !== undefined) {\n      if (this.oldRowCol[item.id] !== undefined && this.oldRowCol[item.id].row !== null && typeof this.oldRowCol[item.id].col !== 'undefined') {\n        {\n          var oldRow = this.sortedArray[this.oldRowCol[item.id].row];\n\n          if (this.oldRowCol[item.id] && oldRow[this.oldRowCol[item.id].col] === item) {\n            delete oldRow[this.oldRowCol[item.id].col];\n            this.updateOldRowColumn();\n            this.sortedPanel();\n          }\n        }\n      }\n\n      this.oldRowCol[item.id].row = rowValue;\n      this.oldRowCol[item.id].row = columnValue;\n\n      if (!this.sortedArray[row]) {\n        this.sortedArray[row] = [];\n      }\n\n      this.sortedArray[row][column] = item;\n\n      if (this.allItems.indexOf(item) === -1) {\n        this.allItems.push(item);\n      }\n\n      this.panelPropertyChange(this.getCellInstance(item.id), {\n        row: rowValue,\n        col: columnValue\n      });\n      var panelModel = this.getCellInstance(item.id);\n      this.setAttributes({\n        value: {\n          col: panelModel.col.toString(),\n          row: panelModel.row.toString()\n        }\n      }, item);\n      this.updateLayout(item, this.getCellInstance(item.id));\n    }\n  };\n\n  DashboardLayout.prototype.updateLayout = function (element, panelModel) {\n    this.setPanelPosition(element, panelModel.row, panelModel.col);\n    this.setHeightAndWidth(element, panelModel);\n    this.updateRowHeight();\n    this.sortedPanel();\n  };\n\n  DashboardLayout.prototype.refresh = function () {\n    this.panelsSizeY = 0;\n    this.updateDragArea();\n\n    if (this.checkMediaQuery()) {\n      this.checkMediaQuerySizing();\n    } else {\n      if (this.element.classList.contains(responsive)) {\n        removeClass([this.element], [responsive]);\n\n        for (var i = 0; i < this.element.querySelectorAll('.e-panel').length; i++) {\n          var ele = this.element.querySelectorAll('.e-panel')[i];\n          var cellInstance = this.getCellInstance(ele.id);\n          var row = parseInt(ele.getAttribute('data-row'), 10);\n          var col = parseInt(ele.getAttribute('data-col'), 10);\n          this.panelPropertyChange(cellInstance, {\n            row: row,\n            col: col\n          });\n          this.setHeightAndWidth(ele, this.getCellInstance(ele.id));\n          this.setPanelPosition(ele, row, col);\n          this.updateRowHeight();\n        }\n      }\n\n      this.panelResponsiveUpdate();\n      this.updateGridLines();\n    }\n\n    this.removeResizeClasses(this.panelCollection);\n    this.setClasses(this.panelCollection);\n    this.resizeEvents();\n    this.checkDragging(this.dragCollection);\n  };\n\n  DashboardLayout.prototype.updateGridLines = function () {\n    if (this.element.querySelector('.e-dashboard-gridline-table')) {\n      if (this.table) {\n        detach(this.table);\n      }\n\n      this.initGridLines();\n    }\n  };\n\n  DashboardLayout.prototype.checkDragging = function (dragCollection) {\n    if (this.checkMediaQuery() || !this.allowDragging) {\n      for (var i = 0; i < dragCollection.length; i++) {\n        dragCollection[i].destroy();\n      }\n    } else {\n      for (var i = 0; i < dragCollection.length; i++) {\n        dragCollection[i].destroy();\n      }\n\n      this.enableDraggingContent(this.panelCollection);\n    }\n  };\n\n  DashboardLayout.prototype.sortPanels = function () {\n    var model = [];\n\n    var _loop_1 = function (row) {\n      var _loop_2 = function (col) {\n        this_1.panels.filter(function (panel) {\n          if (panel.row === row && panel.col === col) {\n            model.push(panel);\n          }\n        });\n      };\n\n      for (var col = 0; col < this_1.columns; col++) {\n        _loop_2(col);\n      }\n    };\n\n    var this_1 = this;\n\n    for (var row = 0; row <= this.rows; row++) {\n      _loop_1(row);\n    }\n\n    return model;\n  };\n\n  DashboardLayout.prototype.checkMediaQuerySizing = function () {\n    addClass([this.element], [responsive]);\n    var updatedPanel;\n\n    if (this.isPanelRemoved && this.panels) {\n      updatedPanel = this.panels;\n    } else {\n      updatedPanel = this.sortPanels();\n    }\n\n    this.updatedRows = updatedPanel.length;\n\n    for (var i = 0; i < updatedPanel.length; i++) {\n      var panelElement = document.getElementById(updatedPanel[i].id); // eslint-disable-next-line\n\n      var updatedHeight = void 0;\n\n      if (panelElement) {\n        setStyle(panelElement, {\n          'width': '100%'\n        });\n        panelElement.style.height = ' ' + (this.element.parentElement && this.element.parentElement.offsetWidth / this.cellAspectRatio) * updatedPanel[i].sizeY + 'px';\n\n        if (updatedPanel[i].sizeY > 1) {\n          updatedHeight = (this.element.parentElement && this.element.parentElement.offsetWidth / this.cellAspectRatio) * updatedPanel[i].sizeY + // eslint-disable-next-line radix\n          parseInt((Math.round(updatedPanel[i].sizeY / 2) * this.cellSpacing[1]).toString(), 0);\n          panelElement.style.height = '' + updatedHeight + 'px';\n        }\n\n        this.resizeHeight = true;\n        this.panelPropertyChange(updatedPanel[i], {\n          row: i,\n          col: 0\n        });\n        this.setPanelPosition(panelElement, updatedPanel[i].row, updatedPanel[i].col);\n        this.panelsSizeY = this.panelsSizeY + updatedPanel[i].sizeY;\n        this.setClasses(this.panelCollection);\n        this.checkDragging(this.dragCollection);\n        this.removeResizeClasses(this.panelCollection);\n      }\n    }\n\n    this.updateRowHeight();\n  };\n\n  DashboardLayout.prototype.panelResponsiveUpdate = function () {\n    this.element.classList.add('e-responsive');\n    this.calculateCellSize();\n\n    for (var i = 0; i < this.element.querySelectorAll('.e-panel').length; i++) {\n      var ele = this.element.querySelectorAll('.e-panel')[i];\n      var panelModel = this.getCellInstance(ele.id);\n      this.setHeightAndWidth(ele, panelModel);\n    }\n\n    for (var i = 0; i < this.panels.length; i++) {\n      this.setPanelPosition(document.getElementById(this.panels[i].id), this.panels[i].row, this.panels[i].col);\n    }\n\n    this.updateRowHeight();\n  };\n\n  DashboardLayout.prototype.updateRowHeight = function () {\n    this.getRowColumn();\n    this.setHeightWidth();\n  };\n\n  DashboardLayout.prototype.setHeightWidth = function () {\n    var heightValue;\n    var widthValue;\n\n    if (this.checkMediaQuery()) {\n      heightValue = this.maxRow() * (this.element.parentElement && this.element.parentElement.offsetWidth / this.cellAspectRatio) + (this.maxRow() - 1) * this.cellSpacing[1] + 'px';\n    } else {\n      heightValue = this.maxRow() * (this.cellSize[0] / this.cellAspectRatio) + (this.maxRow() - 1) * this.cellSpacing[1] + 'px';\n    }\n\n    setStyle(this.element, {\n      'height': heightValue\n    }); // eslint-disable-next-line prefer-const\n\n    widthValue = window.getComputedStyle(this.element).width;\n    setStyle(this.element, {\n      'width': widthValue\n    });\n  };\n\n  DashboardLayout.prototype.setHeightAndWidth = function (panelElement, panelModel) {\n    setStyle(panelElement, {\n      'height': formatUnit(this.setXYDimensions(panelModel)[0])\n    });\n    setStyle(panelElement, {\n      'width': formatUnit(this.setXYDimensions(panelModel)[1])\n    });\n  };\n\n  DashboardLayout.prototype.renderCell = function (panel, isStringTemplate, index) {\n    var cellElement;\n    this.dimensions = this.setXYDimensions(panel);\n\n    if (isUndefined(panel.enabled)) {\n      panel.enabled = true;\n    }\n\n    if (this.contentTemplateChild.length > 0 && !isNullOrUndefined(index)) {\n      cellElement = this.contentTemplateChild[index];\n\n      if (panel.cssClass) {\n        addClass([cellElement], [panel.cssClass]);\n      }\n\n      if (panel.id) {\n        cellElement.setAttribute('id', panel.id);\n      }\n    } else {\n      cellElement = this.createPanelElement(panel.cssClass ? panel.cssClass.split(' ') : null, panel.id);\n    }\n\n    cellElement.style.zIndex = '' + panel.zIndex;\n    this.element.appendChild(cellElement);\n    this.renderReactTemplates();\n    var dashBoardCell = this.renderPanels(cellElement, panel, panel.id, isStringTemplate);\n    this.panelCollection.push(dashBoardCell);\n    this.setXYAttributes(cellElement, panel);\n    this.setHeightAndWidth(cellElement, panel);\n    return cellElement;\n  };\n\n  DashboardLayout.prototype.setPanelPosition = function (cellElement, row, col) {\n    if (!cellElement) {\n      return;\n    }\n\n    if (this.checkMediaQuery()) {\n      this.calculateCellSize();\n    }\n\n    var heightValue = this.getCellSize()[1];\n    var widthValue = this.getCellSize()[0];\n    var left = col === 0 ? 0 : col * (widthValue + this.cellSpacing[0]);\n    var top = row === 0 ? 0 : row * (heightValue + this.cellSpacing[1]);\n\n    if (this.checkMediaQuery()) {\n      top = row === 0 ? 0 : this.panelsSizeY * (heightValue + this.cellSpacing[1]);\n    }\n\n    setStyle(cellElement, {\n      'left': left + 'px',\n      'top': top + 'px'\n    });\n  };\n\n  DashboardLayout.prototype.getRowColumn = function () {\n    this.rows = null;\n\n    if (this.element.querySelectorAll('.e-panel').length > 0 && !this.updatedRows) {\n      var panelElements = this.element.querySelectorAll('.e-panel');\n\n      for (var i = 0; i < panelElements.length; i++) {\n        var panelElement = panelElements[i];\n        var rowValue = parseInt(panelElement.getAttribute('data-row'), 10);\n        var xValue = parseInt(panelElement.getAttribute('data-sizeY'), 10);\n        this.rows = Math.max(this.rows, rowValue + xValue);\n      }\n    } else {\n      if (this.updatedRows) {\n        this.rows = this.updatedRows;\n        this.updatedRows = null;\n      }\n\n      for (var i = 0; i < this.panels.length; i++) {\n        this.rows = Math.max(this.rows, this.panels[i].row);\n      }\n    }\n  };\n\n  DashboardLayout.prototype.setMinMaxValues = function (panel) {\n    if (!panel.sizeX || panel.sizeX < panel.minSizeX) {\n      this.panelPropertyChange(panel, {\n        sizeX: panel.minSizeX\n      });\n    } else if (panel.maxSizeX && panel.sizeX > panel.maxSizeX) {\n      this.panelPropertyChange(panel, {\n        sizeX: panel.maxSizeX\n      });\n    } else if (panel.sizeX > this.columns) {\n      this.panelPropertyChange(panel, {\n        sizeX: this.columns\n      });\n    } else {\n      this.panelPropertyChange(panel, {\n        sizeX: panel.sizeX\n      });\n    }\n\n    if (!panel.sizeY || panel.sizeY < panel.minSizeY) {\n      this.panelPropertyChange(panel, {\n        sizeY: panel.minSizeY\n      });\n    } else if (panel.maxSizeY && panel.sizeY > panel.maxSizeY) {\n      this.panelPropertyChange(panel, {\n        sizeY: panel.maxSizeY\n      });\n    } else {\n      this.panelPropertyChange(panel, {\n        sizeY: panel.sizeY\n      });\n    }\n  };\n\n  DashboardLayout.prototype.checkMinMaxValues = function (panel) {\n    if (panel.col + panel.sizeX > this.columns) {\n      this.panelPropertyChange(panel, {\n        sizeX: panel.sizeX + (this.columns - (panel.col + panel.sizeX))\n      });\n    }\n  };\n\n  DashboardLayout.prototype.panelPropertyChange = function (panel, value) {\n    // eslint-disable-next-line\n    panel.setProperties(value, true);\n  };\n\n  DashboardLayout.prototype.renderDashBoardCells = function (cells) {\n    if (this.element.querySelectorAll('.e-panel').length > 0 || this.panels.length > 0) {\n      for (var j = 0; j < cells.length; j++) {\n        this.gridPanelCollection.push(cells[j]);\n        this.setMinMaxValues(cells[j]);\n\n        if (this.maxColumnValue < cells[j].col || this.maxColumnValue < cells[j].col + cells[j].sizeX) {\n          this.panelPropertyChange(cells[j], {\n            col: this.maxColumnValue - cells[j].sizeX\n          });\n        }\n\n        var cell = this.renderCell(cells[j], false, j);\n\n        if (this.enableRtl) {\n          addClass([cell], 'e-rtl');\n        }\n\n        this.element.appendChild(cell);\n        this.renderReactTemplates();\n\n        if (this.checkMediaQuery() && j === cells.length - 1) {\n          this.checkMediaQuerySizing();\n        } else {\n          this.setPanelPosition(cell, cells[j].row, cells[j].col);\n          this.mainElement = cell;\n          this.updatePanelLayout(cell, cells[j]);\n          this.mainElement = null;\n        }\n      }\n    }\n\n    this.setClasses(this.panelCollection);\n  };\n\n  DashboardLayout.prototype.collisions = function (row, col, sizeX, sizeY, ignore) {\n    var items = [];\n\n    if (!sizeX || !sizeY) {\n      sizeX = sizeY = 1;\n    }\n\n    if (ignore && !(ignore instanceof Array)) {\n      ignore = [ignore];\n    }\n\n    var item;\n\n    for (var h = 0; h < sizeY; ++h) {\n      for (var w = 0; w < sizeX; ++w) {\n        item = this.getPanel(row + h, col + w, ignore);\n\n        if (item && (!ignore || ignore.indexOf(document.getElementById(item.id)) === -1) && items.indexOf(document.getElementById(item.id)) === -1) {\n          items.push(document.getElementById(item.id));\n        }\n      }\n    }\n\n    return items;\n  };\n\n  DashboardLayout.prototype.rightWardsSpaceChecking = function (rowElements, col, ele) {\n    var _this = this;\n\n    var columns = [];\n    var spacedColumns = [];\n    rowElements.forEach(function (element) {\n      var columnValue = parseInt(element.getAttribute('data-col'), 10);\n      var sizeXValue = parseInt(element.getAttribute('data-sizeX'), 10);\n\n      if (col < _this.columns && columnValue >= col) {\n        if (sizeXValue > 1) {\n          for (var i = columnValue; i < columnValue + sizeXValue; i++) {\n            columns.push(i);\n          }\n        } else {\n          columns.push(columnValue);\n        }\n      }\n    });\n\n    if (columns.length > 0) {\n      for (var i = col + 1; i <= this.columns - 1; i++) {\n        if (columns.indexOf(i) === -1 && i !== col) {\n          if (spacedColumns.indexOf(i) === -1) {\n            spacedColumns.push(i);\n          }\n        }\n      }\n    }\n\n    var occupiedValues = this.getOccupiedColumns(ele);\n    occupiedValues.forEach(function (colValue) {\n      if (colValue > col && spacedColumns.indexOf(colValue) !== -1) {\n        spacedColumns.splice(spacedColumns.indexOf(colValue), 1);\n      }\n    });\n    var eleOccupiedValues = this.getOccupiedColumns(this.checkingElement);\n    eleOccupiedValues.forEach(function (col) {\n      if (col > parseInt(ele.getAttribute('data-col'), 10) && occupiedValues.indexOf(col) === -1 && spacedColumns.indexOf(col) === -1) {\n        spacedColumns.push(col);\n      }\n    });\n    spacedColumns = spacedColumns.sort(function (next, previous) {\n      return next - previous;\n    });\n    return spacedColumns;\n  };\n\n  DashboardLayout.prototype.getOccupiedColumns = function (element) {\n    var occupiedItems = [];\n    var sizeX = parseInt(element.getAttribute('data-sizeX'), 10);\n    var col = parseInt(element.getAttribute('data-col'), 10);\n\n    for (var i = col; i < col + sizeX && i <= this.columns; i++) {\n      occupiedItems.push(i);\n    }\n\n    return occupiedItems;\n  };\n\n  DashboardLayout.prototype.leftWardsSpaceChecking = function (rowElements, col, ele) {\n    var _this = this;\n\n    var spacedColumns = [];\n    var columns = [];\n    rowElements.forEach(function (element) {\n      var colValue = parseInt(element.getAttribute('data-col'), 10);\n      var xValue = parseInt(element.getAttribute('data-sizeX'), 10);\n\n      if (col <= _this.columns && colValue <= col) {\n        if (xValue > 1) {\n          for (var i = colValue; i < colValue + xValue; i++) {\n            columns.push(i);\n          }\n        } else {\n          columns.push(colValue);\n        }\n      }\n    });\n\n    if (columns.length > 0) {\n      for (var j = 0; j <= col; j++) {\n        if (columns.indexOf(j) === -1 && j !== col) {\n          if (spacedColumns.indexOf(j) === -1) {\n            spacedColumns.push(j);\n          }\n        }\n      }\n    }\n\n    var occupiedValues = this.getOccupiedColumns(ele);\n    occupiedValues.forEach(function (colValue) {\n      if (colValue < col && spacedColumns.indexOf(colValue) !== -1) {\n        spacedColumns.splice(spacedColumns.indexOf(colValue), 1);\n      }\n    });\n    var eleOccupiedValues = this.getOccupiedColumns(this.checkingElement);\n    eleOccupiedValues.forEach(function (col) {\n      if (col < parseInt(ele.getAttribute('data-col'), 10) && occupiedValues.indexOf(col) === -1 && spacedColumns.indexOf(col) === -1) {\n        spacedColumns.push(col);\n      }\n    });\n    spacedColumns = spacedColumns.sort(function (next, prev) {\n      return next - prev;\n    });\n    spacedColumns = spacedColumns.reverse();\n    return spacedColumns;\n  };\n\n  DashboardLayout.prototype.adjustmentAvailable = function (row, col, sizeY, sizeX, ele) {\n    this.leftAdjustable = undefined;\n    this.rightAdjustable = undefined;\n    var isAdjustable = false;\n    var rightSpacing;\n    var rowElement = [];\n    this.topAdjustable = undefined;\n    var eleSizeX = parseInt(ele.getAttribute('data-sizeX'), 10);\n    var eleCol = parseInt(ele.getAttribute('data-col'), 10);\n    rowElement = this.getRowElements(this.collisions(row, 0, this.columns, sizeY, []));\n\n    if (rowElement.indexOf(ele) === -1) {\n      rowElement.push(ele);\n    }\n\n    var leftSpacing = this.leftWardsSpaceChecking(rowElement, col, ele);\n\n    if (leftSpacing.length > 0) {\n      this.leftAdjustable = this.isLeftAdjustable(leftSpacing, ele, row, col, sizeX, sizeY);\n\n      if (this.spacedColumnValue !== eleCol - this.getCellInstance(this.checkingElement.id).sizeX) {\n        this.leftAdjustable = false;\n      }\n\n      if (this.leftAdjustable) {\n        this.rightAdjustable = false;\n      } else {\n        this.leftAdjustable = false;\n        rightSpacing = this.rightWardsSpaceChecking(rowElement, col, ele);\n        this.rightAdjustable = rightSpacing.length > 0 ? this.isRightAdjustable(rightSpacing, ele, row, col, sizeX, sizeY) : false;\n\n        if (this.spacedColumnValue !== eleSizeX + eleCol) {\n          this.rightAdjustable = false;\n        }\n\n        if (!this.rightAdjustable) {\n          this.rightAdjustable = false;\n        }\n      }\n    } else {\n      rightSpacing = this.rightWardsSpaceChecking(rowElement, col, ele);\n      this.rightAdjustable = rightSpacing.length > 0 ? this.isRightAdjustable(rightSpacing, ele, row, col, sizeX, sizeY) : false;\n\n      if (this.spacedColumnValue !== eleSizeX + eleCol) {\n        this.rightAdjustable = false;\n      }\n\n      if (this.rightAdjustable) {\n        this.leftAdjustable = false;\n      }\n    }\n\n    if (!this.rightAdjustable && !this.leftAdjustable && row > 0) {\n      var endRow = this.getCellInstance(ele.id).row;\n      var topCheck = false;\n\n      if (this.startRow !== endRow) {\n        topCheck = true;\n      }\n\n      for (var rowValue = row; rowValue >= 0; rowValue--) {\n        var element = this.getCellInstance(ele.id).sizeY > 1 && topCheck ? this.checkingElement : ele;\n\n        if (rowValue !== endRow && rowValue === endRow - sizeY && this.collisions(rowValue, col, sizeX, sizeY, element).length === 0) {\n          topCheck = false;\n          this.topAdjustable = true;\n          this.spacedRowValue = isNullOrUndefined(this.spacedRowValue) ? rowValue : this.spacedRowValue;\n          this.spacedColumnValue = col;\n        }\n      }\n    }\n\n    if (this.rightAdjustable || this.leftAdjustable || this.topAdjustable) {\n      isAdjustable = true;\n\n      if (isNullOrUndefined(this.spacedRowValue)) {\n        this.spacedRowValue = row;\n      }\n    }\n\n    return isAdjustable;\n  };\n\n  DashboardLayout.prototype.isXSpacingAvailable = function (spacing, sizeX) {\n    var isSpaceAvailable = false;\n    var subSpacingColumns = [];\n\n    for (var i = 0; i < spacing.length; i++) {\n      if (spacing[i + 1] - spacing[i] === 1 || spacing[i + 1] - spacing[i] === -1) {\n        subSpacingColumns.push(spacing[i]);\n\n        if (sizeX === 2) {\n          subSpacingColumns.push(spacing[i + 1]);\n        }\n\n        if (i === spacing.length - 2) {\n          subSpacingColumns.push(spacing[i + 1]);\n\n          if (subSpacingColumns.length > sizeX) {\n            subSpacingColumns.splice(-1);\n          }\n        }\n\n        if (subSpacingColumns.length === sizeX) {\n          isSpaceAvailable = true;\n          this.spacedColumnValue = subSpacingColumns.sort(function (next, previous) {\n            return next - previous;\n          })[0];\n\n          if (this.spacedColumnValue < 0) {\n            this.spacedColumnValue = 1;\n          }\n\n          return isSpaceAvailable;\n        }\n      } else {\n        subSpacingColumns = [];\n        continue;\n      }\n    }\n\n    return isSpaceAvailable;\n  };\n\n  DashboardLayout.prototype.getRowElements = function (base) {\n    var rowElements = [];\n\n    for (var i = 0; i < base.length; i++) {\n      rowElements.push(base[i]);\n    }\n\n    return rowElements;\n  };\n\n  DashboardLayout.prototype.isLeftAdjustable = function (spaces, ele, row, col, sizeX, sizeY) {\n    var isLeftAdjudtable;\n\n    if (sizeX === 1 && sizeY === 1 && spaces.length > 0) {\n      this.spacedColumnValue = spaces[0];\n      isLeftAdjudtable = true;\n    } else if (sizeX > 1 && sizeY === 1) {\n      isLeftAdjudtable = this.isXSpacingAvailable(spaces, sizeX);\n    } else if (sizeY > 1) {\n      if (sizeX === 1) {\n        var xAdjust = void 0;\n\n        if (spaces.length >= 1) {\n          xAdjust = true;\n        }\n\n        if (xAdjust) {\n          for (var i = 0; i < spaces.length; i++) {\n            var collisionValue = this.collisions(row, spaces[i], sizeX, sizeY, this.checkingElement);\n\n            if (collisionValue.length === 0) {\n              this.spacedColumnValue = spaces[i];\n              isLeftAdjudtable = true;\n              return isLeftAdjudtable;\n            } else {\n              isLeftAdjudtable = false;\n            }\n          }\n        }\n      } else {\n        isLeftAdjudtable = this.replacable(spaces, sizeX, row, sizeY, ele);\n      }\n    }\n\n    return isLeftAdjudtable;\n  };\n\n  DashboardLayout.prototype.isRightAdjustable = function (spacing, ele, row, col, sizeX, sizeY) {\n    var isRightAdjudtable;\n\n    if (sizeX === 1 && sizeY === 1 && spacing.length > 0) {\n      this.spacedColumnValue = spacing[0];\n      isRightAdjudtable = true;\n    } else if (sizeX > 1 && sizeY === 1) {\n      isRightAdjudtable = this.isXSpacingAvailable(spacing, sizeX);\n    } else if (sizeY > 1) {\n      if (sizeX === 1) {\n        var xAdjust = void 0;\n\n        if (spacing.length >= 1) {\n          xAdjust = true;\n        }\n\n        if (xAdjust) {\n          for (var i = 0; i < spacing.length; i++) {\n            var collisionValue = this.collisions(row, spacing[i], sizeX, sizeY, this.checkingElement);\n\n            for (var collision = 0; collision < collisionValue.length; collision++) {\n              if (parseInt(ele.getAttribute('data-col'), 10) !== spacing[i]) {\n                collisionValue.splice(collisionValue.indexOf(collisionValue[collision]), 1);\n              }\n            }\n\n            if (collisionValue.length === 0) {\n              isRightAdjudtable = true;\n              this.spacedColumnValue = spacing[i];\n              return isRightAdjudtable;\n            } else {\n              isRightAdjudtable = false;\n            }\n          }\n        }\n      } else {\n        isRightAdjudtable = this.replacable(spacing, sizeX, row, sizeY, ele);\n      }\n    }\n\n    return isRightAdjudtable;\n  };\n\n  DashboardLayout.prototype.replacable = function (spacing, sizeX, row, sizeY, ele) {\n    var isRightAdjudtable;\n    var updatedCollision = [];\n\n    for (var j = 0; j < spacing.length; j++) {\n      var xAdjust = this.isXSpacingAvailable(spacing, sizeX);\n\n      if (xAdjust) {\n        var exclusions = [];\n        exclusions.push(this.checkingElement);\n        exclusions.push(ele);\n\n        if (updatedCollision.length === 0) {\n          isRightAdjudtable = true; // eslint-disable-next-line no-self-assign\n\n          this.spacedColumnValue = this.spacedColumnValue;\n          return isRightAdjudtable;\n        } else {\n          isRightAdjudtable = false;\n        }\n      }\n    }\n\n    return isRightAdjudtable;\n  };\n\n  DashboardLayout.prototype.sortCollisionItems = function (collisionItems) {\n    var updatedCollision = [];\n    var rowElements;\n\n    var _loop_3 = function (row) {\n      rowElements = [];\n      collisionItems.forEach(function (element) {\n        if (element && element.getAttribute('data-row') === row.toString()) {\n          rowElements.push(element);\n        }\n      });\n\n      var _loop_4 = function (column) {\n        rowElements.forEach(function (item) {\n          if (item && item.getAttribute('data-col') === column.toString()) {\n            updatedCollision.push(item);\n          }\n        });\n      };\n\n      for (var column = this_2.columns - 1; column >= 0; column--) {\n        _loop_4(column);\n      }\n    };\n\n    var this_2 = this;\n\n    for (var row = this.rows - 1; row >= 0; row--) {\n      _loop_3(row);\n    }\n\n    return updatedCollision;\n  };\n\n  DashboardLayout.prototype.updatedModels = function (collisionItems, panelModel, ele) {\n    var _this = this;\n\n    var removeableElement = [];\n\n    if (!this.mainElement) {\n      this.sortedPanel();\n    }\n\n    collisionItems.forEach(function (element) {\n      _this.checkingElement = element;\n\n      var model = _this.getCellInstance(element.id);\n\n      var adjust = !_this.adjustmentAvailable(model.row, model.col, model.sizeY, model.sizeX, ele);\n\n      if (model.sizeX > 1 && adjust) {\n        for (var rowValue = model.row; rowValue < panelModel.row + panelModel.sizeY; rowValue++) {\n          var collisions = _this.collisions(rowValue, model.col, model.sizeX, model.sizeY, element);\n\n          collisions.forEach(function (item) {\n            if (collisionItems.indexOf(item) >= 0 && removeableElement.indexOf(item) === -1) {\n              removeableElement.push(item);\n            }\n          });\n        }\n      }\n    });\n    removeableElement.forEach(function (item) {\n      if (removeableElement.indexOf(item) >= 0) {\n        collisionItems.splice(collisionItems.indexOf(item), 1);\n      }\n    });\n    return collisionItems;\n  };\n\n  DashboardLayout.prototype.resetLayout = function (model) {\n    var collisions = this.collisions(model.row, model.col, model.sizeX, model.sizeY, this.mainElement);\n\n    if (!this.mainElement || this.addPanelCalled || this.resizeCalled || this.movePanelCalled) {\n      return collisions;\n    }\n\n    if (this.mainElement && this.oldRowCol !== this.cloneObject) {\n      for (var i = 0; i < this.panels.length; i++) {\n        var element = document.getElementById(this.panels[i].id);\n\n        if (element === this.mainElement) {\n          continue;\n        }\n\n        var rowValue = this.cloneObject[element.id].row;\n        var colValue = this.cloneObject[element.id].col;\n        this.setPanelPosition(element, rowValue, colValue);\n        this.panelPropertyChange(this.getCellInstance(element.id), {\n          row: rowValue,\n          col: colValue\n        });\n        this.setAttributes({\n          value: {\n            col: colValue.toString(),\n            row: rowValue.toString()\n          }\n        }, element);\n        this.updateOldRowColumn();\n      }\n    }\n\n    this.sortedArray = this.cloneArray;\n    collisions = this.collisions(model.row, model.col, model.sizeX, model.sizeY, this.mainElement);\n    this.sortedPanel();\n    this.updateOldRowColumn();\n\n    if (this.checkCollision && this.checkCollision.length > 0 && collisions.indexOf(this.checkCollision[0]) === -1 && this.cloneObject[this.checkCollision[0].id].row === model.row) {\n      collisions.push(this.checkCollision[0]);\n    }\n\n    return collisions;\n  };\n\n  DashboardLayout.prototype.swapAvailability = function (collisions, element) {\n    var available = true;\n    var eleModel = this.getCellInstance(element.id);\n\n    for (var count = 0; count < collisions.length; count++) {\n      var collideModel = this.getCellInstance(collisions[count].id);\n\n      for (var i = 1; i < eleModel.sizeY; i++) {\n        var excludeEle = [];\n        excludeEle.push(element);\n        excludeEle.push(collisions[count]);\n        var collision = this.collisions(eleModel.row + i, collideModel.col, collideModel.sizeX, collideModel.sizeY, excludeEle);\n\n        if (collision.length > 0) {\n          available = false;\n          return false;\n        } else {\n          continue;\n        }\n      }\n    }\n\n    return available;\n  };\n\n  DashboardLayout.prototype.checkForSwapping = function (collisions, element) {\n    if (!this.mainElement || collisions.length === 0) {\n      return false;\n    }\n\n    var direction;\n    var eleSwapRow = parseInt(collisions[0].getAttribute('data-row'), 10);\n\n    if (this.startRow < eleSwapRow) {\n      direction = 1;\n    } else if (this.startRow > eleSwapRow) {\n      direction = 0;\n    }\n\n    if (!this.swapAvailability(collisions, element)) {\n      return false;\n    }\n\n    var isSwappable = false;\n\n    for (var count1 = 0; count1 < collisions.length; count1++) {\n      if (collisions.length >= 1 && this.cloneObject[this.mainElement.id].row === this.oldRowCol[this.mainElement.id].row) {\n        return false;\n      }\n    }\n\n    var updatedRow = direction === 0 ? this.getCellInstance(this.mainElement.id).row + this.getCellInstance(this.mainElement.id).sizeY : this.startRow;\n\n    for (var count = 0; count < collisions.length; count++) {\n      var collideInstance = this.getCellInstance(collisions[count].id);\n      var elementinstance = this.getCellInstance(element.id);\n      var ignore = [];\n\n      if (collideInstance.sizeY === 1 && ignore.indexOf(collisions[count]) === -1) {\n        ignore.push(collisions[count]);\n      } else if (collideInstance.sizeY > 1 && ignore.indexOf(collisions[count]) === -1) {\n        if (direction === 1 && elementinstance.row === this.cloneObject[collideInstance.id].row + collideInstance.sizeY - 1) {\n          ignore.push(collisions[count]);\n        } else if (direction === 0 && elementinstance.row === this.cloneObject[collideInstance.id].row) {\n          ignore.push(collisions[count]);\n        } else {\n          return false;\n        }\n      }\n\n      if (collideInstance.sizeY <= elementinstance.sizeY && ignore.indexOf(collisions[count]) === -1) {\n        ignore.push(collisions[count]);\n      }\n\n      ignore.push(this.mainElement);\n      var swapCollision = this.collisions(updatedRow, collideInstance.col, collideInstance.sizeX, collideInstance.sizeY, ignore);\n\n      if (swapCollision.length > 0) {\n        isSwappable = false;\n        return isSwappable;\n      } else {\n        if (count === collisions.length - 1) {\n          isSwappable = true;\n        }\n\n        continue;\n      }\n    }\n\n    return isSwappable;\n  };\n\n  DashboardLayout.prototype.swapItems = function (collisions, element, panelModel) {\n    var _this = this;\n\n    var direction;\n    var swappedElements = [];\n    swappedElements.push(element);\n    var eleSwapRow = parseInt(collisions[0].getAttribute('data-row'), 10);\n\n    if (this.startRow < eleSwapRow) {\n      direction = 1;\n    } else if (this.startRow > eleSwapRow) {\n      direction = 0;\n    }\n\n    var collisionItemsRow = direction === 0 ? eleSwapRow + panelModel.sizeY : this.startRow;\n\n    if (!this.movePanelCalled) {\n      var collisionInstance = this.getCellInstance(collisions[0].id);\n      this.panelPropertyChange(panelModel, {\n        row: direction === 0 ? eleSwapRow : collisionItemsRow + collisionInstance.sizeY\n      });\n    }\n\n    for (var count = 0; count < collisions.length; count++) {\n      swappedElements.push(collisions[count]);\n      this.setPanelPosition(collisions[count], collisionItemsRow, this.getCellInstance(collisions[count].id).col);\n      this.panelPropertyChange(this.getCellInstance(collisions[count].id), {\n        row: collisionItemsRow\n      });\n      collisions[count].setAttribute('data-row', collisionItemsRow.toString());\n    }\n\n    element.setAttribute('data-row', panelModel.row.toString());\n    this.setPanelPosition(this.shadowEle, panelModel.row, panelModel.col);\n\n    for (var i = 0; i < this.panels.length; i++) {\n      this.oldRowCol[this.panels[i].id] = {\n        row: this.panels[i].row,\n        col: this.panels[i].col\n      };\n    }\n\n    this.startRow = panelModel.row;\n    this.updateOldRowColumn();\n    swappedElements.forEach(function (item) {\n      _this.cloneObject[item.id] = _this.oldRowCol[item.id];\n\n      var itemModel = _this.getCellInstance(item.id);\n\n      for (var i = 0; i < _this.sortedArray.length; i++) {\n        if (!_this.sortedArray[i]) {\n          continue;\n        }\n\n        for (var j = 0; j < _this.sortedArray[i].length; j++) {\n          if (_this.sortedArray[i][j] === item) {\n            _this.sortedArray[i][j] = undefined;\n          }\n        }\n      }\n\n      if (!_this.sortedArray[itemModel.row]) {\n        _this.sortedArray[itemModel.row] = [];\n      }\n\n      _this.sortedArray[itemModel.row][itemModel.col] = item;\n      _this.cloneArray = _this.sortedArray;\n    });\n  };\n\n  DashboardLayout.prototype.updatePanelLayout = function (element, panelModel) {\n    this.collisionChecker = {};\n    var initialModel = [];\n    var checkForAdjustment;\n    var collisionModels = [];\n    var swappingAvailable;\n\n    if (this.mainElement && this.isRenderComplete) {\n      initialModel = this.resetLayout(panelModel);\n    } else {\n      initialModel = this.collisions(panelModel.row, panelModel.col, panelModel.sizeX, panelModel.sizeY, element);\n    }\n\n    if (initialModel.length > 0) {\n      initialModel = this.sortCollisionItems(initialModel);\n      initialModel = this.updatedModels(initialModel, panelModel, element);\n      swappingAvailable = !isNullOrUndefined(this.startRow) ? this.checkForSwapping(initialModel, element) : false;\n\n      if (swappingAvailable) {\n        this.swapItems(initialModel, element, panelModel);\n      } else {\n        for (var i = 0; i < initialModel.length; i++) {\n          var model = this.getCellInstance(initialModel[i].id);\n          this.checkingElement = initialModel[i];\n          this.spacedRowValue = null;\n          this.spacedColumnValue = null;\n          checkForAdjustment = this.adjustmentAvailable(model.row, model.col, model.sizeY, model.sizeX, element);\n\n          if (checkForAdjustment && !isNullOrUndefined(this.spacedColumnValue)) {\n            this.setPanelPosition(initialModel[i], this.spacedRowValue, this.spacedColumnValue);\n            this.oldRowCol[initialModel[i].id] = {\n              row: this.spacedRowValue,\n              col: this.spacedColumnValue\n            };\n            var value = {\n              attributes: {\n                row: this.spacedRowValue.toString(),\n                col: this.spacedColumnValue.toString()\n              }\n            };\n            this.setAttributes(value, initialModel[i]);\n            this.panelPropertyChange(model, {\n              col: this.spacedColumnValue,\n              row: this.spacedRowValue\n            }); // updated the panel model array as inTopAdjustable case with floating enabled instead of dragging and extra row\n\n            if (this.topAdjustable && this.allowFloating) {\n              this.updatePanels();\n              this.updateCloneArrayObject();\n            }\n\n            this.spacedRowValue = null;\n\n            if (i < initialModel.length) {\n              continue;\n            }\n          } else {\n            collisionModels.push(initialModel[i]);\n          }\n        }\n      }\n    }\n\n    if (collisionModels.length > 0) {\n      // eslint-disable-next-line\n      var proxy_1 = this;\n      collisionModels.forEach(function (item1) {\n        if (proxy_1.overlapElement.indexOf(item1) === -1) {\n          proxy_1.overlapElement.push(item1);\n        }\n      });\n\n      if (this.overlapElement && this.overlapElement.indexOf(element) !== -1) {\n        this.overlapElement.splice(this.overlapElement.indexOf(element), 1);\n      }\n\n      if (collisionModels.length > 0) {\n        this.updateRowColumn(panelModel.row, this.overlapElement, element);\n        this.checkForCompletePushing();\n      }\n    }\n\n    if (!this.isSubValue) {\n      this.sortedPanel();\n    }\n\n    this.updateRowHeight();\n    this.updateGridLines();\n  };\n\n  DashboardLayout.prototype.checkForCompletePushing = function () {\n    for (var i = 0; i < this.panels.length; i++) {\n      if (this.collisionChecker[this.panels[i].id] && this.collisionChecker[this.panels[i].id] !== null) {\n        this.overlapElement = [this.collisionChecker[this.panels[i].id].ele];\n        var key = this.panels[i].id;\n        this.updateRowColumn(this.collisionChecker[key].row, this.overlapElement, this.collisionChecker[key].srcEle);\n      }\n    }\n  };\n\n  DashboardLayout.prototype.updateCollisionChecked = function (item) {\n    for (var count = 0; count < Object.keys(this.collisionChecker).length; count++) {\n      this.collisionChecker[item.id] = null;\n    }\n  };\n\n  DashboardLayout.prototype.updateRowColumn = function (row, ele, srcEle) {\n    if (!srcEle) {\n      return;\n    }\n\n    var eleSizeY = parseInt(srcEle.getAttribute('data-sizeY'), 10);\n    var eleRow = parseInt(srcEle.getAttribute('data-row'), 10);\n    this.overlapElementClone = this.overlapElement && !this.shouldRestrict ? this.overlapElement : this.overlapElement;\n\n    for (var i = 0; i < this.overlapElementClone.length; i++) {\n      if (this.overlapElementClone.length === 0) {\n        return;\n      }\n\n      for (var i_1 = 0; i_1 < this.overlapElementClone.length; i_1++) {\n        this.collisionChecker[this.overlapElementClone[i_1].id] = {\n          ele: this.overlapElementClone[i_1],\n          row: row,\n          srcEle: srcEle\n        };\n      }\n\n      var updatedRow = eleRow + eleSizeY;\n      var collisionY = parseInt(this.overlapElementClone[i].getAttribute('data-sizeY'), 10);\n      var collisionCol = parseInt(this.overlapElementClone[i].getAttribute('data-col'), 10);\n      var collisionX = parseInt(this.overlapElementClone[i].getAttribute('data-sizeX'), 10);\n      var colValue = void 0;\n      var collisionModels = void 0;\n\n      if (this.overlapSubElementClone.indexOf(srcEle) === -1) {\n        this.overlapSubElementClone.push(srcEle);\n      }\n\n      if (this.overlapSubElementClone.indexOf(this.overlapElementClone[i]) === -1) {\n        this.overlapSubElementClone.push(this.overlapElementClone[i]);\n      }\n\n      if (collisionY > 1 || collisionX > 1) {\n        var overlapElementModel = this.getCellInstance(this.overlapElementClone[i].id);\n        colValue = overlapElementModel.col;\n        var ele_1 = document.getElementById(overlapElementModel.id);\n\n        for (var k = overlapElementModel.row; k < eleRow + eleSizeY; k++) {\n          this.isSubValue = true;\n          this.panelPropertyChange(overlapElementModel, {\n            row: overlapElementModel.row + 1\n          });\n          ele_1.setAttribute('data-row', overlapElementModel.row.toString());\n          this.setPanelPosition(ele_1, overlapElementModel.row, colValue);\n          this.updateCollisionChecked(ele_1);\n          this.oldRowCol[ele_1.id] = {\n            row: overlapElementModel.row,\n            col: colValue\n          };\n          var panelModel = this.getCellInstance(ele_1.id);\n          this.panelPropertyChange(panelModel, {\n            col: colValue,\n            row: overlapElementModel.row\n          });\n          var eleRow_1 = parseInt(ele_1.getAttribute('data-row'), 10);\n          var eleCol = parseInt(ele_1.getAttribute('data-col'), 10);\n          var sizeX = parseInt(ele_1.getAttribute('data-sizeX'), 10);\n          var sizeY = parseInt(ele_1.getAttribute('data-sizeY'), 10);\n          var excludeElements = [];\n          excludeElements.push(ele_1);\n          excludeElements.push(srcEle);\n          collisionModels = this.collisions(eleRow_1, eleCol, sizeX, sizeY, excludeElements);\n\n          if (this.mainElement && collisionModels.indexOf(this.mainElement) !== -1) {\n            collisionModels.splice(collisionModels.indexOf(this.mainElement), 1);\n          }\n\n          this.collisionPanel(collisionModels, eleCol, eleRow_1, ele_1);\n        }\n\n        this.isSubValue = false;\n      } else {\n        if (this.addPanelCalled) {\n          this.addPanelCalled = false;\n        }\n\n        this.overlapElementClone[i].setAttribute('data-row', updatedRow.toString());\n        var excludeEle = [];\n        excludeEle.push(this.overlapElementClone[i]);\n        excludeEle.push(srcEle);\n        collisionModels = this.collisions(updatedRow, collisionCol, collisionX, collisionY, excludeEle);\n\n        if (this.mainElement && collisionModels.indexOf(this.mainElement) !== -1) {\n          collisionModels.splice(collisionModels.indexOf(this.mainElement), 1);\n        }\n\n        colValue = parseInt(this.overlapElementClone[i].getAttribute('data-col'), 10);\n        this.setPanelPosition(this.overlapElementClone[i], updatedRow, colValue);\n        this.updateCollisionChecked(this.overlapElementClone[i]);\n        this.oldRowCol[this.overlapElementClone[i].id] = {\n          row: updatedRow,\n          col: colValue\n        };\n        var panelModel = this.getCellInstance(this.overlapElementClone[i].id);\n        this.panelPropertyChange(panelModel, {\n          col: colValue,\n          row: updatedRow\n        });\n        this.collisionPanel(collisionModels, colValue, updatedRow, this.overlapElementClone[i]);\n      }\n    }\n  };\n\n  DashboardLayout.prototype.collisionPanel = function (collisionModels, colValue, updatedRow, clone) {\n    var panelModel = this.getCellInstance(clone.id);\n    this.panelPropertyChange(panelModel, {\n      row: updatedRow,\n      col: colValue\n    });\n\n    if (collisionModels.length > 0) {\n      // eslint-disable-next-line\n      var proxy_2 = this;\n      this.overlapElement = [];\n      this.shouldRestrict = true;\n      collisionModels.forEach(function (item1) {\n        proxy_2.overlapElement.push(item1);\n      });\n      var overlapElementRow1 = parseInt(clone.getAttribute('data-row'), 10);\n\n      for (var m = 0; m < this.overlapElement.length; m++) {\n        this.updateRowColumn(overlapElementRow1, this.overlapElement, clone);\n      }\n\n      this.shouldRestrict = false;\n    } else {\n      if (!this.addPanelCalled) {\n        this.sortedPanel();\n      }\n\n      if (this.overlapSubElementClone.length > 0) {\n        var _loop_5 = function (p) {\n          var rowVal = parseInt(this_3.overlapSubElementClone[p].getAttribute('data-row'), 10);\n          var colValue_1 = parseInt(this_3.overlapSubElementClone[p].getAttribute('data-col'), 10);\n          var sizeX = parseInt(this_3.overlapSubElementClone[p].getAttribute('data-sizeX'), 10);\n          var sizeY = parseInt(this_3.overlapSubElementClone[p].getAttribute('data-sizeY'), 10);\n          var collisionModels1 = this_3.collisions(rowVal, colValue_1, sizeX, sizeY, this_3.overlapSubElementClone);\n\n          if (this_3.mainElement && collisionModels1.indexOf(this_3.mainElement) !== -1) {\n            collisionModels1.splice(collisionModels1.indexOf(this_3.mainElement), 1);\n          } // eslint-disable-next-line\n\n\n          var proxy = this_3;\n          collisionModels1.forEach(function (item1) {\n            proxy.overlapElement.push(item1);\n          });\n\n          if (collisionModels1.length > 0) {\n            this_3.updateRowColumn(rowVal, this_3.overlapElement, this_3.overlapSubElementClone[p]);\n          }\n        };\n\n        var this_3 = this;\n\n        for (var p = 0; p < this.overlapSubElementClone.length; p++) {\n          _loop_5(p);\n        }\n      }\n\n      this.overlapSubElementClone = [];\n    }\n  };\n\n  DashboardLayout.prototype.removeResizeClasses = function (panelElements) {\n    for (var i = 0; i < panelElements.length; i++) {\n      var element = panelElements[i];\n      var resizerElements = element.querySelectorAll('.e-resize');\n\n      for (var i_2 = 0; i_2 < resizerElements.length; i_2++) {\n        detach(resizerElements[i_2]);\n      }\n    }\n  };\n\n  DashboardLayout.prototype.ensureDrag = function () {\n    this.checkDragging(this.dragCollection);\n    var dragPanels = this.element.querySelectorAll('.' + drag);\n    removeClass(dragPanels, [drag]);\n    this.setClasses(this.panelCollection);\n  };\n\n  DashboardLayout.prototype.setClasses = function (panelCollection) {\n    for (var i = 0; i < panelCollection.length; i++) {\n      var element = panelCollection[i];\n      var containerEle = panelCollection[i].querySelector('.e-panel-container');\n\n      if (this.allowDragging) {\n        if (this.draggableHandle && element.querySelectorAll(this.draggableHandle)[0]) {\n          addClass([element.querySelectorAll(this.draggableHandle)[0]], [drag]);\n        } else {\n          addClass([element], [drag]);\n        }\n      }\n\n      if (this.allowResizing && this.mediaQuery ? !this.checkMediaQuery() : false) {\n        this.setResizingClass(element, containerEle);\n      }\n    }\n  };\n\n  DashboardLayout.prototype.setResizingClass = function (ele, container) {\n    this.availableClasses = this.resizableHandles;\n\n    if (!ele.querySelector(\".e-resize\")) {\n      for (var j = 0; j < this.availableClasses.length; j++) {\n        var spanEle = this.createElement('span');\n        var addClassValue = void 0;\n        container.appendChild(spanEle);\n\n        if (this.availableClasses[j] === 'e-east' || this.availableClasses[j] === 'e-west' || this.availableClasses[j] === 'e-north' || this.availableClasses[j] === 'e-south') {\n          addClassValue = single;\n        } else {\n          addClassValue = double;\n        }\n\n        addClass([spanEle], [addClassValue, this.availableClasses[j], resize, resizeicon]);\n      }\n    }\n  };\n\n  DashboardLayout.prototype.setXYAttributes = function (element, panelModel) {\n    var value = {\n      value: {\n        sizeX: panelModel.sizeX.toString(),\n        sizeY: panelModel.sizeY.toString(),\n        minSizeX: panelModel.minSizeX.toString(),\n        minSizeY: panelModel.minSizeY.toString(),\n        maxSizeX: !isNullOrUndefined(panelModel.maxSizeX) ? panelModel.maxSizeX.toString() : undefined,\n        maxSizeY: !isNullOrUndefined(panelModel.maxSizeY) ? panelModel.maxSizeY.toString() : undefined,\n        row: panelModel.row.toString(),\n        col: panelModel.col.toString()\n      }\n    };\n    this.setAttributes(value, element);\n  };\n\n  DashboardLayout.prototype.setXYDimensions = function (panelModel) {\n    var cellHeight = this.getCellSize()[1];\n    var cellWidth = this.getCellSize()[0];\n    var widthValue;\n    var heigthValue;\n\n    if (panelModel && typeof cellWidth === 'number' && typeof panelModel.sizeX === 'number' && panelModel.sizeX > 1) {\n      widthValue = panelModel.sizeX * cellWidth + (panelModel.sizeX - 1) * this.cellSpacing[0];\n    } else {\n      widthValue = cellWidth;\n    }\n\n    if (panelModel && typeof cellHeight === 'number' && panelModel.sizeY > 1 && typeof panelModel.sizeY === 'number') {\n      heigthValue = panelModel.sizeY * cellHeight + (panelModel.sizeY - 1) * this.cellSpacing[1];\n    } else {\n      heigthValue = formatUnit(cellHeight);\n    }\n\n    return [heigthValue, widthValue];\n  };\n\n  DashboardLayout.prototype.getRowColumnDragValues = function (args) {\n    var value = [];\n    var elementTop = parseFloat(args.element.style.top);\n    var elementLeft = parseFloat(args.element.style.left);\n    var row = Math.round(elementTop / (this.getCellSize()[1] + this.cellSpacing[1]));\n    var col = Math.round(elementLeft / (this.getCellSize()[0] + +this.cellSpacing[0]));\n    value = [row, col];\n    return value;\n  };\n\n  DashboardLayout.prototype.checkForChanges = function (isInteracted, added, removed) {\n    var changedPanels = [];\n\n    if (this.removeAllCalled) {\n      changedPanels = [];\n    } else {\n      for (var i = 0; i < this.panels.length; i++) {\n        if ((!isNullOrUndefined(added) ? this.panels[i].id !== added[0].id : true) && (!isNullOrUndefined(removed) ? this.panels[i].id !== removed[0].id : true) && (this.panels[i].row !== this.panelsInitialModel[i].row || this.panels[i].col !== this.panelsInitialModel[i].col)) {\n          changedPanels.push(this.panels[i]);\n        }\n      }\n    }\n\n    if (changedPanels.length > 0 || this.removeAllCalled) {\n      var changedArgs = {\n        changedPanels: changedPanels,\n        isInteracted: isInteracted,\n        addedPanels: !isNullOrUndefined(added) ? added : [],\n        removedPanels: !isNullOrUndefined(removed) ? removed : []\n      };\n      this.trigger('change', changedArgs);\n    }\n  };\n\n  DashboardLayout.prototype.enableDraggingContent = function (collections) {\n    var _this = this;\n\n    for (var i = 0; i < collections.length; i++) {\n      var abortArray = ['.e-resize', '.' + dragRestrict];\n      var cellElement = collections[i];\n      {\n        this.dragobj = new Draggable(cellElement, {\n          preventDefault: false,\n          clone: false,\n          dragArea: this.element,\n          isDragScroll: true,\n          handle: this.draggableHandle ? this.draggableHandle : '.e-panel',\n          abort: abortArray,\n          dragStart: this.onDraggingStart.bind(this),\n          dragStop: function (args) {\n            var model = _this.getCellInstance(_this.mainElement.id);\n\n            if (_this.allowPushing && _this.collisions(model.row, model.col, model.sizeX, model.sizeY, _this.mainElement).length > 0) {\n              _this.setHolderPosition(args);\n\n              _this.setPanelPosition(_this.mainElement, model.row, model.col);\n\n              _this.updatePanelLayout(_this.mainElement, model);\n            } else {\n              _this.setPanelPosition(_this.mainElement, model.row, model.col);\n            }\n\n            _this.mainElement = null;\n\n            var item = _this.getPanelBase(args);\n\n            if (_this.shadowEle) {\n              detach(_this.shadowEle);\n            }\n\n            removeClass([_this.element], [preventSelect]);\n            removeClass([args.element], [dragging]);\n            _this.shadowEle = null;\n            args.element.classList.remove('e-dragging');\n\n            var row = _this.getRowColumnDragValues(args)[0];\n\n            var col = _this.getRowColumnDragValues(args)[1];\n\n            var panelModel = _this.getCellInstance(args.element.id);\n\n            if (_this.allowPushing && _this.collisions(row, col, panelModel.sizeX, panelModel.sizeY, document.getElementById(item.id)).length === 0) {\n              _this.panelPropertyChange(_this.getCellInstance(args.element.id), {\n                row: row,\n                col: col\n              });\n\n              _this.oldRowCol[args.element.id].row = row;\n              _this.oldRowCol[args.element.id].col = col;\n\n              _this.setAttributes({\n                value: {\n                  col: col.toString(),\n                  row: row.toString()\n                }\n              }, args.element);\n\n              _this.sortedPanel();\n            } else {\n              _this.panelPropertyChange(_this.getCellInstance(args.element.id), {\n                row: _this.oldRowCol[args.element.id].row,\n                col: _this.oldRowCol[args.element.id].col\n              });\n\n              args.element.setAttribute('data-col', _this.getCellInstance(args.element.id).col.toString());\n              args.element.setAttribute('data-row', _this.getCellInstance(args.element.id).row.toString());\n\n              _this.sortedPanel();\n            }\n\n            var panelInstance = _this.getCellInstance(args.element.id);\n\n            _this.setPanelPosition(args.element, panelInstance.row, panelInstance.col);\n\n            _this.updatePanels();\n\n            _this.updateCloneArrayObject();\n\n            _this.checkForChanges(true);\n\n            _this.dragStopEventArgs = {\n              event: args.event,\n              element: args.element\n            };\n\n            _this.trigger('dragStop', args);\n\n            _this.resizeEvents();\n\n            _this.rows = _this.maxRow(true);\n\n            _this.setHeightWidth();\n\n            _this.updateDragArea();\n          },\n          drag: function (args) {\n            _this.draggedEventArgs = {\n              event: args.event,\n              element: args.element,\n              target: closest(args.target, '.e-panel')\n            };\n\n            _this.trigger('drag', _this.draggedEventArgs);\n\n            _this.onDragStart(args);\n          }\n        });\n\n        if (this.dragCollection.indexOf(this.dragobj) === -1) {\n          this.dragCollection.push(this.dragobj);\n        }\n      }\n    }\n  };\n\n  DashboardLayout.prototype.updatePanels = function () {\n    this.moveItemsUpwards();\n    this.updateOldRowColumn();\n    this.sortedPanel();\n  };\n\n  DashboardLayout.prototype.updateDragArea = function () {\n    this.dragCollection.forEach(function (dragobj) {\n      // eslint-disable-next-line\n      dragobj.setDragArea();\n    });\n  };\n\n  DashboardLayout.prototype.updateRowsHeight = function (row, sizeY, addRows) {\n    if (row + sizeY >= this.rows) {\n      this.rows = this.rows + addRows;\n      this.setHeightWidth();\n    }\n  };\n\n  DashboardLayout.prototype.onDraggingStart = function (args) {\n    var dragArgs = args;\n    this.trigger('dragStart', dragArgs, function (dragArgs) {});\n    this.panelsInitialModel = this.cloneModels(this.panels);\n    this.mainElement = args.element;\n    this.cloneObject = JSON.parse(JSON.stringify(this.cloneObject));\n    var eleRowValue = this.startRow = parseInt(args.element.getAttribute('data-row'), 10);\n    this.startCol = parseInt(args.element.getAttribute('data-col'), 10);\n    var eleSizeY = parseInt(args.element.getAttribute('data-sizeY'), 10);\n    this.updateRowsHeight(eleRowValue, eleSizeY, eleSizeY);\n    this.updateDragArea();\n    this.shadowEle = document.createElement('div');\n    this.shadowEle.classList.add('e-holder');\n    this.shadowEle.classList.add('e-holder-transition');\n    setStyle(this.shadowEle, {\n      'position': 'absolute'\n    });\n    addClass([this.element], [preventSelect]);\n    addClass([args.element], [dragging]);\n    this.element.appendChild(this.shadowEle);\n    this.renderReactTemplates();\n    this.shadowEle = document.querySelector('.e-holder');\n    this.shadowEle.style.height = this.getCellInstance(args.element.id).sizeY * this.cellSize[1] + 'px';\n    this.shadowEle.style.width = this.getCellInstance(args.element.id).sizeX * this.cellSize[0] + 'px';\n    var panelInstance = this.getCellInstance(args.element.id);\n    this.setPanelPosition(this.shadowEle, panelInstance.row, panelInstance.col);\n  }; // eslint-disable-next-line\n\n\n  DashboardLayout.prototype.cloneModels = function (source, target) {\n    if (target === undefined) {\n      target = [];\n    }\n\n    for (var i = 0; i < source.length; i++) {\n      // tslint:disable-next-line\n      if (!target[i]) {\n        target[i] = {};\n      } // eslint-disable-next-line guard-for-in\n\n\n      for (var k in source[i]) {\n        target[i][k] = source[i][k];\n      }\n    }\n\n    return target;\n  };\n\n  DashboardLayout.prototype.onDragStart = function (args) {\n    var endCol;\n    var endRow;\n    var dragCol;\n    var col = dragCol = this.getRowColumnDragValues(args)[1];\n    var row = this.getRowColumnDragValues(args)[0];\n\n    if (col < 0 || row < 0) {\n      return;\n    }\n\n    this.panelPropertyChange(this.getCellInstance(args.element.id), {\n      row: row,\n      col: col\n    });\n    var panelModel = this.getCellInstance(args.element.id);\n    this.updateRowsHeight(panelModel.row, panelModel.sizeY, 1);\n    this.updateDragArea();\n\n    if (this.allowPushing) {\n      this.setAttributes({\n        value: {\n          col: col.toString(),\n          row: row.toString()\n        }\n      }, args.element);\n      this.panelPropertyChange(this.getCellInstance(args.element.id), {\n        row: row,\n        col: col\n      });\n      endCol = this.oldRowCol[args.element.id].col;\n      endRow = this.oldRowCol[args.element.id].row;\n      this.oldRowCol[args.element.id] = {\n        row: row,\n        col: col\n      };\n      this.updateOldRowColumn();\n\n      if (this.startCol !== endCol || this.startRow !== endRow) {\n        this.setHolderPosition(args);\n\n        if (this.startCol !== endCol) {\n          this.startRow = endRow;\n        }\n\n        if (this.startRow !== endRow) {\n          this.startCol = endCol;\n        }\n\n        if (this.allowPushing) {\n          this.mainElement = args.element;\n          var model = panelModel;\n          this.checkCollision = this.collisions(model.row, model.col, model.sizeX, model.sizeY, args.element);\n\n          if (panelModel.col >= this.checkColumnValue) {\n            this.checkCollision = [];\n          }\n\n          this.updatePanelLayout(args.element, panelModel);\n          this.moveItemsUpwards();\n        }\n      }\n    }\n\n    if (this.allowPushing !== false) {\n      this.panelPropertyChange(this.getCellInstance(args.element.id), {\n        row: row,\n        col: col\n      });\n    }\n\n    if (this.oldRowCol[args.element.id].row !== row || this.oldRowCol[args.element.id].col !== col) {\n      this.panelPropertyChange(this.getCellInstance(args.element.id), {\n        row: row,\n        col: col\n      });\n      this.setAttributes({\n        value: {\n          col: col.toString(),\n          row: row.toString()\n        }\n      }, args.element);\n    }\n\n    if (this.startCol !== dragCol) {\n      this.startCol = endCol;\n      this.moveItemsUpwards();\n    }\n\n    if (!this.allowPushing) {\n      this.setHolderPosition(args);\n    }\n\n    this.removeResizeClasses(this.panelCollection);\n    this.setClasses(this.panelCollection);\n\n    if (this.allowPushing === false) {\n      return;\n    }\n  };\n\n  DashboardLayout.prototype.getPanelBase = function (args) {\n    var item;\n\n    for (var i = 0; i < this.panelCollection.length; i++) {\n      if (this.panelCollection[i].id === (args.element && args.element.id || args)) {\n        item = this.panelCollection[i];\n      }\n    }\n\n    return item;\n  };\n\n  DashboardLayout.prototype.getPanel = function (row, column, excludeItems) {\n    if (excludeItems && !(excludeItems instanceof Array)) {\n      excludeItems = [excludeItems];\n    }\n\n    var sizeY = 1;\n\n    while (row > -1) {\n      var sizeX = 1;\n      var col = column;\n\n      while (col > -1) {\n        var items = this.sortedArray[row];\n\n        if (items) {\n          var item = items[col];\n\n          if (item && (!excludeItems || excludeItems.indexOf(item) === -1) && parseInt(item.getAttribute('data-sizeX'), 10) >= sizeX && parseInt(item.getAttribute('data-sizeY'), 10) >= sizeY) {\n            return item;\n          }\n        }\n\n        ++sizeX;\n        --col;\n      }\n\n      --row;\n      ++sizeY;\n    }\n\n    return null;\n  };\n\n  DashboardLayout.prototype.setHolderPosition = function (args) {\n    var sizeY = parseInt(args.element.getAttribute('data-sizeY'), 10);\n    var col = parseInt(args.element.getAttribute('data-col'), 10);\n    var row = parseInt(args.element.getAttribute('data-row'), 10);\n    var sizeX = parseInt(args.element.getAttribute('data-sizeX'), 10);\n    var widthValue = this.getCellSize()[0];\n    var heightValue = this.getCellSize()[1];\n    var top = row === 0 ? 0 : row * (heightValue + this.cellSpacing[1]);\n    var left = col === 0 ? 0 : col * (widthValue + this.cellSpacing[0]);\n    var cellSizeOne = this.getCellSize()[1];\n    var cellSizeZero = this.getCellSize()[0];\n    this.elementRef.top = this.shadowEle.style.top = top + 'px';\n    this.elementRef.left = this.shadowEle.style.left = left + 'px';\n    this.elementRef.height = this.shadowEle.style.height = sizeY * cellSizeOne + (sizeY - 1) * this.cellSpacing[1] + 'px';\n    this.elementRef.width = this.shadowEle.style.width = sizeX * cellSizeZero + (sizeX - 1) * this.cellSpacing[0] + 'px';\n  };\n\n  DashboardLayout.prototype.getCellInstance = function (idValue) {\n    var currentCellInstance;\n\n    for (var i = 0; i < this.panels.length; i++) {\n      if (this.panels[i].id === idValue) {\n        currentCellInstance = this.panels[i];\n      }\n    }\n\n    return currentCellInstance;\n  };\n  /**\n   * Allows to add a panel to the Dashboardlayout.\n   *\n   * @param {panel} panel -  Defines the panel element.\n   *\n   * @returns void\n    */\n\n\n  DashboardLayout.prototype.addPanel = function (panel) {\n    this.panelsSizeY = 0;\n    this.maxCol();\n\n    if (!panel.minSizeX) {\n      panel.minSizeX = 1;\n    }\n\n    if (!panel.minSizeY) {\n      panel.minSizeY = 1;\n    }\n\n    if (!panel.id) {\n      panel.id = 'layout_' + this.panelID.toString();\n      this.panelID = this.panelID + 1;\n    } // eslint-disable-next-line\n\n\n    var panelProp = new Panel(this, 'panels', panel, true);\n    this.panels.push(panelProp);\n    this.panelsInitialModel = this.cloneModels(this.panels);\n    this.setMinMaxValues(panelProp);\n\n    if (this.maxColumnValue < panelProp.col || this.maxColumnValue < panelProp.col + panelProp.sizeX) {\n      this.panelPropertyChange(panelProp, {\n        col: this.maxColumnValue - panelProp.sizeX\n      });\n    }\n\n    var cell = this.renderCell(panelProp, true, null);\n    this.oldRowCol[panelProp.id] = {\n      row: panelProp.row,\n      col: panelProp.col\n    };\n    this.cloneObject[panelProp.id] = {\n      row: panelProp.row,\n      col: panelProp.col\n    };\n    this.updateOldRowColumn();\n    this.element.insertAdjacentElement('afterbegin', cell);\n    this.addPanelCalled = true;\n\n    if (this.checkMediaQuery()) {\n      this.checkMediaQuerySizing();\n      this.removeResizeClasses(this.panelCollection);\n    } else {\n      this.mainElement = cell;\n\n      if (!this.checkCollision) {\n        this.checkCollision = [];\n      }\n\n      this.setPanelPosition(cell, panelProp.row, panelProp.col);\n      this.updatePanelLayout(cell, panelProp);\n    }\n\n    this.addPanelCalled = false;\n\n    if (this.allowDragging && this.mediaQuery ? !this.checkMediaQuery() : false) {\n      this.enableDraggingContent([document.getElementById(panelProp.id)]);\n    }\n\n    this.setClasses([cell]);\n\n    if (this.allowFloating) {\n      this.mainElement = null;\n      this.moveItemsUpwards();\n    }\n\n    this.updateOldRowColumn();\n    this.sortedPanel();\n    this.updateCloneArrayObject();\n\n    if (this.allowResizing) {\n      for (var i = 0; i < cell.querySelectorAll('.e-resize').length; i++) {\n        var eventName = Browser.info.name === 'msie' ? 'mousedown pointerdown' : 'mousedown';\n        EventHandler.add(cell.querySelectorAll('.e-resize')[i], eventName, this.downResizeHandler, this);\n\n        if (Browser.info.name !== 'msie') {\n          EventHandler.add(cell.querySelectorAll('.e-resize')[i], 'touchstart', this.touchDownResizeHandler, this);\n        }\n      }\n    }\n\n    this.checkForChanges(false, [panelProp]);\n  };\n  /**\n   * Allows to update a panel in the DashboardLayout.\n   *\n   * @param {panel} panel - Defines the panel element.\n   *\n   * @returns void\n    */\n\n\n  DashboardLayout.prototype.updatePanel = function (panel) {\n    this.panelsSizeY = 0;\n\n    if (!panel.id) {\n      return;\n    }\n\n    var panelInstance = this.getCellInstance(panel.id);\n\n    if (!panelInstance) {\n      return;\n    }\n\n    this.maxCol();\n    panel.col = panel.col < 1 ? 0 : panel.col > this.columns ? this.columns - 1 : panel.col;\n\n    if (isNullOrUndefined(panel.col)) {\n      panel.col = panelInstance.col;\n    }\n\n    this.panelPropertyChange(panelInstance, panel);\n    this.setMinMaxValues(panelInstance);\n    var cell = document.getElementById(panel.id);\n    this.mainElement = cell;\n    var cssClass = panelInstance.cssClass ? panelInstance.cssClass.split(' ') : null;\n    this.panelContent = cell.querySelector('.e-panel-container') ? cell.querySelector('.e-panel-container') : this.createSubElement(cssClass, cell.id + '_content', panelContainer);\n    cell.appendChild(this.panelContent);\n\n    if (panelInstance.header) {\n      var headerTemplateElement = cell.querySelector('.e-panel-header') ? cell.querySelector('.e-panel-header') : this.createSubElement([], cell.id + 'template', '');\n      addClass([headerTemplateElement], [header]);\n      headerTemplateElement.innerHTML = '';\n      var id = this.element.id + 'HeaderTemplate' + panelInstance.id;\n      this.renderTemplate(panelInstance.header, headerTemplateElement, id, true, 'header');\n      this.panelContent.appendChild(headerTemplateElement);\n      this.renderReactTemplates();\n    } else {\n      if (cell.querySelector('.e-panel-header')) {\n        detach(cell.querySelector('.e-panel-header'));\n      }\n    }\n\n    if (panelInstance.content) {\n      var cssClass_2 = panelInstance.cssClass ? panelInstance.cssClass.split(' ') : null;\n      this.panelBody = cell.querySelector('.e-panel-content') ? cell.querySelector('.e-panel-content') : this.createSubElement(cssClass_2, cell.id + '_body', panelContent);\n      this.panelBody.innerHTML = '';\n      var headerHeight = this.panelContent.querySelector('.e-panel-header') ? window.getComputedStyle(this.panelContent.querySelector('.e-panel-header')).height : '0px';\n      var contentHeightValue = 'calc( 100% - ' + headerHeight + ')';\n      setStyle(this.panelBody, {\n        height: contentHeightValue\n      });\n      var id = this.element.id + 'ContentTemplate' + panelInstance.id;\n      this.renderTemplate(panelInstance.content, this.panelBody, id, true, 'content');\n      this.panelContent.appendChild(this.panelBody);\n      this.renderReactTemplates();\n    } else {\n      if (cell.querySelector('.e-panel-content')) {\n        detach(cell.querySelector('.e-panel-content'));\n      }\n    }\n\n    this.setXYAttributes(cell, panelInstance);\n    this.setHeightAndWidth(cell, panelInstance);\n    this.setPanelPosition(cell, panelInstance.row, panelInstance.col);\n    this.updatePanelLayout(cell, panelInstance);\n\n    if (this.checkMediaQuery()) {\n      this.checkMediaQuerySizing();\n    }\n\n    this.mainElement = null;\n    this.updatePanels();\n    this.updateCloneArrayObject();\n  };\n\n  DashboardLayout.prototype.updateCloneArrayObject = function () {\n    this.cloneArray = this.sortedArray;\n    this.cloneObject = JSON.parse(JSON.stringify(this.oldRowCol));\n  };\n  /**\n   * Returns the panels object of the DashboardLayout.\n   *\n   * @returns [`PanelModel[]`](./panelModel)\n   */\n\n\n  DashboardLayout.prototype.serialize = function () {\n    var cloneModel = this.cloneModels(this.panels);\n    var customObject = [];\n\n    for (var i = 0; i < cloneModel.length; i++) {\n      customObject.push({\n        id: cloneModel[i].id,\n        row: cloneModel[i].row,\n        col: cloneModel[i].col,\n        sizeX: cloneModel[i].sizeX,\n        sizeY: cloneModel[i].sizeY,\n        minSizeX: cloneModel[i].minSizeX,\n        minSizeY: cloneModel[i].minSizeY,\n        maxSizeX: cloneModel[i].maxSizeX,\n        maxSizeY: cloneModel[i].maxSizeY\n      });\n    }\n\n    return customObject;\n  };\n  /**\n   * Removes all the panels from the DashboardLayout.\n   */\n\n\n  DashboardLayout.prototype.removeAll = function () {\n    this.removeAllCalled = true;\n\n    for (var i = 0; i < this.panelCollection.length; i++) {\n      detach(this.panelCollection[i]);\n      this.clearTemplate();\n    }\n\n    this.removeAllPanel();\n    this.rows = 0;\n    this.gridPanelCollection = [];\n    this.setHeightWidth();\n    this.sortedPanel();\n    this.sortedArray = [];\n    this.overlapElementClone = [];\n    this.overlapElement = [];\n    this.overlapSubElementClone = [];\n    this.panelCollection = [];\n    this.oldRowCol = {};\n    this.cloneObject = {};\n    var clonedPanels = this.cloneModels(this.panels);\n    this.setProperties({\n      panels: []\n    }, true);\n    this.updatePanels();\n    this.updateCloneArrayObject();\n    this.checkForChanges(false, null, clonedPanels);\n    this.removeAllCalled = false;\n  };\n  /**\n   * Removes the panel from the DashboardLayout.\n   *\n   * @param {string} id -  Defines the panel ID.\n   *\n   * @returns void\n   */\n\n\n  DashboardLayout.prototype.removePanel = function (id) {\n    var _this = this;\n\n    this.panelsSizeY = 0;\n    this.panelsInitialModel = this.cloneModels(this.panels);\n    var removedPanel;\n\n    for (var i = 0; i < this.panelCollection.length; i++) {\n      if (this.panelCollection[i].id === id) {\n        detach(this.panelCollection[i]);\n        this.panelCollection.splice(i, 1);\n      }\n\n      if (this.panels[i].id === id) {\n        removedPanel = this.panels[i];\n        this.panels.splice(i, 1);\n        this.panelsInitialModel.splice(i, 1);\n        this.updateOldRowColumn();\n        this.sortedPanel();\n      }\n    }\n\n    this.updatePanels();\n\n    if (this.checkMediaQuery()) {\n      this.isPanelRemoved = true;\n      this.checkMediaQuerySizing();\n      this.isPanelRemoved = false;\n    }\n\n    this.gridPanelCollection.forEach(function (item) {\n      if (item.id === id) {\n        _this.gridPanelCollection.splice(_this.gridPanelCollection.indexOf(item), 1);\n      }\n    });\n    this.updateCloneArrayObject();\n    this.checkForChanges(false, null, [removedPanel]);\n  };\n  /**\n   *Moves the panel in the DashboardLayout.\n   *\n   * @param {string} id - Defines the panel ID.\n   *\n   * @param  {number} row - Defines the row of dashboard layout.\n   *\n   * @param {number} col - Defines the column of dashboard layout.\n   *\n   * @returns void\n   */\n\n\n  DashboardLayout.prototype.movePanel = function (id, row, col) {\n    this.movePanelCalled = true;\n    this.panelsInitialModel = this.cloneModels(this.panels);\n    var panelInstance = this.getCellInstance(id);\n\n    if (isNaN(row) || row === null || isNaN(col) || col === null || !panelInstance) {\n      return;\n    }\n\n    if (col < 0) {\n      col = 0;\n    } else if (col > this.columns) {\n      col = this.columns - panelInstance.sizeX;\n    }\n\n    this.panelPropertyChange(panelInstance, {\n      row: row,\n      col: col\n    });\n    var ele = document.getElementById(id);\n    this.mainElement = ele;\n    this.startRow = parseInt(ele.getAttribute('data-row'), 10);\n    this.startCol = parseInt(ele.getAttribute('data-col'), 10);\n    this.setAttributes({\n      value: {\n        col: col.toString(),\n        row: row.toString()\n      }\n    }, ele);\n    this.updateOldRowColumn();\n    this.setPanelPosition(ele, row, col);\n    this.updatePanelLayout(ele, panelInstance);\n    this.updateRowHeight();\n    this.updatePanels();\n    this.updateCloneArrayObject();\n    this.mainElement = null;\n\n    if (this.allowFloating) {\n      this.moveItemsUpwards();\n    }\n\n    this.movePanelCalled = false;\n    this.checkForChanges(false);\n  };\n\n  DashboardLayout.prototype.setAttributes = function (value, ele) {\n    for (var i = 0; i < Object.keys(value).length; i++) {\n      if (Object.keys(value)) {\n        if (value[Object.keys(value)[i]].col) {\n          ele.setAttribute('data-col', value[Object.keys(value)[i]].col.toString());\n        }\n\n        if (value[Object.keys(value)[i]].row) {\n          ele.setAttribute('data-row', value[Object.keys(value)[i]].row.toString());\n        }\n\n        if (value[Object.keys(value)[i]].sizeX) {\n          ele.setAttribute('data-sizeX', value[Object.keys(value)[i]].sizeX.toString());\n        }\n\n        if (value[Object.keys(value)[i]].sizeY) {\n          ele.setAttribute('data-sizeY', value[Object.keys(value)[i]].sizeY.toString());\n        }\n\n        if (value[Object.keys(value)[i]].minSizeX) {\n          ele.setAttribute('data-minSizeX', value[Object.keys(value)[i]].minSizeX.toString());\n        }\n\n        if (value[Object.keys(value)[i]].minSizeY) {\n          ele.setAttribute('data-minSizeY', value[Object.keys(value)[i]].minSizeY.toString());\n        }\n\n        if (value[Object.keys(value)[i]].maxSizeX) {\n          ele.setAttribute('data-maxSizeY', value[Object.keys(value)[i]].maxSizeX.toString());\n        }\n\n        if (value[Object.keys(value)[i]].maxSizeY) {\n          ele.setAttribute('data-maxSizeY', value[Object.keys(value)[i]].maxSizeY.toString());\n        }\n      }\n    }\n  };\n  /**\n   * Resize the panel in the DashboardLayout.\n   *\n   * @param {string} id - Defines the panel ID.\n   *\n   * @param {number} sizeX - Defines the sizeX of dashboard layout.\n   *\n   * @param {number} sizeY - Defines the sizeY of dashboard layout.\n   */\n\n\n  DashboardLayout.prototype.resizePanel = function (id, sizeX, sizeY) {\n    this.panelsInitialModel = this.cloneModels(this.panels);\n    var panelInstance = this.getCellInstance(id);\n    this.resizeCalled = true;\n    var ele = document.getElementById(id);\n    var args = {\n      event: null,\n      element: ele,\n      isInteracted: false\n    };\n    this.trigger('resizeStart', args);\n    this.panelPropertyChange(panelInstance, {\n      sizeX: sizeX,\n      sizeY: sizeY\n    });\n    this.setMinMaxValues(panelInstance);\n    this.checkMinMaxValues(panelInstance);\n    this.mainElement = ele;\n    this.setAttributes({\n      value: {\n        sizeX: panelInstance.sizeX.toString(),\n        sizeY: panelInstance.sizeY.toString()\n      }\n    }, ele);\n    this.setHeightAndWidth(ele, panelInstance);\n    this.updatePanelLayout(ele, panelInstance);\n    this.updatePanels();\n    this.updateRowHeight();\n    this.resizeCalled = false;\n    this.trigger('resizeStop', args);\n    this.checkForChanges(false);\n  };\n  /**\n   * Destroys the DashboardLayout component\n   *\n   * @returns void\n   */\n\n\n  DashboardLayout.prototype.destroy = function () {\n    // eslint-disable-next-line\n    EventHandler.remove(window, 'resize', this.refreshListener);\n    removeClass([this.element], ['e-dashboardlayout', 'e-lib', 'e-responsive', 'e-control']);\n    this.element.removeAttribute('style');\n\n    for (var i = 0; i < this.dragCollection.length; i++) {\n      this.dragCollection[i].destroy();\n    }\n\n    this.removeAllPanel();\n\n    _super.prototype.destroy.call(this);\n\n    this.clearTemplate();\n    this.renderReactTemplates();\n  };\n\n  DashboardLayout.prototype.removeAllPanel = function () {\n    while (this.element.firstElementChild) {\n      detach(this.element.firstElementChild);\n      this.clearTemplate();\n    }\n  };\n\n  DashboardLayout.prototype.setEnableRtl = function () {\n    if (this.enableRtl === true) {\n      addClass([this.element], 'e-rtl');\n    } else {\n      removeClass([this.element], 'e-rtl');\n    }\n  };\n  /**\n   * Called internally if any of the property value changed.\n   * returns void\n   *\n   * @private\n   */\n\n\n  DashboardLayout.prototype.updateCellSizeAndSpacing = function () {\n    this.panelResponsiveUpdate();\n    this.setHeightWidth();\n    this.getRowColumn();\n\n    for (var i = 0; i < this.element.querySelectorAll('.e-panel').length; i++) {\n      var ele = this.element.querySelectorAll('.e-panel')[i];\n      var panelModel = this.getCellInstance(ele.id);\n      this.setHeightAndWidth(ele, panelModel);\n      this.setPanelPosition(ele, panelModel.row, panelModel.col);\n    }\n  };\n\n  DashboardLayout.prototype.updatePanelsDynamically = function (panels) {\n    this.removeAll();\n    this.setProperties({\n      panels: panels\n    }, true);\n    this.setOldRowCol();\n\n    if (this.table) {\n      this.table.remove();\n    }\n\n    this.initialize();\n\n    if (this.checkMediaQuery()) {\n      this.refresh();\n    }\n\n    if (this.showGridLines) {\n      this.initGridLines();\n    }\n  };\n\n  DashboardLayout.prototype.checkForIDValues = function (panels) {\n    var _this = this;\n\n    if (!isNullOrUndefined(panels) && panels.length > 0) {\n      this.panelID = 0;\n      panels.forEach(function (panel) {\n        if (!panel.id) {\n          _this.panelPropertyChange(panel, {\n            id: 'layout_' + _this.panelID.toString()\n          });\n\n          _this.panelID = _this.panelID + 1;\n        }\n      });\n    } else {\n      this.restrictDynamicUpdate = true;\n    }\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * returns void\n   *\n   * @private\n   */\n  // eslint-disable-next-line\n\n\n  DashboardLayout.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var _this = this;\n\n    if (newProp.panels && newProp.panels.length > 0 && newProp.panels[0] instanceof Panel) {\n      this.checkForIDValues(newProp.panels);\n    }\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'enableRtl':\n          this.setProperties({\n            enableRtl: newProp.enableRtl\n          }, true);\n          this.setEnableRtl();\n          break;\n\n        case 'mediaQuery':\n          this.setProperties({\n            mediaQuery: newProp.mediaQuery\n          }, true);\n\n          if (this.checkMediaQuery()) {\n            this.checkMediaQuerySizing();\n          }\n\n          break;\n\n        case 'allowDragging':\n          this.setProperties({\n            allowDragging: newProp.allowDragging\n          }, true);\n          this.ensureDrag();\n          break;\n\n        case 'allowResizing':\n          this.setProperties({\n            allowResizing: newProp.allowResizing\n          }, true);\n\n          if (this.allowResizing) {\n            this.setClasses(this.panelCollection);\n            this.resizeEvents();\n          } else {\n            var panelElements = this.element.querySelectorAll('.e-panel .e-panel-container .e-resize');\n\n            for (var i = 0; i < panelElements.length; i++) {\n              var eventName = Browser.info.name === 'msie' ? 'mousedown pointerdown' : 'mousedown';\n              var element = panelElements[i];\n              EventHandler.remove(element, eventName, this.downResizeHandler);\n\n              if (Browser.info.name !== 'msie') {\n                EventHandler.remove(element, 'touchstart', this.touchDownResizeHandler);\n              }\n            }\n\n            this.removeResizeClasses(this.panelCollection);\n          }\n\n          break;\n\n        case 'cellSpacing':\n          this.setProperties({\n            cellSpacing: newProp.cellSpacing\n          }, true);\n          this.updateCellSizeAndSpacing();\n          this.updateGridLines();\n          break;\n\n        case 'draggableHandle':\n          this.setProperties({\n            draggableHandle: newProp.draggableHandle\n          }, true);\n          this.ensureDrag();\n          break;\n\n        case 'allowFloating':\n          this.setProperties({\n            allowFloating: newProp.allowFloating\n          }, true);\n          this.moveItemsUpwards();\n          break;\n\n        case 'showGridLines':\n          if (this.showGridLines) {\n            this.setProperties({\n              showGridLines: newProp.showGridLines\n            }, true);\n            this.initGridLines();\n          } else {\n            if (this.table) {\n              detach(this.table);\n            }\n          }\n\n          break;\n\n        case 'allowPushing':\n          this.setProperties({\n            allowPushing: newProp.allowPushing\n          }, true);\n          break;\n\n        case 'panels':\n          if (!newProp.columns && !this.restrictDynamicUpdate && newProp.panels[0] && newProp.panels.length > 0) {\n            this.isRenderComplete = false;\n            this.updatePanelsDynamically(newProp.panels);\n            this.isRenderComplete = true;\n          } else if (!(newProp.panels[0] && newProp.panels.length)) {\n            this.isRenderComplete = false;\n            this.updatePanelsDynamically(this.panels);\n            this.isRenderComplete = true;\n          } else {\n            this.restrictDynamicUpdate = false;\n          }\n\n          break;\n\n        case 'columns':\n          this.isRenderComplete = false;\n\n          if (newProp.panels) {\n            this.updatePanelsDynamically(newProp.panels);\n          }\n\n          this.setProperties({\n            columns: newProp.columns\n          }, true);\n          this.panelCollection = [];\n          this.maxColumnValue = this.columns;\n          this.calculateCellSize();\n          this.panels.forEach(function (panel) {\n            _this.setMinMaxValues(panel);\n\n            if (_this.maxColumnValue < panel.col || _this.maxColumnValue < panel.col + panel.sizeX) {\n              var colValue = _this.maxColumnValue - panel.sizeX;\n\n              _this.panelPropertyChange(panel, {\n                col: colValue < 0 ? 0 : colValue\n              });\n\n              _this.setXYAttributes(document.getElementById(panel.id), panel);\n            }\n\n            _this.setHeightAndWidth(document.getElementById(panel.id), panel);\n\n            _this.panelCollection.push(document.getElementById(panel.id));\n\n            _this.setPanelPosition(document.getElementById(panel.id), panel.row, panel.col);\n\n            _this.mainElement = document.getElementById(panel.id);\n\n            _this.updatePanelLayout(document.getElementById(panel.id), panel);\n\n            _this.mainElement = null;\n          });\n          this.updatePanels();\n          this.updateCloneArrayObject();\n          this.isRenderComplete = true;\n          this.updateGridLines();\n          break;\n      }\n    }\n  };\n  /**\n   * Gets the properties to be maintained upon browser refresh.\n   *\n   * @returns string\n   * @private\n   */\n\n\n  DashboardLayout.prototype.getPersistData = function () {\n    var keyEntity = ['panels'];\n    return this.addOnPersist(keyEntity);\n  };\n  /* istanbul ignore next */\n\n\n  DashboardLayout.prototype.mergePersistPanelData = function (persistedData) {\n    var data = window.localStorage.getItem(this.getModuleName() + this.element.id);\n\n    if (!(isNullOrUndefined(data) || data === '') || !isNullOrUndefined(persistedData)) {\n      var dataObj = !isNullOrUndefined(persistedData) ? persistedData : JSON.parse(data);\n      var keys = Object.keys(dataObj);\n      this.isProtectedOnChange = true;\n\n      for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var key = keys_1[_i];\n\n        if (typeof getValue(key, this) === 'object' && !isNullOrUndefined(getValue(key, this))) {\n          if (Array.isArray(getValue(key, this)) && key === 'panels') {\n            this.mergePanels(dataObj[key], this[key]);\n          }\n        }\n      }\n\n      this.isProtectedOnChange = false;\n    }\n  };\n  /* istanbul ignore next */\n\n\n  DashboardLayout.prototype.mergePanels = function (sortedPanels, panels) {\n    var storedColumns = sortedPanels;\n\n    var _loop_6 = function (i) {\n      this_4.checkForIDValues(panels);\n      var localPanel = panels.filter(function (pan) {\n        return pan.id === storedColumns[i].id;\n      })[0];\n\n      if (!isNullOrUndefined(localPanel)) {\n        storedColumns[i] = extend(localPanel, storedColumns[i], {}, true);\n      }\n    };\n\n    var this_4 = this;\n\n    for (var i = 0; i < storedColumns.length; i++) {\n      _loop_6(i);\n    }\n  };\n  /**\n   * Returns the current module name.\n   *\n   * @returns string\n   *\n   * @private\n   */\n\n\n  DashboardLayout.prototype.getModuleName = function () {\n    return 'DashboardLayout';\n  };\n\n  __decorate([Property(true)], DashboardLayout.prototype, \"allowDragging\", void 0);\n\n  __decorate([Property(false)], DashboardLayout.prototype, \"allowResizing\", void 0);\n\n  __decorate([Property(true)], DashboardLayout.prototype, \"allowPushing\", void 0);\n\n  __decorate([Property(true)], DashboardLayout.prototype, \"enableHtmlSanitizer\", void 0);\n\n  __decorate([Property(true)], DashboardLayout.prototype, \"allowFloating\", void 0);\n\n  __decorate([Property(1)], DashboardLayout.prototype, \"cellAspectRatio\", void 0);\n\n  __decorate([Property([5, 5])], DashboardLayout.prototype, \"cellSpacing\", void 0);\n\n  __decorate([Property(1)], DashboardLayout.prototype, \"columns\", void 0);\n\n  __decorate([Property(false)], DashboardLayout.prototype, \"showGridLines\", void 0);\n\n  __decorate([Property(null)], DashboardLayout.prototype, \"draggableHandle\", void 0);\n\n  __decorate([Property('en-US')], DashboardLayout.prototype, \"locale\", void 0);\n\n  __decorate([Property('max-width: 600px')], DashboardLayout.prototype, \"mediaQuery\", void 0);\n\n  __decorate([Collection([], Panel)], DashboardLayout.prototype, \"panels\", void 0);\n\n  __decorate([Property(['e-south-east'])], DashboardLayout.prototype, \"resizableHandles\", void 0);\n\n  __decorate([Event()], DashboardLayout.prototype, \"change\", void 0);\n\n  __decorate([Event()], DashboardLayout.prototype, \"dragStart\", void 0);\n\n  __decorate([Event()], DashboardLayout.prototype, \"drag\", void 0);\n\n  __decorate([Event()], DashboardLayout.prototype, \"dragStop\", void 0);\n\n  __decorate([Event()], DashboardLayout.prototype, \"resizeStart\", void 0);\n\n  __decorate([Event()], DashboardLayout.prototype, \"resize\", void 0);\n\n  __decorate([Event()], DashboardLayout.prototype, \"resizeStop\", void 0);\n\n  __decorate([Event()], DashboardLayout.prototype, \"created\", void 0);\n\n  __decorate([Event()], DashboardLayout.prototype, \"destroyed\", void 0);\n\n  DashboardLayout = __decorate([NotifyPropertyChanges], DashboardLayout);\n  return DashboardLayout;\n}(Component);\n\nexport { DashboardLayout };","map":{"version":3,"sources":["/Users/yasaman/Documents/moj_adminpanel/adminpanel/node_modules/@syncfusion/ej2-layouts/src/dashboard-layout/dashboard-layout.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","Property","NotifyPropertyChanges","isUndefined","Collection","Draggable","isNullOrUndefined","append","setValue","Event","formatUnit","ChildProperty","compile","closest","SanitizeHtmlHelper","getValue","setStyleAttribute","setStyle","addClass","detach","removeClass","EventHandler","Browser","extend","preventSelect","dragging","draggable","dragRestrict","drag","resize","resizeicon","responsive","east","west","north","south","single","double","northEast","southEast","northWest","southWest","panel","panelContent","panelContainer","disable","header","panelTransition","Panel","_super","apply","DashboardLayout","options","element","_this","call","rows","panelID","movePanelCalled","resizeCalled","mOffX","mOffY","maxTop","maxRows","mouseX","mouseY","minTop","minLeft","isInlineRendering","removeAllCalled","isPanelRemoved","panelsSizeY","resizeHeight","mergePersistPanelData","preRender","panelCollection","sortedArray","gridPanelCollection","overlapElement","overlapElementClone","overlapSubElementClone","collisionChecker","dragCollection","elementRef","top","left","height","width","dimensions","allItems","oldRowCol","availableClasses","setOldRowCol","calculateCellSize","contentTemplateChild","slice","children","panels","id","panelPropertyChange","toString","row","col","createPanelElement","cssClass","idValue","ele","createElement","setAttribute","render","initialize","isRenderComplete","showGridLines","checkMediaQuery","initGridLines","updateDragArea","renderComplete","renderReactTemplates","table","document","tbody","classList","add","maxRow","tr","j","columns","td","setAttributes","value","sizeX","sizeY","setPanelPosition","setHeightAndWidth","appendChild","updateRowHeight","childElementCount","querySelectorAll","panelElements","setProperties","push","panelElement","enableRtl","getInlinePanels","maxCol","querySelector","setMinMaxValues","maxColumnValue","colValue","setXYAttributes","panel_1","renderPanels","tempObject","mediaQuery","window","matchMedia","matches","mainElement","updatePanelLayout","setClasses","updateOldRowColumn","checkMediaQuerySizing","renderDashBoardCells","allowDragging","enableDraggingContent","sortedPanel","bindEvents","updatePanels","updateCloneArrayObject","checkColumnValue","panelResponsiveUpdate","setEnableRtl","cellSize","parentElement","offsetWidth","cellAspectRatio","cellSpacing","recheck","getElementById","parseInt","getAttribute","createSubElement","className","templateParser","template","innerHTML","trim","error","sanitizedValue","sanitize","enableHtmlSanitizer","undefined","renderTemplate","content","appendElement","type","isStringTemplate","prop","templateFn","templateElements","tagName","eleVal","style","display","removeProperty","removeAttribute","compilerFn","_i","compilerFn_1","item","cellElement","panelModel","panelId","split","enabled","disablePanel","headerTemplateElement","cssClass_1","panelBody","headerHeight","getComputedStyle","contentHeightValue","model","hasAttribute","minSizeX","minSizeY","maxSizeX","maxSizeY","zIndex","panelProp","resizeEvents","allowResizing","eventName","info","name","downResizeHandler","touchDownResizeHandler","refreshListener","refresh","bind","e","downHandler","lastMouseX","pageX","lastMouseY","pageY","moveEventName","upEventName","isMouseMoveBound","moveResizeHandler","isMouseUpBound","upResizeHandler","panelsInitialModel","cloneModels","el","currentTarget","args","event","isInteracted","trigger","downTarget","shadowEle","elementX","parseFloat","elementY","elementWidth","elementHeight","offsetHeight","originalWidth","getCellInstance","originalHeight","previousRow","changedTouches","touchMoveResizeHandler","getCellSize","updateMaxTopLeft","moveTarget","updateResizeElement","maxLeft","handleArray","indexOf","handleClass","diffY","diffX","resizingPanel","currentX","currentY","oldSizeX","oldSizeY","dY","dX","getMinHeight","getMaxHeight","getMinWidth","getMaxWidth","getResizeRowColumn","attributes","upTarget","remove","allowFloating","moveItemsUpwards","checkForChanges","isChanged","pixelsToColumns","pixelsToRows","canOccupy","collisions","getPanelBase","allowPushing","pixels","isCeil","curColWidth","Math","ceil","floor","round","l","sortItem","rowIndex","colIndex","len","moveItemUpwards","updateGridLines","availableRow","availableColumn","items","rowValue","columnValue","column","oldRow","updateLayout","contains","cellInstance","removeResizeClasses","checkDragging","destroy","sortPanels","_loop_1","_loop_2","this_1","filter","updatedPanel","updatedRows","updatedHeight","getRowColumn","setHeightWidth","heightValue","widthValue","setXYDimensions","renderCell","index","dashBoardCell","xValue","max","checkMinMaxValues","cells","cell","ignore","h","w","getPanel","rightWardsSpaceChecking","rowElements","spacedColumns","forEach","sizeXValue","occupiedValues","getOccupiedColumns","splice","eleOccupiedValues","checkingElement","sort","next","previous","occupiedItems","leftWardsSpaceChecking","prev","reverse","adjustmentAvailable","leftAdjustable","rightAdjustable","isAdjustable","rightSpacing","rowElement","topAdjustable","eleSizeX","eleCol","getRowElements","leftSpacing","isLeftAdjustable","spacedColumnValue","isRightAdjustable","endRow","topCheck","startRow","spacedRowValue","isXSpacingAvailable","spacing","isSpaceAvailable","subSpacingColumns","base","spaces","isLeftAdjudtable","xAdjust","collisionValue","replacable","isRightAdjudtable","collision","updatedCollision","exclusions","sortCollisionItems","collisionItems","_loop_3","_loop_4","this_2","updatedModels","removeableElement","adjust","resetLayout","addPanelCalled","cloneObject","cloneArray","checkCollision","swapAvailability","available","eleModel","count","collideModel","excludeEle","checkForSwapping","direction","eleSwapRow","isSwappable","count1","updatedRow","collideInstance","elementinstance","swapCollision","swapItems","swappedElements","collisionItemsRow","collisionInstance","itemModel","initialModel","checkForAdjustment","collisionModels","swappingAvailable","proxy_1","item1","updateRowColumn","checkForCompletePushing","isSubValue","srcEle","updateCollisionChecked","keys","eleSizeY","eleRow","shouldRestrict","i_1","collisionY","collisionCol","collisionX","overlapElementModel","ele_1","k","eleRow_1","excludeElements","collisionPanel","clone","proxy_2","overlapElementRow1","m","_loop_5","rowVal","this_3","colValue_1","collisionModels1","proxy","resizerElements","i_2","ensureDrag","dragPanels","containerEle","draggableHandle","setResizingClass","container","resizableHandles","spanEle","addClassValue","cellHeight","cellWidth","heigthValue","getRowColumnDragValues","elementTop","elementLeft","added","removed","changedPanels","changedArgs","addedPanels","removedPanels","collections","abortArray","dragobj","preventDefault","dragArea","isDragScroll","handle","abort","dragStart","onDraggingStart","dragStop","setHolderPosition","panelInstance","dragStopEventArgs","draggedEventArgs","onDragStart","setDragArea","updateRowsHeight","addRows","dragArgs","JSON","parse","stringify","eleRowValue","startCol","source","endCol","dragCol","excludeItems","cellSizeOne","cellSizeZero","currentCellInstance","addPanel","insertAdjacentElement","updatePanel","cssClass_2","serialize","cloneModel","customObject","removeAll","clearTemplate","removeAllPanel","clonedPanels","removePanel","removedPanel","movePanel","isNaN","resizePanel","firstElementChild","updateCellSizeAndSpacing","updatePanelsDynamically","checkForIDValues","restrictDynamicUpdate","onPropertyChanged","newProp","oldProp","_a","getPersistData","keyEntity","addOnPersist","persistedData","data","localStorage","getItem","getModuleName","dataObj","isProtectedOnChange","keys_1","isArray","mergePanels","sortedPanels","storedColumns","_loop_6","this_4","localPanel","pan"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, NotifyPropertyChanges, isUndefined } from '@syncfusion/ej2-base';\nimport { Collection, Draggable, isNullOrUndefined, append, setValue } from '@syncfusion/ej2-base';\nimport { Event, formatUnit, ChildProperty, compile, closest, SanitizeHtmlHelper, getValue } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, addClass, detach, removeClass, EventHandler, Browser, extend } from '@syncfusion/ej2-base';\n// constant class definitions\nvar preventSelect = 'e-prevent';\nvar dragging = 'e-dragging';\nvar draggable = 'e-draggable';\nvar dragRestrict = 'e-drag-restrict';\nvar drag = 'e-drag';\nvar resize = 'e-resize';\nvar resizeicon = 'e-dl-icon';\nvar responsive = 'e-responsive';\nvar east = 'e-east';\nvar west = 'e-west';\nvar north = 'e-north';\nvar south = 'e-south';\nvar single = 'e-single';\nvar double = 'e-double';\nvar northEast = 'e-north-east';\nvar southEast = 'e-south-east';\nvar northWest = 'e-north-west';\nvar southWest = 'e-south-west';\nvar panel = 'e-panel';\nvar panelContent = 'e-panel-content';\nvar panelContainer = 'e-panel-container';\nvar disable = 'e-disabled';\nvar header = 'e-panel-header';\nvar panelTransition = 'e-panel-transition';\n/**\n * Defines the panel of the DashboardLayout component.\n */\nvar Panel = /** @class */ (function (_super) {\n    __extends(Panel, _super);\n    function Panel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Panel.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], Panel.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], Panel.prototype, \"header\", void 0);\n    __decorate([\n        Property('')\n    ], Panel.prototype, \"content\", void 0);\n    __decorate([\n        Property(true)\n    ], Panel.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(0)\n    ], Panel.prototype, \"row\", void 0);\n    __decorate([\n        Property(0)\n    ], Panel.prototype, \"col\", void 0);\n    __decorate([\n        Property(1)\n    ], Panel.prototype, \"sizeX\", void 0);\n    __decorate([\n        Property(1)\n    ], Panel.prototype, \"sizeY\", void 0);\n    __decorate([\n        Property(1)\n    ], Panel.prototype, \"minSizeY\", void 0);\n    __decorate([\n        Property(1)\n    ], Panel.prototype, \"minSizeX\", void 0);\n    __decorate([\n        Property(null)\n    ], Panel.prototype, \"maxSizeY\", void 0);\n    __decorate([\n        Property(null)\n    ], Panel.prototype, \"maxSizeX\", void 0);\n    __decorate([\n        Property(1000)\n    ], Panel.prototype, \"zIndex\", void 0);\n    return Panel;\n}(ChildProperty));\nexport { Panel };\n/**\n * The DashboardLayout is a grid structured layout control, that helps to create a dashboard with panels.\n * Panels hold the UI components or data to be visualized with flexible options like resize, reorder, drag-n-drop, remove and add,\n * that allows users to easily place the panels at a desired position within the grid layout.\n * ```html\n * <div id=\"default-layout\">\n * ```\n * ```typescript\n * <script>\n *   let dashBoardObject : DashboardLayout = new DashboardLayout();\n *   dashBoardObject.appendTo('#default-layout');\n * </script>\n * ```\n */\nvar DashboardLayout = /** @class */ (function (_super) {\n    __extends(DashboardLayout, _super);\n    function DashboardLayout(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.rows = 1;\n        _this.panelID = 0;\n        _this.movePanelCalled = false;\n        _this.resizeCalled = false;\n        _this.mOffX = 0;\n        _this.mOffY = 0;\n        _this.maxTop = 9999;\n        _this.maxRows = 100;\n        _this.mouseX = 0;\n        _this.mouseY = 0;\n        _this.minTop = 0;\n        _this.minLeft = 0;\n        _this.isInlineRendering = false;\n        _this.removeAllCalled = false;\n        // to check whether removePanel is executed in mobile device\n        _this.isPanelRemoved = false;\n        // to maintain sizeY in mobile device\n        _this.panelsSizeY = 0;\n        _this.resizeHeight = false;\n        setValue('mergePersistData', _this.mergePersistPanelData, _this);\n        return _this;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     */\n    DashboardLayout.prototype.preRender = function () {\n        this.panelCollection = [];\n        this.sortedArray = [];\n        this.gridPanelCollection = [];\n        this.overlapElement = [];\n        this.overlapElementClone = [];\n        this.overlapSubElementClone = [];\n        this.collisionChecker = {};\n        this.dragCollection = [];\n        this.elementRef = { top: '', left: '', height: '', width: '' };\n        this.dimensions = [];\n        this.allItems = [];\n        this.oldRowCol = {};\n        this.availableClasses = [];\n        this.setOldRowCol();\n        this.calculateCellSize();\n        this.contentTemplateChild = [].slice.call(this.element.children);\n    };\n    DashboardLayout.prototype.setOldRowCol = function () {\n        for (var i = 0; i < this.panels.length; i++) {\n            if (!this.panels[i].id) {\n                this.panelPropertyChange(this.panels[i], { id: 'layout_' + this.panelID.toString() });\n                this.panelID = this.panelID + 1;\n            }\n            this.oldRowCol[this.panels[i].id] = { row: this.panels[i].row, col: this.panels[i].col };\n        }\n    };\n    DashboardLayout.prototype.createPanelElement = function (cssClass, idValue) {\n        var ele = this.createElement('div');\n        if (cssClass && cssClass.length > 0) {\n            addClass([ele], cssClass);\n        }\n        if (idValue) {\n            ele.setAttribute('id', idValue);\n        }\n        return ele;\n    };\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns void\n     * @private\n     */\n    DashboardLayout.prototype.render = function () {\n        this.initialize();\n        this.isRenderComplete = true;\n        if (this.showGridLines && !this.checkMediaQuery()) {\n            this.initGridLines();\n        }\n        this.updateDragArea();\n        this.renderComplete();\n        this.renderReactTemplates();\n    };\n    DashboardLayout.prototype.initGridLines = function () {\n        this.table = document.createElement('table');\n        var tbody = document.createElement('tbody');\n        this.table.classList.add('e-dashboard-gridline-table');\n        for (var i = 0; i < this.maxRow(); i++) {\n            var tr = document.createElement('tr');\n            for (var j = 0; j < this.columns; j++) {\n                var td = document.createElement('td');\n                td.classList.add('e-dashboard-gridline');\n                this.setAttributes({ value: { row: i.toString(), col: j.toString(), sizeX: '1', sizeY: '1' } }, td);\n                td.setAttribute('id', '' + j);\n                this.setPanelPosition(td, i, j);\n                this.setHeightAndWidth(td, { row: i, col: j, sizeX: 1, sizeY: 1 });\n                tr.appendChild(td);\n            }\n            tbody.appendChild(tr);\n        }\n        this.table.appendChild(tbody);\n        this.element.appendChild(this.table);\n        this.renderReactTemplates();\n    };\n    DashboardLayout.prototype.initialize = function () {\n        this.updateRowHeight();\n        if (this.element.childElementCount > 0 && this.element.querySelectorAll('.e-panel').length > 0) {\n            var panelElements = [];\n            this.setProperties({ panels: [] }, true);\n            this.isInlineRendering = true;\n            for (var i = 0; i < this.element.querySelectorAll('.e-panel').length; i++) {\n                panelElements.push((this.element.querySelectorAll('.e-panel')[i]));\n            }\n            for (var i = 0; i < panelElements.length; i++) {\n                var panelElement = panelElements[i];\n                if (this.enableRtl) {\n                    addClass([panelElement], 'e-rtl');\n                }\n                this.getInlinePanels(panelElement);\n                this.maxCol();\n                this.maxRow();\n            }\n            for (var i = 0; i < this.panels.length; i++) {\n                var panelElement = this.element.querySelector('#' + this.panels[i].id);\n                this.setMinMaxValues(this.panels[i]);\n                if (this.maxColumnValue < this.panels[i].col || this.maxColumnValue < (this.panels[i].col + this.panels[i].sizeX)) {\n                    var colValue = this.maxColumnValue - this.panels[i].sizeX;\n                    this.panelPropertyChange(this.panels[i], { col: colValue < 0 ? 0 : colValue });\n                }\n                this.setXYAttributes(panelElement, this.panels[i]);\n                var panel_1 = this.renderPanels(panelElement, this.panels[i], this.panels[i].id, false);\n                this.panelCollection.push(panel_1);\n                this.setHeightAndWidth(panelElement, this.panels[i]);\n                this.tempObject = this;\n                if (this.mediaQuery && !window.matchMedia('(' + this.mediaQuery + ')').matches) {\n                    this.setPanelPosition(panelElement, this.panels[i].row, this.panels[i].col);\n                    this.mainElement = panelElement;\n                    this.updatePanelLayout(panelElement, this.panels[i]);\n                    this.mainElement = null;\n                }\n                this.setClasses([panelElement]);\n            }\n            this.updateOldRowColumn();\n            if (this.checkMediaQuery()) {\n                this.checkMediaQuerySizing();\n            }\n        }\n        else {\n            this.renderDashBoardCells(this.panels);\n        }\n        if (this.allowDragging && (this.mediaQuery ? !window.matchMedia('(' + this.mediaQuery + ')').matches : true)) {\n            this.enableDraggingContent(this.panelCollection);\n        }\n        this.sortedPanel();\n        this.bindEvents();\n        this.updatePanels();\n        this.updateCloneArrayObject();\n        this.checkColumnValue = this.maxColumnValue;\n        if (!(this.checkMediaQuery())) {\n            this.panelResponsiveUpdate();\n        }\n        this.setEnableRtl();\n    };\n    DashboardLayout.prototype.checkMediaQuery = function () {\n        return (this.mediaQuery && window.matchMedia('(' + this.mediaQuery + ')').matches);\n    };\n    DashboardLayout.prototype.calculateCellSize = function () {\n        this.cellSize = [];\n        if ((this.checkMediaQuery())) {\n            this.cellSize[1] = this.element.parentElement\n                && ((this.element.parentElement.offsetWidth)) / this.cellAspectRatio;\n        }\n        else {\n            this.cellSize[0] = this.element.parentElement &&\n                ((this.element.parentElement.offsetWidth));\n            this.cellSize[0] = this.element.parentElement\n                && ((this.element.parentElement.offsetWidth - ((this.maxCol() - 1) * this.cellSpacing[0]))\n                    / (this.maxCol()));\n            this.cellSize[1] = this.cellSize[0] / this.cellAspectRatio;\n        }\n    };\n    DashboardLayout.prototype.maxRow = function (recheck) {\n        var maxRow = 1;\n        if (this.rows > 1 && isNullOrUndefined(recheck)) {\n            maxRow = this.rows;\n            return maxRow;\n        }\n        for (var i = 0; i < this.panels.length; i++) {\n            if (this.panels[i].sizeY + this.panels[i].row > maxRow) {\n                maxRow = this.panels[i].sizeY + this.panels[i].row;\n            }\n        }\n        if (this.panels.length === 0) {\n            maxRow = this.columns;\n        }\n        return maxRow;\n    };\n    DashboardLayout.prototype.maxCol = function () {\n        var maxCol = 1;\n        maxCol = this.columns;\n        this.maxColumnValue = maxCol;\n        return maxCol;\n    };\n    DashboardLayout.prototype.updateOldRowColumn = function () {\n        for (var i = 0; i < this.panels.length; i++) {\n            var id = this.panels[i].id;\n            if (document.getElementById(id)) {\n                var row = parseInt(document.getElementById(id).getAttribute('data-row'), 10);\n                var col = parseInt(document.getElementById(id).getAttribute('data-col'), 10);\n                this.oldRowCol[this.panels[i].id] = { row: row, col: col };\n            }\n            else {\n                continue;\n            }\n        }\n    };\n    DashboardLayout.prototype.createSubElement = function (cssClass, idValue, className) {\n        var element = this.createElement('div');\n        if (className) {\n            addClass([element], [className]);\n        }\n        if (cssClass && cssClass.length > 0) {\n            addClass([element], cssClass);\n        }\n        if (idValue) {\n            element.setAttribute('id', idValue);\n        }\n        return element;\n    };\n    // eslint-disable-next-line\n    DashboardLayout.prototype.templateParser = function (template) {\n        if (template) {\n            try {\n                if (document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n            }\n            catch (error) {\n                var sanitizedValue = SanitizeHtmlHelper.sanitize(template);\n                return compile((this.enableHtmlSanitizer && typeof (template) === 'string') ? sanitizedValue : template);\n            }\n        }\n        return undefined;\n    };\n    DashboardLayout.prototype.renderTemplate = function (content, appendElement, type, isStringTemplate, prop) {\n        // eslint-disable-next-line\n        var templateFn = this.templateParser(content);\n        var templateElements = [];\n        if ((content[0] === '.' || content[0] === '#') &&\n            document.querySelector(content).tagName !== 'SCRIPT') {\n            var eleVal = document.querySelector(content);\n            if (!isNullOrUndefined(eleVal)) {\n                if (eleVal.style.display === 'none') {\n                    eleVal.style.removeProperty('display');\n                }\n                if (eleVal.getAttribute('style') === '') {\n                    eleVal.removeAttribute('style');\n                }\n                appendElement.appendChild(eleVal);\n                return;\n            }\n            else {\n                content = content.trim();\n            }\n        }\n        else {\n            // eslint-disable-next-line\n            var compilerFn = templateFn({}, this, prop, type, isStringTemplate, null, appendElement);\n            if (compilerFn) {\n                for (var _i = 0, compilerFn_1 = compilerFn; _i < compilerFn_1.length; _i++) {\n                    var item = compilerFn_1[_i];\n                    templateElements.push(item);\n                }\n                append([].slice.call(templateElements), appendElement);\n            }\n        }\n    };\n    DashboardLayout.prototype.renderPanels = function (cellElement, panelModel, panelId, isStringTemplate) {\n        addClass([cellElement], [panel, panelTransition]);\n        var cssClass = panelModel.cssClass ? panelModel.cssClass.split(' ') : null;\n        this.panelContent = cellElement.querySelector('.e-panel-container') ?\n            cellElement.querySelector('.e-panel-container') :\n            this.createSubElement(cssClass, cellElement.id + '_content', panelContainer);\n        cellElement.appendChild(this.panelContent);\n        if (!panelModel.enabled) {\n            this.disablePanel(cellElement);\n        }\n        if (panelModel.header) {\n            var headerTemplateElement = cellElement.querySelector('.e-panel-header') ?\n                cellElement.querySelector('.e-panel-header') : this.createSubElement([], cellElement.id + 'template', '');\n            addClass([headerTemplateElement], [header]);\n            if (!cellElement.querySelector('.e-panel-header')) {\n                var id = this.element.id + 'HeaderTemplate' + panelId;\n                this.renderTemplate(panelModel.header, headerTemplateElement, id, isStringTemplate, 'header');\n                this.panelContent.appendChild(headerTemplateElement);\n                this.renderReactTemplates();\n            }\n        }\n        if (panelModel.content) {\n            var cssClass_1 = panelModel.cssClass ? panelModel.cssClass.split(' ') : null;\n            this.panelBody = cellElement.querySelector('.e-panel-content') ? cellElement.querySelector('.e-panel-content') :\n                this.createSubElement(cssClass_1, cellElement.id + '_body', panelContent);\n            var headerHeight = this.panelContent.querySelector('.e-panel-header') ?\n                window.getComputedStyle(this.panelContent.querySelector('.e-panel-header')).height : '0px';\n            var contentHeightValue = 'calc( 100% - ' + headerHeight + ')';\n            setStyle(this.panelBody, { height: contentHeightValue });\n            if (!cellElement.querySelector('.e-panel-content')) {\n                var id = this.element.id + 'ContentTemplate' + panelId;\n                this.renderTemplate(panelModel.content, this.panelBody, id, isStringTemplate, 'content');\n                this.panelContent.appendChild(this.panelBody);\n                this.renderReactTemplates();\n            }\n        }\n        return cellElement;\n    };\n    DashboardLayout.prototype.disablePanel = function (panelElement) {\n        addClass([panelElement], [disable]);\n    };\n    DashboardLayout.prototype.getInlinePanels = function (panelElement) {\n        var model = {\n            sizeX: panelElement.hasAttribute('data-sizex') ? parseInt(panelElement.getAttribute('data-sizex'), 10) : 1,\n            sizeY: panelElement.hasAttribute('data-sizey') ? parseInt(panelElement.getAttribute('data-sizey'), 10) : 1,\n            minSizeX: panelElement.hasAttribute('data-minsizex') ? parseInt(panelElement.getAttribute('data-minsizex'), 10) : 1,\n            minSizeY: panelElement.hasAttribute('data-minsizey') ? parseInt(panelElement.getAttribute('data-minsizey'), 10) : 1,\n            maxSizeX: panelElement.hasAttribute('data-maxsizex') ? parseInt(panelElement.getAttribute('data-maxsizex'), 10) : null,\n            maxSizeY: panelElement.hasAttribute('data-maxsizey') ? parseInt(panelElement.getAttribute('data-maxsizey'), 10) : null,\n            row: panelElement.hasAttribute('data-row') ? parseInt(panelElement.getAttribute('data-row'), 10) : 0,\n            col: panelElement.hasAttribute('data-col') ? parseInt(panelElement.getAttribute('data-col'), 10) : 0,\n            id: panelElement.getAttribute('id'),\n            zIndex: panelElement.hasAttribute('data-zindex') ? parseInt(panelElement.getAttribute('data-zIndex'), 10) : 1000,\n            header: panelElement.querySelector('.e-panel-header') && '.e-panel-header',\n            content: panelElement.querySelector('.e-panel-content') && '.e-panel-content'\n        };\n        if (!model.id) {\n            model.id = 'layout_' + this.panelID.toString();\n            panelElement.setAttribute('id', model.id);\n            this.panelID = this.panelID + 1;\n        }\n        if (isUndefined(model.enabled)) {\n            model.enabled = true;\n        }\n        panelElement.style.zIndex = '' + model.zIndex;\n        // eslint-disable-next-line\n        var panelProp = new Panel(this, 'panels', model, true);\n        this.panels.push(panelProp);\n    };\n    DashboardLayout.prototype.resizeEvents = function () {\n        if (this.allowResizing) {\n            var panelElements = this.element.querySelectorAll('.e-panel .e-panel-container .e-resize');\n            for (var i = 0; i < panelElements.length; i++) {\n                var eventName = (Browser.info.name === 'msie') ? 'mousedown pointerdown' : 'mousedown';\n                EventHandler.add(panelElements[i], eventName, this.downResizeHandler, this);\n                if (Browser.info.name !== 'msie') {\n                    EventHandler.add(panelElements[i], 'touchstart', this.touchDownResizeHandler, this);\n                }\n            }\n        }\n    };\n    DashboardLayout.prototype.bindEvents = function () {\n        this.refreshListener = this.refresh.bind(this);\n        // eslint-disable-next-line\n        EventHandler.add(window, 'resize', this.refreshListener);\n        this.resizeEvents();\n    };\n    DashboardLayout.prototype.downResizeHandler = function (e) {\n        this.downHandler(e);\n        this.lastMouseX = e.pageX;\n        this.lastMouseY = e.pageY;\n        var moveEventName = (Browser.info.name === 'msie') ? 'mousemove pointermove' : 'mousemove';\n        var upEventName = (Browser.info.name === 'msie') ? 'mouseup pointerup' : 'mouseup';\n        if (!this.isMouseMoveBound) {\n            EventHandler.add(document, moveEventName, this.moveResizeHandler, this);\n            this.isMouseMoveBound = true;\n        }\n        if (!this.isMouseUpBound) {\n            EventHandler.add(document, upEventName, this.upResizeHandler, this);\n            this.isMouseUpBound = true;\n        }\n    };\n    DashboardLayout.prototype.downHandler = function (e) {\n        this.resizeCalled = false;\n        this.panelsInitialModel = this.cloneModels(this.panels);\n        var el = closest((e.currentTarget), '.e-panel');\n        var args = { event: e, element: el, isInteracted: true };\n        this.trigger('resizeStart', args);\n        this.downTarget = e.currentTarget;\n        this.shadowEle = document.createElement('div');\n        this.shadowEle.classList.add('e-holder');\n        addClass([this.element], [preventSelect]);\n        this.element.appendChild(this.shadowEle);\n        this.renderReactTemplates();\n        this.elementX = parseFloat(el.style.left);\n        this.elementY = parseFloat(el.style.top);\n        this.elementWidth = el.offsetWidth;\n        this.elementHeight = el.offsetHeight;\n        this.originalWidth = this.getCellInstance(el.id).sizeX;\n        this.originalHeight = this.getCellInstance(el.id).sizeY;\n        this.previousRow = this.getCellInstance(el.id).row;\n    };\n    DashboardLayout.prototype.touchDownResizeHandler = function (e) {\n        this.downHandler(e);\n        this.lastMouseX = e.changedTouches[0].pageX;\n        this.lastMouseY = e.changedTouches[0].pageY;\n        if (!this.isMouseMoveBound) {\n            EventHandler.add(document, 'touchmove', this.touchMoveResizeHandler, this);\n            this.isMouseMoveBound = true;\n        }\n        if (!this.isMouseUpBound) {\n            EventHandler.add(document, 'touchend', this.upResizeHandler, this);\n            this.isMouseUpBound = true;\n        }\n    };\n    DashboardLayout.prototype.getCellSize = function () {\n        return [this.cellSize[0], this.cellSize[1]];\n    };\n    DashboardLayout.prototype.updateMaxTopLeft = function (e) {\n        this.moveTarget = this.downTarget;\n        var el = closest((this.moveTarget), '.e-panel');\n        var args = { event: e, element: el, isInteracted: true };\n        this.trigger('resize', args);\n    };\n    DashboardLayout.prototype.updateResizeElement = function (el) {\n        this.maxLeft = this.element.offsetWidth - 1;\n        this.maxTop = this.cellSize[1] * this.maxRows - 1;\n        removeClass([el], 'e-panel-transition');\n        addClass([el], [dragging]);\n        var handleArray = [east, west, north, south, southEast, northEast, northWest, southWest];\n        for (var i = 0; i < this.moveTarget.classList.length; i++) {\n            if (handleArray.indexOf(this.moveTarget.classList[i]) !== -1) {\n                this.handleClass = (this.moveTarget.classList[i]);\n            }\n        }\n    };\n    DashboardLayout.prototype.moveResizeHandler = function (e) {\n        this.updateMaxTopLeft(e);\n        var el = closest((this.moveTarget), '.e-panel');\n        if (this.lastMouseX === e.pageX || this.lastMouseY === e.pageY) {\n            return;\n        }\n        this.updateResizeElement(el);\n        var panelModel = this.getCellInstance(el.getAttribute('id'));\n        this.mouseX = e.pageX;\n        this.mouseY = e.pageY;\n        var diffY = this.mouseY - this.lastMouseY + this.mOffY;\n        var diffX = this.mouseX - this.lastMouseX + this.mOffX;\n        this.mOffX = this.mOffY = 0;\n        this.lastMouseY = this.mouseY;\n        this.lastMouseX = this.mouseX;\n        this.resizingPanel(el, panelModel, diffX, diffY);\n    };\n    DashboardLayout.prototype.touchMoveResizeHandler = function (e) {\n        this.updateMaxTopLeft(e);\n        var el = closest((this.moveTarget), '.e-panel');\n        if (this.lastMouseX === e.changedTouches[0].pageX || this.lastMouseY === e.changedTouches[0].pageY) {\n            return;\n        }\n        this.updateResizeElement(el);\n        var panelModel = this.getCellInstance(el.getAttribute('id'));\n        this.mouseX = e.changedTouches[0].pageX;\n        this.mouseY = e.changedTouches[0].pageY;\n        var diffX = this.mouseX - this.lastMouseX + this.mOffX;\n        var diffY = this.mouseY - this.lastMouseY + this.mOffY;\n        this.mOffX = this.mOffY = 0;\n        this.lastMouseX = this.mouseX;\n        this.lastMouseY = this.mouseY;\n        this.resizingPanel(el, panelModel, diffX, diffY);\n    };\n    /* istanbul ignore next */\n    DashboardLayout.prototype.resizingPanel = function (el, panelModel, currentX, currentY) {\n        var oldSizeX = this.getCellInstance(el.id).sizeX;\n        var oldSizeY = this.getCellInstance(el.id).sizeY;\n        var dY = currentY;\n        var dX = currentX;\n        if (this.handleClass.indexOf('north') >= 0) {\n            if (this.elementHeight - dY < this.getMinHeight(panelModel)) {\n                currentY = this.elementHeight - this.getMinHeight(panelModel);\n                this.mOffY = dY - currentY;\n            }\n            else if (panelModel.maxSizeY && this.elementHeight - dY > this.getMaxHeight(panelModel)) {\n                currentY = this.elementHeight - this.getMaxHeight(panelModel);\n                this.mOffY = dY - currentY;\n            }\n            else if (this.elementY + dY < this.minTop) {\n                currentY = this.minTop - this.elementY;\n                this.mOffY = dY - currentY;\n            }\n            this.elementY += currentY;\n            this.elementHeight -= currentY;\n        }\n        if (this.handleClass.indexOf('south') >= 0) {\n            if (this.elementHeight + dY < this.getMinHeight(panelModel)) {\n                currentY = this.getMinHeight(panelModel) - this.elementHeight;\n                this.mOffY = dY - currentY;\n            }\n            else if (panelModel.maxSizeY && this.elementHeight + dY > this.getMaxHeight(panelModel)) {\n                currentY = this.getMaxHeight(panelModel) - this.elementHeight;\n                this.mOffY = dY - currentY;\n            }\n            this.elementHeight += currentY;\n        }\n        if (this.handleClass.indexOf('west') >= 0) {\n            if (this.elementWidth - dX < this.getMinWidth(panelModel)) {\n                currentX = this.elementWidth - this.getMinWidth(panelModel);\n                this.mOffX = dX - currentX;\n            }\n            else if (panelModel.maxSizeX && this.elementWidth - dX > this.getMaxWidth(panelModel)) {\n                currentX = this.elementWidth - this.getMaxWidth(panelModel);\n                this.mOffX = dX - currentX;\n            }\n            else if (this.elementX + dX < this.minLeft) {\n                currentX = this.minLeft - this.elementX;\n                this.mOffX = dX - currentX;\n            }\n            this.elementX += currentX;\n            this.elementWidth -= currentX;\n        }\n        if (this.handleClass.indexOf('east') >= 0) {\n            if (this.elementWidth + dX < this.getMinWidth(panelModel)) {\n                currentX = this.getMinWidth(panelModel) - this.elementWidth;\n                this.mOffX = dX - currentX;\n            }\n            else if (panelModel.maxSizeX && this.elementWidth + dX > this.getMaxWidth(panelModel)) {\n                currentX = this.getMaxWidth(panelModel) - this.elementWidth;\n                this.mOffX = dX - currentX;\n            }\n            this.elementWidth += currentX;\n        }\n        el.style.top = this.elementY + 'px';\n        el.style.left = this.elementX + 'px';\n        el.style.width = this.elementWidth + 'px';\n        el.style.height = this.elementHeight + 'px';\n        var item = this.getResizeRowColumn(panelModel);\n        if (item.col + item.sizeX > this.columns) {\n            this.panelPropertyChange(item, { sizeX: item.sizeX - 1 });\n        }\n        this.shadowEle.style.top = ((item.row * this.getCellSize()[1] + (item.row * this.cellSpacing[1]))) + 'px';\n        this.shadowEle.style.left = ((item.col * this.getCellSize()[0]) + ((item.col) * this.cellSpacing[0])) + 'px';\n        this.shadowEle.style.height = ((item.sizeY * (this.getCellSize()[1] + (this.cellSpacing[1])))) + 'px';\n        this.shadowEle.style.width = ((item.sizeX * (this.getCellSize()[0] + (this.cellSpacing[0])))) + 'px';\n        if (oldSizeX !== item.sizeX || oldSizeY !== item.sizeY) {\n            oldSizeX = item.sizeX;\n            oldSizeY = item.sizeY;\n            var model = this.getCellInstance(el.id);\n            var value = {\n                attributes: {\n                    row: model.row.toString(),\n                    col: model.col.toString(),\n                    sizeX: model.sizeX.toString(),\n                    sizeY: model.sizeY.toString()\n                }\n            };\n            this.setAttributes(value, el);\n            this.mainElement = el;\n            this.updatePanelLayout(el, this.getCellInstance(el.id));\n            this.updateOldRowColumn();\n            this.sortedPanel();\n        }\n    };\n    DashboardLayout.prototype.upResizeHandler = function (e) {\n        if (isNullOrUndefined(this.downTarget)) {\n            return;\n        }\n        this.upTarget = this.downTarget;\n        var el = closest((this.upTarget), '.e-panel');\n        var args = { event: e, element: el, isInteracted: true };\n        if (el) {\n            addClass([el], 'e-panel-transition');\n            var moveEventName = (Browser.info.name === 'msie') ? 'mousemove pointermove' : 'mousemove';\n            var upEventName = (Browser.info.name === 'msie') ? 'mouseup pointerup' : 'mouseup';\n            EventHandler.remove(document, moveEventName, this.moveResizeHandler);\n            EventHandler.remove(document, upEventName, this.upResizeHandler);\n            if (Browser.info.name !== 'msie') {\n                EventHandler.remove(document, 'touchmove', this.touchMoveResizeHandler);\n                EventHandler.remove(document, 'touchend', this.upResizeHandler);\n            }\n            this.isMouseUpBound = false;\n            this.isMouseMoveBound = false;\n            if (this.shadowEle) {\n                detach(this.shadowEle);\n            }\n            this.shadowEle = null;\n            var panelModel = this.getCellInstance(el.getAttribute('id'));\n            this.setPanelPosition(el, panelModel.row, panelModel.col);\n            this.setHeightAndWidth(el, panelModel);\n        }\n        removeClass([el], [dragging]);\n        this.trigger('resizeStop', args);\n        this.resizeCalled = false;\n        this.lastMouseX = this.lastMouseY = undefined;\n        this.mOffX = this.mOffY = 0;\n        this.mainElement = null;\n        if (this.allowFloating) {\n            this.moveItemsUpwards();\n        }\n        this.updatePanels();\n        this.updateCloneArrayObject();\n        this.checkForChanges(true);\n    };\n    DashboardLayout.prototype.getResizeRowColumn = function (item) {\n        var isChanged = false;\n        var col = item.col;\n        if (['e-west', 'e-south-west'].indexOf(this.handleClass) !== -1) {\n            col = this.pixelsToColumns(this.elementX, false);\n        }\n        var row = item.row;\n        if (['e-north'].indexOf(this.handleClass) !== -1) {\n            row = this.pixelsToRows(this.elementY, false);\n            if (this.previousRow !== row) {\n                this.previousRow = row;\n                isChanged = true;\n            }\n        }\n        var sizeX = item.sizeX;\n        if (['e-north', 'e-south'].indexOf(this.handleClass) === -1) {\n            sizeX = this.pixelsToColumns(this.elementWidth - (sizeX) * this.cellSpacing[1], true);\n        }\n        var sizeY = item.sizeY;\n        if (['e-east', 'e-west'].indexOf(this.handleClass) === -1) {\n            if (this.handleClass === 'e-north' ? isChanged : true) {\n                sizeY = this.pixelsToRows(this.elementHeight - (sizeY) * this.cellSpacing[0], true);\n            }\n        }\n        if (item.col + item.sizeX > this.columns) {\n            item.sizeX = item.sizeX - 1;\n        }\n        var canOccupy = row > -1 && col > -1 && sizeX + col <= this.maxCol() && sizeY + row <= this.maxRow();\n        if (canOccupy && (this.collisions(row, col, sizeX, sizeY, this.getPanelBase(item.id)).length === 0)\n            || this.allowPushing !== false) {\n            this.panelPropertyChange(item, { row: row, col: col, sizeX: sizeX, sizeY: sizeY });\n        }\n        return item;\n    };\n    DashboardLayout.prototype.pixelsToColumns = function (pixels, isCeil) {\n        var curColWidth = this.cellSize[0];\n        if (isCeil) {\n            return Math.ceil(pixels / curColWidth);\n        }\n        else {\n            return Math.floor(pixels / curColWidth);\n        }\n    };\n    DashboardLayout.prototype.pixelsToRows = function (pixels, isCeil) {\n        if (isCeil) {\n            return Math.round(pixels / this.cellSize[1]);\n        }\n        else {\n            return Math.round(pixels / (this.cellSize[1] + this.cellSpacing[0]));\n        }\n    };\n    DashboardLayout.prototype.getMinWidth = function (item) {\n        return (item.minSizeX) * this.getCellSize()[0];\n    };\n    DashboardLayout.prototype.getMaxWidth = function (item) {\n        return (item.maxSizeX) * this.getCellSize()[0];\n    };\n    DashboardLayout.prototype.getMinHeight = function (item) {\n        return (item.minSizeY) * this.getCellSize()[1];\n    };\n    DashboardLayout.prototype.getMaxHeight = function (item) {\n        return (item.maxSizeY) * this.getCellSize()[1];\n    };\n    DashboardLayout.prototype.sortedPanel = function () {\n        this.sortedArray = [];\n        for (var i = 0, l = this.panelCollection.length; i < l; ++i) {\n            this.sortItem(this.panelCollection[i]);\n        }\n    };\n    DashboardLayout.prototype.moveItemsUpwards = function () {\n        if (this.allowFloating === false) {\n            return;\n        }\n        for (var rowIndex = 0, l = this.sortedArray.length; rowIndex < l; ++rowIndex) {\n            var columns = this.sortedArray[rowIndex];\n            if (!columns) {\n                continue;\n            }\n            for (var colIndex = 0, len = columns.length; colIndex < len; ++colIndex) {\n                var item = columns[colIndex];\n                if (item) {\n                    this.moveItemUpwards(item);\n                }\n            }\n        }\n        this.updateGridLines();\n    };\n    DashboardLayout.prototype.moveItemUpwards = function (item) {\n        if (this.allowFloating === false || item === this.mainElement) {\n            return;\n        }\n        var colIndex = this.getCellInstance(item.id).col;\n        var sizeY = parseInt(item.getAttribute('data-sizeY'), 10);\n        var sizeX = parseInt(item.getAttribute('data-sizeX'), 10);\n        var availableRow = null;\n        var availableColumn = null;\n        var rowIndex = parseInt(item.getAttribute('data-row'), 10) - 1;\n        while (rowIndex > -1) {\n            var items = this.collisions(rowIndex, colIndex, sizeX, sizeY, item);\n            if (items.length !== 0) {\n                break;\n            }\n            availableRow = rowIndex;\n            availableColumn = colIndex;\n            --rowIndex;\n        }\n        if (availableRow !== null) {\n            this.sortItem(item, availableRow, availableColumn);\n        }\n    };\n    DashboardLayout.prototype.sortItem = function (item, rowValue, columnValue) {\n        this.overlapElement = [];\n        var column = parseInt(item.getAttribute('data-col'), 10);\n        var row = parseInt(item.getAttribute('data-row'), 10);\n        if (!this.sortedArray[row]) {\n            this.sortedArray[row] = [];\n        }\n        this.sortedArray[row][column] = item;\n        if (item !== undefined && rowValue !== undefined && columnValue !== undefined) {\n            if (this.oldRowCol[item.id] !== undefined && this.oldRowCol[item.id].row !== null &&\n                typeof this.oldRowCol[item.id].col !== 'undefined') {\n                {\n                    var oldRow = this.sortedArray[this.oldRowCol[item.id].row];\n                    if (this.oldRowCol[item.id] && oldRow[this.oldRowCol[item.id].col] === item) {\n                        delete oldRow[this.oldRowCol[item.id].col];\n                        this.updateOldRowColumn();\n                        this.sortedPanel();\n                    }\n                }\n            }\n            this.oldRowCol[item.id].row = rowValue;\n            this.oldRowCol[item.id].row = columnValue;\n            if (!this.sortedArray[row]) {\n                this.sortedArray[row] = [];\n            }\n            this.sortedArray[row][column] = item;\n            if (this.allItems.indexOf(item) === -1) {\n                this.allItems.push(item);\n            }\n            this.panelPropertyChange(this.getCellInstance(item.id), { row: rowValue, col: columnValue });\n            var panelModel = this.getCellInstance(item.id);\n            this.setAttributes({ value: { col: panelModel.col.toString(), row: panelModel.row.toString() } }, item);\n            this.updateLayout(item, this.getCellInstance(item.id));\n        }\n    };\n    DashboardLayout.prototype.updateLayout = function (element, panelModel) {\n        this.setPanelPosition(element, panelModel.row, panelModel.col);\n        this.setHeightAndWidth(element, panelModel);\n        this.updateRowHeight();\n        this.sortedPanel();\n    };\n    DashboardLayout.prototype.refresh = function () {\n        this.panelsSizeY = 0;\n        this.updateDragArea();\n        if (this.checkMediaQuery()) {\n            this.checkMediaQuerySizing();\n        }\n        else {\n            if (this.element.classList.contains(responsive)) {\n                removeClass([this.element], [responsive]);\n                for (var i = 0; i < this.element.querySelectorAll('.e-panel').length; i++) {\n                    var ele = this.element.querySelectorAll('.e-panel')[i];\n                    var cellInstance = this.getCellInstance(ele.id);\n                    var row = parseInt(ele.getAttribute('data-row'), 10);\n                    var col = parseInt(ele.getAttribute('data-col'), 10);\n                    this.panelPropertyChange(cellInstance, { row: row, col: col });\n                    this.setHeightAndWidth(ele, this.getCellInstance(ele.id));\n                    this.setPanelPosition(ele, row, col);\n                    this.updateRowHeight();\n                }\n            }\n            this.panelResponsiveUpdate();\n            this.updateGridLines();\n        }\n        this.removeResizeClasses(this.panelCollection);\n        this.setClasses(this.panelCollection);\n        this.resizeEvents();\n        this.checkDragging(this.dragCollection);\n    };\n    DashboardLayout.prototype.updateGridLines = function () {\n        if (this.element.querySelector('.e-dashboard-gridline-table')) {\n            if (this.table) {\n                detach(this.table);\n            }\n            this.initGridLines();\n        }\n    };\n    DashboardLayout.prototype.checkDragging = function (dragCollection) {\n        if (this.checkMediaQuery() || !this.allowDragging) {\n            for (var i = 0; i < dragCollection.length; i++) {\n                dragCollection[i].destroy();\n            }\n        }\n        else {\n            for (var i = 0; i < dragCollection.length; i++) {\n                dragCollection[i].destroy();\n            }\n            this.enableDraggingContent(this.panelCollection);\n        }\n    };\n    DashboardLayout.prototype.sortPanels = function () {\n        var model = [];\n        var _loop_1 = function (row) {\n            var _loop_2 = function (col) {\n                this_1.panels.filter(function (panel) {\n                    if (panel.row === row && panel.col === col) {\n                        model.push(panel);\n                    }\n                });\n            };\n            for (var col = 0; col < this_1.columns; col++) {\n                _loop_2(col);\n            }\n        };\n        var this_1 = this;\n        for (var row = 0; row <= this.rows; row++) {\n            _loop_1(row);\n        }\n        return model;\n    };\n    DashboardLayout.prototype.checkMediaQuerySizing = function () {\n        addClass([this.element], [responsive]);\n        var updatedPanel;\n        if (this.isPanelRemoved && this.panels) {\n            updatedPanel = this.panels;\n        }\n        else {\n            updatedPanel = this.sortPanels();\n        }\n        this.updatedRows = updatedPanel.length;\n        for (var i = 0; i < updatedPanel.length; i++) {\n            var panelElement = document.getElementById(updatedPanel[i].id);\n            // eslint-disable-next-line\n            var updatedHeight = void 0;\n            if (panelElement) {\n                setStyle(panelElement, { 'width': '100%' });\n                panelElement.style.height = ' ' + ((this.element.parentElement\n                    && this.element.parentElement.offsetWidth / this.cellAspectRatio) * updatedPanel[i].sizeY) + 'px';\n                if (updatedPanel[i].sizeY > 1) {\n                    updatedHeight = ((this.element.parentElement\n                        && this.element.parentElement.offsetWidth / this.cellAspectRatio) * updatedPanel[i].sizeY) +\n                        // eslint-disable-next-line radix\n                        parseInt((Math.round(updatedPanel[i].sizeY / 2) * this.cellSpacing[1]).toString(), 0);\n                    panelElement.style.height = '' + updatedHeight + 'px';\n                }\n                this.resizeHeight = true;\n                this.panelPropertyChange(updatedPanel[i], { row: i, col: 0 });\n                this.setPanelPosition(panelElement, updatedPanel[i].row, updatedPanel[i].col);\n                this.panelsSizeY = this.panelsSizeY + updatedPanel[i].sizeY;\n                this.setClasses(this.panelCollection);\n                this.checkDragging(this.dragCollection);\n                this.removeResizeClasses(this.panelCollection);\n            }\n        }\n        this.updateRowHeight();\n    };\n    DashboardLayout.prototype.panelResponsiveUpdate = function () {\n        this.element.classList.add('e-responsive');\n        this.calculateCellSize();\n        for (var i = 0; i < this.element.querySelectorAll('.e-panel').length; i++) {\n            var ele = this.element.querySelectorAll('.e-panel')[i];\n            var panelModel = this.getCellInstance(ele.id);\n            this.setHeightAndWidth(ele, panelModel);\n        }\n        for (var i = 0; i < this.panels.length; i++) {\n            this.setPanelPosition(document.getElementById(this.panels[i].id), this.panels[i].row, this.panels[i].col);\n        }\n        this.updateRowHeight();\n    };\n    DashboardLayout.prototype.updateRowHeight = function () {\n        this.getRowColumn();\n        this.setHeightWidth();\n    };\n    DashboardLayout.prototype.setHeightWidth = function () {\n        var heightValue;\n        var widthValue;\n        if (this.checkMediaQuery()) {\n            heightValue = ((this.maxRow()) *\n                (this.element.parentElement && ((this.element.parentElement.offsetWidth)) / this.cellAspectRatio) +\n                (this.maxRow() - 1) * this.cellSpacing[1]) + 'px';\n        }\n        else {\n            heightValue = ((this.maxRow()) *\n                (this.cellSize[0] / this.cellAspectRatio) + (this.maxRow() - 1) * this.cellSpacing[1]) + 'px';\n        }\n        setStyle(this.element, { 'height': heightValue });\n        // eslint-disable-next-line prefer-const\n        widthValue = window.getComputedStyle(this.element).width;\n        setStyle(this.element, { 'width': widthValue });\n    };\n    DashboardLayout.prototype.setHeightAndWidth = function (panelElement, panelModel) {\n        setStyle(panelElement, { 'height': formatUnit(this.setXYDimensions(panelModel)[0]) });\n        setStyle(panelElement, { 'width': formatUnit(this.setXYDimensions(panelModel)[1]) });\n    };\n    DashboardLayout.prototype.renderCell = function (panel, isStringTemplate, index) {\n        var cellElement;\n        this.dimensions = this.setXYDimensions(panel);\n        if (isUndefined(panel.enabled)) {\n            panel.enabled = true;\n        }\n        if (this.contentTemplateChild.length > 0 && !isNullOrUndefined(index)) {\n            cellElement = this.contentTemplateChild[index];\n            if (panel.cssClass) {\n                addClass([cellElement], [panel.cssClass]);\n            }\n            if (panel.id) {\n                cellElement.setAttribute('id', panel.id);\n            }\n        }\n        else {\n            cellElement = this.createPanelElement(panel.cssClass ? panel.cssClass.split(' ') : null, panel.id);\n        }\n        cellElement.style.zIndex = '' + panel.zIndex;\n        this.element.appendChild(cellElement);\n        this.renderReactTemplates();\n        var dashBoardCell = this.renderPanels(cellElement, panel, panel.id, isStringTemplate);\n        this.panelCollection.push(dashBoardCell);\n        this.setXYAttributes(cellElement, panel);\n        this.setHeightAndWidth(cellElement, panel);\n        return cellElement;\n    };\n    DashboardLayout.prototype.setPanelPosition = function (cellElement, row, col) {\n        if (!cellElement) {\n            return;\n        }\n        if (this.checkMediaQuery()) {\n            this.calculateCellSize();\n        }\n        var heightValue = this.getCellSize()[1];\n        var widthValue = this.getCellSize()[0];\n        var left = col === 0 ? 0 : (((col) * ((widthValue) + this.cellSpacing[0])));\n        var top = row === 0 ? 0 : (((row) * ((heightValue) + this.cellSpacing[1])));\n        if (this.checkMediaQuery()) {\n            top = row === 0 ? 0 : ((this.panelsSizeY) * ((heightValue) + this.cellSpacing[1]));\n        }\n        setStyle(cellElement, { 'left': left + 'px', 'top': top + 'px' });\n    };\n    DashboardLayout.prototype.getRowColumn = function () {\n        this.rows = null;\n        if (this.element.querySelectorAll('.e-panel').length > 0 && !this.updatedRows) {\n            var panelElements = this.element.querySelectorAll('.e-panel');\n            for (var i = 0; i < panelElements.length; i++) {\n                var panelElement = panelElements[i];\n                var rowValue = parseInt(panelElement.getAttribute('data-row'), 10);\n                var xValue = parseInt(panelElement.getAttribute('data-sizeY'), 10);\n                this.rows = Math.max(this.rows, (rowValue + xValue));\n            }\n        }\n        else {\n            if (this.updatedRows) {\n                this.rows = this.updatedRows;\n                this.updatedRows = null;\n            }\n            for (var i = 0; i < this.panels.length; i++) {\n                this.rows = Math.max(this.rows, this.panels[i].row);\n            }\n        }\n    };\n    DashboardLayout.prototype.setMinMaxValues = function (panel) {\n        if (!panel.sizeX || panel.sizeX < panel.minSizeX) {\n            this.panelPropertyChange(panel, { sizeX: panel.minSizeX });\n        }\n        else if ((panel.maxSizeX && panel.sizeX > panel.maxSizeX)) {\n            this.panelPropertyChange(panel, { sizeX: panel.maxSizeX });\n        }\n        else if (panel.sizeX > this.columns) {\n            this.panelPropertyChange(panel, { sizeX: this.columns });\n        }\n        else {\n            this.panelPropertyChange(panel, { sizeX: panel.sizeX });\n        }\n        if (!panel.sizeY || panel.sizeY < panel.minSizeY) {\n            this.panelPropertyChange(panel, { sizeY: panel.minSizeY });\n        }\n        else if (panel.maxSizeY && panel.sizeY > panel.maxSizeY) {\n            this.panelPropertyChange(panel, { sizeY: panel.maxSizeY });\n        }\n        else {\n            this.panelPropertyChange(panel, { sizeY: panel.sizeY });\n        }\n    };\n    DashboardLayout.prototype.checkMinMaxValues = function (panel) {\n        if (panel.col + panel.sizeX > this.columns) {\n            this.panelPropertyChange(panel, { sizeX: panel.sizeX + (this.columns - (panel.col + panel.sizeX)) });\n        }\n    };\n    DashboardLayout.prototype.panelPropertyChange = function (panel, value) {\n        // eslint-disable-next-line\n        panel.setProperties(value, true);\n    };\n    DashboardLayout.prototype.renderDashBoardCells = function (cells) {\n        if (this.element.querySelectorAll('.e-panel').length > 0 || this.panels.length > 0) {\n            for (var j = 0; j < cells.length; j++) {\n                this.gridPanelCollection.push(cells[j]);\n                this.setMinMaxValues(cells[j]);\n                if (this.maxColumnValue < cells[j].col || this.maxColumnValue < (cells[j].col + cells[j].sizeX)) {\n                    this.panelPropertyChange(cells[j], { col: this.maxColumnValue - cells[j].sizeX });\n                }\n                var cell = this.renderCell(cells[j], false, j);\n                if (this.enableRtl) {\n                    addClass([cell], 'e-rtl');\n                }\n                this.element.appendChild(cell);\n                this.renderReactTemplates();\n                if (this.checkMediaQuery() && j === cells.length - 1) {\n                    this.checkMediaQuerySizing();\n                }\n                else {\n                    this.setPanelPosition(cell, cells[j].row, cells[j].col);\n                    this.mainElement = cell;\n                    this.updatePanelLayout(cell, cells[j]);\n                    this.mainElement = null;\n                }\n            }\n        }\n        this.setClasses(this.panelCollection);\n    };\n    DashboardLayout.prototype.collisions = function (row, col, sizeX, sizeY, ignore) {\n        var items = [];\n        if (!sizeX || !sizeY) {\n            sizeX = sizeY = 1;\n        }\n        if (ignore && !(ignore instanceof Array)) {\n            ignore = [ignore];\n        }\n        var item;\n        for (var h = 0; h < sizeY; ++h) {\n            for (var w = 0; w < sizeX; ++w) {\n                item = this.getPanel(row + h, col + w, ignore);\n                if (item && (!ignore || ignore.indexOf(document.getElementById(item.id)) === -1) &&\n                    items.indexOf(document.getElementById(item.id)) === -1) {\n                    items.push(document.getElementById(item.id));\n                }\n            }\n        }\n        return items;\n    };\n    DashboardLayout.prototype.rightWardsSpaceChecking = function (rowElements, col, ele) {\n        var _this = this;\n        var columns = [];\n        var spacedColumns = [];\n        rowElements.forEach(function (element) {\n            var columnValue = parseInt(element.getAttribute('data-col'), 10);\n            var sizeXValue = parseInt(element.getAttribute('data-sizeX'), 10);\n            if (col < _this.columns && columnValue >= col) {\n                if (sizeXValue > 1) {\n                    for (var i = columnValue; i < columnValue + sizeXValue; i++) {\n                        columns.push(i);\n                    }\n                }\n                else {\n                    columns.push(columnValue);\n                }\n            }\n        });\n        if (columns.length > 0) {\n            for (var i = col + 1; i <= this.columns - 1; i++) {\n                if (columns.indexOf(i) === -1 && i !== col) {\n                    if (spacedColumns.indexOf(i) === -1) {\n                        spacedColumns.push(i);\n                    }\n                }\n            }\n        }\n        var occupiedValues = this.getOccupiedColumns(ele);\n        occupiedValues.forEach(function (colValue) {\n            if (colValue > col && spacedColumns.indexOf(colValue) !== -1) {\n                spacedColumns.splice(spacedColumns.indexOf(colValue), 1);\n            }\n        });\n        var eleOccupiedValues = this.getOccupiedColumns(this.checkingElement);\n        eleOccupiedValues.forEach(function (col) {\n            if (col > parseInt(ele.getAttribute('data-col'), 10) && occupiedValues.indexOf(col) === -1 &&\n                spacedColumns.indexOf(col) === -1) {\n                spacedColumns.push(col);\n            }\n        });\n        spacedColumns = spacedColumns.sort(function (next, previous) { return next - previous; });\n        return spacedColumns;\n    };\n    DashboardLayout.prototype.getOccupiedColumns = function (element) {\n        var occupiedItems = [];\n        var sizeX = parseInt(element.getAttribute('data-sizeX'), 10);\n        var col = parseInt(element.getAttribute('data-col'), 10);\n        for (var i = col; (i < col + sizeX && i <= this.columns); i++) {\n            occupiedItems.push(i);\n        }\n        return occupiedItems;\n    };\n    DashboardLayout.prototype.leftWardsSpaceChecking = function (rowElements, col, ele) {\n        var _this = this;\n        var spacedColumns = [];\n        var columns = [];\n        rowElements.forEach(function (element) {\n            var colValue = parseInt(element.getAttribute('data-col'), 10);\n            var xValue = parseInt(element.getAttribute('data-sizeX'), 10);\n            if (col <= _this.columns && colValue <= col) {\n                if (xValue > 1) {\n                    for (var i = colValue; i < colValue + xValue; i++) {\n                        columns.push(i);\n                    }\n                }\n                else {\n                    columns.push(colValue);\n                }\n            }\n        });\n        if (columns.length > 0) {\n            for (var j = 0; j <= col; j++) {\n                if (columns.indexOf(j) === -1 && j !== col) {\n                    if (spacedColumns.indexOf(j) === -1) {\n                        spacedColumns.push(j);\n                    }\n                }\n            }\n        }\n        var occupiedValues = this.getOccupiedColumns(ele);\n        occupiedValues.forEach(function (colValue) {\n            if (colValue < col && spacedColumns.indexOf(colValue) !== -1) {\n                spacedColumns.splice(spacedColumns.indexOf(colValue), 1);\n            }\n        });\n        var eleOccupiedValues = this.getOccupiedColumns(this.checkingElement);\n        eleOccupiedValues.forEach(function (col) {\n            if (col < parseInt(ele.getAttribute('data-col'), 10) && occupiedValues.indexOf(col) === -1 &&\n                spacedColumns.indexOf(col) === -1) {\n                spacedColumns.push(col);\n            }\n        });\n        spacedColumns = spacedColumns.sort(function (next, prev) { return next - prev; });\n        spacedColumns = spacedColumns.reverse();\n        return spacedColumns;\n    };\n    DashboardLayout.prototype.adjustmentAvailable = function (row, col, sizeY, sizeX, ele) {\n        this.leftAdjustable = undefined;\n        this.rightAdjustable = undefined;\n        var isAdjustable = false;\n        var rightSpacing;\n        var rowElement = [];\n        this.topAdjustable = undefined;\n        var eleSizeX = parseInt(ele.getAttribute('data-sizeX'), 10);\n        var eleCol = parseInt(ele.getAttribute('data-col'), 10);\n        rowElement = this.getRowElements(this.collisions(row, 0, this.columns, sizeY, []));\n        if (rowElement.indexOf(ele) === -1) {\n            rowElement.push(ele);\n        }\n        var leftSpacing = this.leftWardsSpaceChecking(rowElement, col, ele);\n        if (leftSpacing.length > 0) {\n            this.leftAdjustable = this.isLeftAdjustable(leftSpacing, ele, row, col, sizeX, sizeY);\n            if (this.spacedColumnValue !== eleCol - this.getCellInstance(this.checkingElement.id).sizeX) {\n                this.leftAdjustable = false;\n            }\n            if (this.leftAdjustable) {\n                this.rightAdjustable = false;\n            }\n            else {\n                this.leftAdjustable = false;\n                rightSpacing = this.rightWardsSpaceChecking(rowElement, col, ele);\n                this.rightAdjustable = rightSpacing.length > 0 ? this.isRightAdjustable(rightSpacing, ele, row, col, sizeX, sizeY) : false;\n                if (this.spacedColumnValue !== eleSizeX + eleCol) {\n                    this.rightAdjustable = false;\n                }\n                if (!this.rightAdjustable) {\n                    this.rightAdjustable = false;\n                }\n            }\n        }\n        else {\n            rightSpacing = this.rightWardsSpaceChecking(rowElement, col, ele);\n            this.rightAdjustable = rightSpacing.length > 0 ? this.isRightAdjustable(rightSpacing, ele, row, col, sizeX, sizeY) : false;\n            if (this.spacedColumnValue !== eleSizeX + eleCol) {\n                this.rightAdjustable = false;\n            }\n            if (this.rightAdjustable) {\n                this.leftAdjustable = false;\n            }\n        }\n        if (!this.rightAdjustable && !this.leftAdjustable && row > 0) {\n            var endRow = this.getCellInstance(ele.id).row;\n            var topCheck = false;\n            if (this.startRow !== endRow) {\n                topCheck = true;\n            }\n            for (var rowValue = row; rowValue >= 0; rowValue--) {\n                var element = (this.getCellInstance(ele.id).sizeY > 1 && topCheck) ? this.checkingElement : ele;\n                if ((rowValue !== endRow) && (rowValue === endRow - sizeY) &&\n                    this.collisions(rowValue, col, sizeX, sizeY, element).length === 0) {\n                    topCheck = false;\n                    this.topAdjustable = true;\n                    this.spacedRowValue = isNullOrUndefined(this.spacedRowValue) ? rowValue : this.spacedRowValue;\n                    this.spacedColumnValue = col;\n                }\n            }\n        }\n        if (this.rightAdjustable || this.leftAdjustable || this.topAdjustable) {\n            isAdjustable = true;\n            if (isNullOrUndefined(this.spacedRowValue)) {\n                this.spacedRowValue = row;\n            }\n        }\n        return isAdjustable;\n    };\n    DashboardLayout.prototype.isXSpacingAvailable = function (spacing, sizeX) {\n        var isSpaceAvailable = false;\n        var subSpacingColumns = [];\n        for (var i = 0; i < spacing.length; i++) {\n            if (spacing[i + 1] - spacing[i] === 1 || spacing[i + 1] - spacing[i] === -1) {\n                subSpacingColumns.push(spacing[i]);\n                if (sizeX === 2) {\n                    subSpacingColumns.push(spacing[i + 1]);\n                }\n                if (i === spacing.length - 2) {\n                    subSpacingColumns.push(spacing[i + 1]);\n                    if (subSpacingColumns.length > sizeX) {\n                        subSpacingColumns.splice(-1);\n                    }\n                }\n                if (subSpacingColumns.length === sizeX) {\n                    isSpaceAvailable = true;\n                    this.spacedColumnValue = subSpacingColumns.sort(function (next, previous) { return next - previous; })[0];\n                    if (this.spacedColumnValue < 0) {\n                        this.spacedColumnValue = 1;\n                    }\n                    return isSpaceAvailable;\n                }\n            }\n            else {\n                subSpacingColumns = [];\n                continue;\n            }\n        }\n        return isSpaceAvailable;\n    };\n    DashboardLayout.prototype.getRowElements = function (base) {\n        var rowElements = [];\n        for (var i = 0; i < base.length; i++) {\n            rowElements.push(base[i]);\n        }\n        return rowElements;\n    };\n    DashboardLayout.prototype.isLeftAdjustable = function (spaces, ele, row, col, sizeX, sizeY) {\n        var isLeftAdjudtable;\n        if (sizeX === 1 && sizeY === 1 && spaces.length > 0) {\n            this.spacedColumnValue = spaces[0];\n            isLeftAdjudtable = true;\n        }\n        else if (sizeX > 1 && sizeY === 1) {\n            isLeftAdjudtable = this.isXSpacingAvailable(spaces, sizeX);\n        }\n        else if (sizeY > 1) {\n            if (sizeX === 1) {\n                var xAdjust = void 0;\n                if (spaces.length >= 1) {\n                    xAdjust = true;\n                }\n                if (xAdjust) {\n                    for (var i = 0; i < spaces.length; i++) {\n                        var collisionValue = this.collisions(row, spaces[i], sizeX, sizeY, this.checkingElement);\n                        if (collisionValue.length === 0) {\n                            this.spacedColumnValue = spaces[i];\n                            isLeftAdjudtable = true;\n                            return isLeftAdjudtable;\n                        }\n                        else {\n                            isLeftAdjudtable = false;\n                        }\n                    }\n                }\n            }\n            else {\n                isLeftAdjudtable = this.replacable(spaces, sizeX, row, sizeY, ele);\n            }\n        }\n        return isLeftAdjudtable;\n    };\n    DashboardLayout.prototype.isRightAdjustable = function (spacing, ele, row, col, sizeX, sizeY) {\n        var isRightAdjudtable;\n        if (sizeX === 1 && sizeY === 1 && spacing.length > 0) {\n            this.spacedColumnValue = spacing[0];\n            isRightAdjudtable = true;\n        }\n        else if (sizeX > 1 && sizeY === 1) {\n            isRightAdjudtable = this.isXSpacingAvailable(spacing, sizeX);\n        }\n        else if (sizeY > 1) {\n            if (sizeX === 1) {\n                var xAdjust = void 0;\n                if (spacing.length >= 1) {\n                    xAdjust = true;\n                }\n                if (xAdjust) {\n                    for (var i = 0; i < spacing.length; i++) {\n                        var collisionValue = this.collisions(row, spacing[i], sizeX, sizeY, this.checkingElement);\n                        for (var collision = 0; collision < collisionValue.length; collision++) {\n                            if (parseInt(ele.getAttribute('data-col'), 10) !== spacing[i]) {\n                                collisionValue.splice(collisionValue.indexOf(collisionValue[collision]), 1);\n                            }\n                        }\n                        if (collisionValue.length === 0) {\n                            isRightAdjudtable = true;\n                            this.spacedColumnValue = spacing[i];\n                            return isRightAdjudtable;\n                        }\n                        else {\n                            isRightAdjudtable = false;\n                        }\n                    }\n                }\n            }\n            else {\n                isRightAdjudtable = this.replacable(spacing, sizeX, row, sizeY, ele);\n            }\n        }\n        return isRightAdjudtable;\n    };\n    DashboardLayout.prototype.replacable = function (spacing, sizeX, row, sizeY, ele) {\n        var isRightAdjudtable;\n        var updatedCollision = [];\n        for (var j = 0; j < spacing.length; j++) {\n            var xAdjust = this.isXSpacingAvailable(spacing, sizeX);\n            if (xAdjust) {\n                var exclusions = [];\n                exclusions.push(this.checkingElement);\n                exclusions.push(ele);\n                if (updatedCollision.length === 0) {\n                    isRightAdjudtable = true;\n                    // eslint-disable-next-line no-self-assign\n                    this.spacedColumnValue = this.spacedColumnValue;\n                    return isRightAdjudtable;\n                }\n                else {\n                    isRightAdjudtable = false;\n                }\n            }\n        }\n        return isRightAdjudtable;\n    };\n    DashboardLayout.prototype.sortCollisionItems = function (collisionItems) {\n        var updatedCollision = [];\n        var rowElements;\n        var _loop_3 = function (row) {\n            rowElements = [];\n            collisionItems.forEach(function (element) {\n                if (element && element.getAttribute('data-row') === row.toString()) {\n                    rowElements.push(element);\n                }\n            });\n            var _loop_4 = function (column) {\n                rowElements.forEach(function (item) {\n                    if (item && item.getAttribute('data-col') === column.toString()) {\n                        updatedCollision.push(item);\n                    }\n                });\n            };\n            for (var column = this_2.columns - 1; column >= 0; column--) {\n                _loop_4(column);\n            }\n        };\n        var this_2 = this;\n        for (var row = this.rows - 1; row >= 0; row--) {\n            _loop_3(row);\n        }\n        return updatedCollision;\n    };\n    DashboardLayout.prototype.updatedModels = function (collisionItems, panelModel, ele) {\n        var _this = this;\n        var removeableElement = [];\n        if (!this.mainElement) {\n            this.sortedPanel();\n        }\n        collisionItems.forEach(function (element) {\n            _this.checkingElement = element;\n            var model = _this.getCellInstance(element.id);\n            var adjust = !_this.adjustmentAvailable(model.row, model.col, model.sizeY, model.sizeX, ele);\n            if (model.sizeX > 1 && adjust) {\n                for (var rowValue = model.row; rowValue < panelModel.row + panelModel.sizeY; rowValue++) {\n                    var collisions = _this.collisions(rowValue, model.col, model.sizeX, model.sizeY, element);\n                    collisions.forEach(function (item) {\n                        if (collisionItems.indexOf(item) >= 0 && removeableElement.indexOf(item) === -1) {\n                            removeableElement.push(item);\n                        }\n                    });\n                }\n            }\n        });\n        removeableElement.forEach(function (item) {\n            if (removeableElement.indexOf(item) >= 0) {\n                collisionItems.splice(collisionItems.indexOf(item), 1);\n            }\n        });\n        return collisionItems;\n    };\n    DashboardLayout.prototype.resetLayout = function (model) {\n        var collisions = this.collisions(model.row, model.col, model.sizeX, model.sizeY, this.mainElement);\n        if (!this.mainElement || this.addPanelCalled || this.resizeCalled || this.movePanelCalled) {\n            return collisions;\n        }\n        if (this.mainElement && this.oldRowCol !== this.cloneObject) {\n            for (var i = 0; i < this.panels.length; i++) {\n                var element = document.getElementById(this.panels[i].id);\n                if (element === this.mainElement) {\n                    continue;\n                }\n                var rowValue = this.cloneObject[element.id].row;\n                var colValue = this.cloneObject[element.id].col;\n                this.setPanelPosition(element, rowValue, colValue);\n                this.panelPropertyChange(this.getCellInstance(element.id), { row: rowValue, col: colValue });\n                this.setAttributes({ value: { col: colValue.toString(), row: rowValue.toString() } }, element);\n                this.updateOldRowColumn();\n            }\n        }\n        this.sortedArray = this.cloneArray;\n        collisions = this.collisions(model.row, model.col, model.sizeX, model.sizeY, this.mainElement);\n        this.sortedPanel();\n        this.updateOldRowColumn();\n        if (this.checkCollision && this.checkCollision.length > 0 && collisions.indexOf(this.checkCollision[0]) === -1 &&\n            this.cloneObject[this.checkCollision[0].id].row === model.row) {\n            collisions.push(this.checkCollision[0]);\n        }\n        return collisions;\n    };\n    DashboardLayout.prototype.swapAvailability = function (collisions, element) {\n        var available = true;\n        var eleModel = this.getCellInstance(element.id);\n        for (var count = 0; count < collisions.length; count++) {\n            var collideModel = this.getCellInstance(collisions[count].id);\n            for (var i = 1; i < eleModel.sizeY; i++) {\n                var excludeEle = [];\n                excludeEle.push(element);\n                excludeEle.push(collisions[count]);\n                var collision = this.collisions(eleModel.row + i, collideModel.col, collideModel.sizeX, collideModel.sizeY, excludeEle);\n                if (collision.length > 0) {\n                    available = false;\n                    return false;\n                }\n                else {\n                    continue;\n                }\n            }\n        }\n        return available;\n    };\n    DashboardLayout.prototype.checkForSwapping = function (collisions, element) {\n        if (!this.mainElement || collisions.length === 0) {\n            return false;\n        }\n        var direction;\n        var eleSwapRow = parseInt(collisions[0].getAttribute('data-row'), 10);\n        if (this.startRow < eleSwapRow) {\n            direction = 1;\n        }\n        else if (this.startRow > eleSwapRow) {\n            direction = 0;\n        }\n        if (!this.swapAvailability(collisions, element)) {\n            return false;\n        }\n        var isSwappable = false;\n        for (var count1 = 0; count1 < collisions.length; count1++) {\n            if (collisions.length >= 1 && this.cloneObject[this.mainElement.id].row === this.oldRowCol[this.mainElement.id].row) {\n                return false;\n            }\n        }\n        var updatedRow = direction === 0 ?\n            this.getCellInstance(this.mainElement.id).row + this.getCellInstance(this.mainElement.id).sizeY\n            : this.startRow;\n        for (var count = 0; count < collisions.length; count++) {\n            var collideInstance = this.getCellInstance(collisions[count].id);\n            var elementinstance = this.getCellInstance(element.id);\n            var ignore = [];\n            if (collideInstance.sizeY === 1 && ignore.indexOf(collisions[count]) === -1) {\n                ignore.push(collisions[count]);\n            }\n            else if (collideInstance.sizeY > 1 && ignore.indexOf(collisions[count]) === -1) {\n                if (direction === 1 && elementinstance.row === (this.cloneObject[collideInstance.id].row + collideInstance.sizeY - 1)) {\n                    ignore.push(collisions[count]);\n                }\n                else if (direction === 0 && elementinstance.row === (this.cloneObject[collideInstance.id].row)) {\n                    ignore.push(collisions[count]);\n                }\n                else {\n                    return false;\n                }\n            }\n            if (collideInstance.sizeY <= elementinstance.sizeY && ignore.indexOf(collisions[count]) === -1) {\n                ignore.push(collisions[count]);\n            }\n            ignore.push(this.mainElement);\n            var swapCollision = this.collisions(updatedRow, collideInstance.col, collideInstance.sizeX, collideInstance.sizeY, ignore);\n            if (swapCollision.length > 0) {\n                isSwappable = false;\n                return isSwappable;\n            }\n            else {\n                if (count === collisions.length - 1) {\n                    isSwappable = true;\n                }\n                continue;\n            }\n        }\n        return isSwappable;\n    };\n    DashboardLayout.prototype.swapItems = function (collisions, element, panelModel) {\n        var _this = this;\n        var direction;\n        var swappedElements = [];\n        swappedElements.push(element);\n        var eleSwapRow = parseInt(collisions[0].getAttribute('data-row'), 10);\n        if (this.startRow < eleSwapRow) {\n            direction = 1;\n        }\n        else if (this.startRow > eleSwapRow) {\n            direction = 0;\n        }\n        var collisionItemsRow = direction === 0 ? eleSwapRow + panelModel.sizeY : this.startRow;\n        if (!this.movePanelCalled) {\n            var collisionInstance = this.getCellInstance(collisions[0].id);\n            this.panelPropertyChange(panelModel, { row: direction === 0 ? eleSwapRow : collisionItemsRow + collisionInstance.sizeY });\n        }\n        for (var count = 0; count < collisions.length; count++) {\n            swappedElements.push(collisions[count]);\n            this.setPanelPosition(collisions[count], collisionItemsRow, (this.getCellInstance(collisions[count].id)).col);\n            this.panelPropertyChange(this.getCellInstance(collisions[count].id), { row: collisionItemsRow });\n            collisions[count].setAttribute('data-row', collisionItemsRow.toString());\n        }\n        element.setAttribute('data-row', panelModel.row.toString());\n        this.setPanelPosition(this.shadowEle, panelModel.row, panelModel.col);\n        for (var i = 0; i < this.panels.length; i++) {\n            this.oldRowCol[this.panels[i].id] = { row: this.panels[i].row, col: this.panels[i].col };\n        }\n        this.startRow = panelModel.row;\n        this.updateOldRowColumn();\n        swappedElements.forEach(function (item) {\n            _this.cloneObject[item.id] = _this.oldRowCol[item.id];\n            var itemModel = _this.getCellInstance(item.id);\n            for (var i = 0; i < _this.sortedArray.length; i++) {\n                if (!_this.sortedArray[i]) {\n                    continue;\n                }\n                for (var j = 0; j < _this.sortedArray[i].length; j++) {\n                    if (_this.sortedArray[i][j] === item) {\n                        _this.sortedArray[i][j] = undefined;\n                    }\n                }\n            }\n            if (!_this.sortedArray[itemModel.row]) {\n                _this.sortedArray[itemModel.row] = [];\n            }\n            _this.sortedArray[itemModel.row][itemModel.col] = item;\n            _this.cloneArray = _this.sortedArray;\n        });\n    };\n    DashboardLayout.prototype.updatePanelLayout = function (element, panelModel) {\n        this.collisionChecker = {};\n        var initialModel = [];\n        var checkForAdjustment;\n        var collisionModels = [];\n        var swappingAvailable;\n        if (this.mainElement && this.isRenderComplete) {\n            initialModel = this.resetLayout(panelModel);\n        }\n        else {\n            initialModel = this.collisions(panelModel.row, panelModel.col, panelModel.sizeX, panelModel.sizeY, element);\n        }\n        if (initialModel.length > 0) {\n            initialModel = this.sortCollisionItems(initialModel);\n            initialModel = this.updatedModels(initialModel, panelModel, element);\n            swappingAvailable = !isNullOrUndefined(this.startRow) ? this.checkForSwapping(initialModel, element) : false;\n            if (swappingAvailable) {\n                this.swapItems(initialModel, element, panelModel);\n            }\n            else {\n                for (var i = 0; i < initialModel.length; i++) {\n                    var model = this.getCellInstance(initialModel[i].id);\n                    this.checkingElement = initialModel[i];\n                    this.spacedRowValue = null;\n                    this.spacedColumnValue = null;\n                    checkForAdjustment = this.adjustmentAvailable(model.row, model.col, model.sizeY, model.sizeX, element);\n                    if (checkForAdjustment && !isNullOrUndefined(this.spacedColumnValue)) {\n                        this.setPanelPosition(initialModel[i], this.spacedRowValue, this.spacedColumnValue);\n                        this.oldRowCol[(initialModel[i].id)] = { row: this.spacedRowValue, col: this.spacedColumnValue };\n                        var value = {\n                            attributes: {\n                                row: this.spacedRowValue.toString(),\n                                col: this.spacedColumnValue.toString()\n                            }\n                        };\n                        this.setAttributes(value, initialModel[i]);\n                        this.panelPropertyChange(model, { col: this.spacedColumnValue, row: this.spacedRowValue });\n                        // updated the panel model array as inTopAdjustable case with floating enabled instead of dragging and extra row\n                        if (this.topAdjustable && this.allowFloating) {\n                            this.updatePanels();\n                            this.updateCloneArrayObject();\n                        }\n                        this.spacedRowValue = null;\n                        if (i < initialModel.length) {\n                            continue;\n                        }\n                    }\n                    else {\n                        collisionModels.push(initialModel[i]);\n                    }\n                }\n            }\n        }\n        if (collisionModels.length > 0) {\n            // eslint-disable-next-line\n            var proxy_1 = this;\n            collisionModels.forEach(function (item1) {\n                if (proxy_1.overlapElement.indexOf(item1) === -1) {\n                    proxy_1.overlapElement.push(item1);\n                }\n            });\n            if (this.overlapElement && this.overlapElement.indexOf(element) !== -1) {\n                this.overlapElement.splice(this.overlapElement.indexOf(element), 1);\n            }\n            if (collisionModels.length > 0) {\n                this.updateRowColumn(panelModel.row, this.overlapElement, element);\n                this.checkForCompletePushing();\n            }\n        }\n        if (!this.isSubValue) {\n            this.sortedPanel();\n        }\n        this.updateRowHeight();\n        this.updateGridLines();\n    };\n    DashboardLayout.prototype.checkForCompletePushing = function () {\n        for (var i = 0; i < this.panels.length; i++) {\n            if (this.collisionChecker[this.panels[i].id] && this.collisionChecker[this.panels[i].id] !== null) {\n                this.overlapElement = [this.collisionChecker[this.panels[i].id].ele];\n                var key = this.panels[i].id;\n                this.updateRowColumn(this.collisionChecker[key].row, this.overlapElement, this.collisionChecker[key].srcEle);\n            }\n        }\n    };\n    DashboardLayout.prototype.updateCollisionChecked = function (item) {\n        for (var count = 0; count < Object.keys(this.collisionChecker).length; count++) {\n            this.collisionChecker[item.id] = null;\n        }\n    };\n    DashboardLayout.prototype.updateRowColumn = function (row, ele, srcEle) {\n        if (!srcEle) {\n            return;\n        }\n        var eleSizeY = parseInt(srcEle.getAttribute('data-sizeY'), 10);\n        var eleRow = parseInt(srcEle.getAttribute('data-row'), 10);\n        this.overlapElementClone = this.overlapElement && !this.shouldRestrict ? this.overlapElement : this.overlapElement;\n        for (var i = 0; i < this.overlapElementClone.length; i++) {\n            if (this.overlapElementClone.length === 0) {\n                return;\n            }\n            for (var i_1 = 0; i_1 < this.overlapElementClone.length; i_1++) {\n                this.collisionChecker[this.overlapElementClone[i_1].id] = {\n                    ele: this.overlapElementClone[i_1],\n                    row: row,\n                    srcEle: srcEle\n                };\n            }\n            var updatedRow = eleRow + eleSizeY;\n            var collisionY = parseInt(this.overlapElementClone[i].getAttribute('data-sizeY'), 10);\n            var collisionCol = parseInt(this.overlapElementClone[i].getAttribute('data-col'), 10);\n            var collisionX = parseInt(this.overlapElementClone[i].getAttribute('data-sizeX'), 10);\n            var colValue = void 0;\n            var collisionModels = void 0;\n            if (this.overlapSubElementClone.indexOf(srcEle) === -1) {\n                this.overlapSubElementClone.push(srcEle);\n            }\n            if (this.overlapSubElementClone.indexOf(this.overlapElementClone[i]) === -1) {\n                this.overlapSubElementClone.push(this.overlapElementClone[i]);\n            }\n            if (collisionY > 1 || collisionX > 1) {\n                var overlapElementModel = this.getCellInstance(this.overlapElementClone[i].id);\n                colValue = overlapElementModel.col;\n                var ele_1 = document.getElementById(overlapElementModel.id);\n                for (var k = overlapElementModel.row; k < eleRow + eleSizeY; k++) {\n                    this.isSubValue = true;\n                    this.panelPropertyChange(overlapElementModel, { row: overlapElementModel.row + 1 });\n                    ele_1.setAttribute('data-row', overlapElementModel.row.toString());\n                    this.setPanelPosition(ele_1, overlapElementModel.row, colValue);\n                    this.updateCollisionChecked(ele_1);\n                    this.oldRowCol[(ele_1.id)] = { row: overlapElementModel.row, col: colValue };\n                    var panelModel = this.getCellInstance(ele_1.id);\n                    this.panelPropertyChange(panelModel, { col: colValue, row: overlapElementModel.row });\n                    var eleRow_1 = parseInt(ele_1.getAttribute('data-row'), 10);\n                    var eleCol = parseInt(ele_1.getAttribute('data-col'), 10);\n                    var sizeX = parseInt(ele_1.getAttribute('data-sizeX'), 10);\n                    var sizeY = parseInt(ele_1.getAttribute('data-sizeY'), 10);\n                    var excludeElements = [];\n                    excludeElements.push(ele_1);\n                    excludeElements.push(srcEle);\n                    collisionModels = this.collisions(eleRow_1, eleCol, sizeX, sizeY, excludeElements);\n                    if (this.mainElement && collisionModels.indexOf(this.mainElement) !== -1) {\n                        collisionModels.splice(collisionModels.indexOf(this.mainElement), 1);\n                    }\n                    this.collisionPanel(collisionModels, eleCol, eleRow_1, ele_1);\n                }\n                this.isSubValue = false;\n            }\n            else {\n                if (this.addPanelCalled) {\n                    this.addPanelCalled = false;\n                }\n                this.overlapElementClone[i].setAttribute('data-row', updatedRow.toString());\n                var excludeEle = [];\n                excludeEle.push(this.overlapElementClone[i]);\n                excludeEle.push(srcEle);\n                collisionModels = this.collisions(updatedRow, collisionCol, collisionX, collisionY, excludeEle);\n                if (this.mainElement && collisionModels.indexOf(this.mainElement) !== -1) {\n                    collisionModels.splice(collisionModels.indexOf(this.mainElement), 1);\n                }\n                colValue = parseInt(this.overlapElementClone[i].getAttribute('data-col'), 10);\n                this.setPanelPosition(this.overlapElementClone[i], updatedRow, colValue);\n                this.updateCollisionChecked(this.overlapElementClone[i]);\n                this.oldRowCol[(this.overlapElementClone[i].id)] = { row: updatedRow, col: colValue };\n                var panelModel = this.getCellInstance(this.overlapElementClone[i].id);\n                this.panelPropertyChange(panelModel, { col: colValue, row: updatedRow });\n                this.collisionPanel(collisionModels, colValue, updatedRow, this.overlapElementClone[i]);\n            }\n        }\n    };\n    DashboardLayout.prototype.collisionPanel = function (collisionModels, colValue, updatedRow, clone) {\n        var panelModel = this.getCellInstance(clone.id);\n        this.panelPropertyChange(panelModel, { row: updatedRow, col: colValue });\n        if (collisionModels.length > 0) {\n            // eslint-disable-next-line\n            var proxy_2 = this;\n            this.overlapElement = [];\n            this.shouldRestrict = true;\n            collisionModels.forEach(function (item1) {\n                proxy_2.overlapElement.push(item1);\n            });\n            var overlapElementRow1 = parseInt(clone.getAttribute('data-row'), 10);\n            for (var m = 0; m < this.overlapElement.length; m++) {\n                this.updateRowColumn(overlapElementRow1, this.overlapElement, clone);\n            }\n            this.shouldRestrict = false;\n        }\n        else {\n            if (!this.addPanelCalled) {\n                this.sortedPanel();\n            }\n            if (this.overlapSubElementClone.length > 0) {\n                var _loop_5 = function (p) {\n                    var rowVal = parseInt(this_3.overlapSubElementClone[p].getAttribute('data-row'), 10);\n                    var colValue_1 = parseInt(this_3.overlapSubElementClone[p].getAttribute('data-col'), 10);\n                    var sizeX = parseInt(this_3.overlapSubElementClone[p].getAttribute('data-sizeX'), 10);\n                    var sizeY = parseInt(this_3.overlapSubElementClone[p].getAttribute('data-sizeY'), 10);\n                    var collisionModels1 = this_3.collisions(rowVal, colValue_1, sizeX, sizeY, this_3.overlapSubElementClone);\n                    if (this_3.mainElement && collisionModels1.indexOf(this_3.mainElement) !== -1) {\n                        collisionModels1.splice(collisionModels1.indexOf(this_3.mainElement), 1);\n                    }\n                    // eslint-disable-next-line\n                    var proxy = this_3;\n                    collisionModels1.forEach(function (item1) {\n                        proxy.overlapElement.push(item1);\n                    });\n                    if (collisionModels1.length > 0) {\n                        this_3.updateRowColumn(rowVal, this_3.overlapElement, this_3.overlapSubElementClone[p]);\n                    }\n                };\n                var this_3 = this;\n                for (var p = 0; p < this.overlapSubElementClone.length; p++) {\n                    _loop_5(p);\n                }\n            }\n            this.overlapSubElementClone = [];\n        }\n    };\n    DashboardLayout.prototype.removeResizeClasses = function (panelElements) {\n        for (var i = 0; i < panelElements.length; i++) {\n            var element = panelElements[i];\n            var resizerElements = element.querySelectorAll('.e-resize');\n            for (var i_2 = 0; i_2 < resizerElements.length; i_2++) {\n                detach(resizerElements[i_2]);\n            }\n        }\n    };\n    DashboardLayout.prototype.ensureDrag = function () {\n        this.checkDragging(this.dragCollection);\n        var dragPanels = this.element.querySelectorAll('.' + drag);\n        removeClass(dragPanels, [drag]);\n        this.setClasses(this.panelCollection);\n    };\n    DashboardLayout.prototype.setClasses = function (panelCollection) {\n        for (var i = 0; i < panelCollection.length; i++) {\n            var element = panelCollection[i];\n            var containerEle = panelCollection[i].querySelector('.e-panel-container');\n            if (this.allowDragging) {\n                if (this.draggableHandle && element.querySelectorAll(this.draggableHandle)[0]) {\n                    addClass([element.querySelectorAll(this.draggableHandle)[0]], [drag]);\n                }\n                else {\n                    addClass([element], [drag]);\n                }\n            }\n            if (this.allowResizing &&\n                this.mediaQuery ? !(this.checkMediaQuery()) : false) {\n                this.setResizingClass(element, containerEle);\n            }\n        }\n    };\n    DashboardLayout.prototype.setResizingClass = function (ele, container) {\n        this.availableClasses = this.resizableHandles;\n        if (!ele.querySelector(\".e-resize\")) {\n            for (var j = 0; j < this.availableClasses.length; j++) {\n                var spanEle = this.createElement('span');\n                var addClassValue = void 0;\n                container.appendChild(spanEle);\n                if (this.availableClasses[j] === 'e-east' || this.availableClasses[j] === 'e-west' ||\n                    this.availableClasses[j] === 'e-north' || this.availableClasses[j] === 'e-south') {\n                    addClassValue = single;\n                }\n                else {\n                    addClassValue = double;\n                }\n                addClass([spanEle], [addClassValue, this.availableClasses[j], resize, resizeicon]);\n            }\n        }\n    };\n    DashboardLayout.prototype.setXYAttributes = function (element, panelModel) {\n        var value = {\n            value: {\n                sizeX: panelModel.sizeX.toString(),\n                sizeY: panelModel.sizeY.toString(),\n                minSizeX: panelModel.minSizeX.toString(),\n                minSizeY: panelModel.minSizeY.toString(),\n                maxSizeX: !isNullOrUndefined(panelModel.maxSizeX) ? panelModel.maxSizeX.toString() : undefined,\n                maxSizeY: !isNullOrUndefined(panelModel.maxSizeY) ? panelModel.maxSizeY.toString() : undefined,\n                row: panelModel.row.toString(),\n                col: panelModel.col.toString()\n            }\n        };\n        this.setAttributes(value, element);\n    };\n    DashboardLayout.prototype.setXYDimensions = function (panelModel) {\n        var cellHeight = this.getCellSize()[1];\n        var cellWidth = this.getCellSize()[0];\n        var widthValue;\n        var heigthValue;\n        if (panelModel && typeof (cellWidth) === 'number' && typeof (panelModel.sizeX) === 'number' && panelModel.sizeX > 1) {\n            widthValue = (panelModel.sizeX * cellWidth) + (panelModel.sizeX - 1) * this.cellSpacing[0];\n        }\n        else {\n            widthValue = cellWidth;\n        }\n        if (panelModel && typeof (cellHeight) === 'number' && panelModel.sizeY > 1 && typeof (panelModel.sizeY) === 'number') {\n            heigthValue = (panelModel.sizeY * cellHeight) + (panelModel.sizeY - 1) * this.cellSpacing[1];\n        }\n        else {\n            heigthValue = formatUnit(cellHeight);\n        }\n        return [heigthValue, widthValue];\n    };\n    DashboardLayout.prototype.getRowColumnDragValues = function (args) {\n        var value = [];\n        var elementTop = parseFloat(args.element.style.top);\n        var elementLeft = parseFloat(args.element.style.left);\n        var row = Math.round(elementTop / (this.getCellSize()[1] + this.cellSpacing[1]));\n        var col = Math.round(elementLeft / (this.getCellSize()[0] + +this.cellSpacing[0]));\n        value = [row, col];\n        return value;\n    };\n    DashboardLayout.prototype.checkForChanges = function (isInteracted, added, removed) {\n        var changedPanels = [];\n        if (this.removeAllCalled) {\n            changedPanels = [];\n        }\n        else {\n            for (var i = 0; i < this.panels.length; i++) {\n                if (((!isNullOrUndefined(added) ? (this.panels[i].id !== added[0].id) : true) &&\n                    (!isNullOrUndefined(removed) ? (this.panels[i].id !== removed[0].id) : true)) &&\n                    (this.panels[i].row !== this.panelsInitialModel[i].row || this.panels[i].col !== this.panelsInitialModel[i].col)) {\n                    changedPanels.push(this.panels[i]);\n                }\n            }\n        }\n        if (changedPanels.length > 0 || this.removeAllCalled) {\n            var changedArgs = {\n                changedPanels: changedPanels, isInteracted: isInteracted,\n                addedPanels: !isNullOrUndefined(added) ? added : [], removedPanels: !isNullOrUndefined(removed) ? removed : []\n            };\n            this.trigger('change', changedArgs);\n        }\n    };\n    DashboardLayout.prototype.enableDraggingContent = function (collections) {\n        var _this = this;\n        for (var i = 0; i < collections.length; i++) {\n            var abortArray = ['.e-resize', '.' + dragRestrict];\n            var cellElement = collections[i];\n            {\n                this.dragobj = new Draggable(cellElement, {\n                    preventDefault: false,\n                    clone: false,\n                    dragArea: this.element,\n                    isDragScroll: true,\n                    handle: this.draggableHandle ? this.draggableHandle : '.e-panel',\n                    abort: abortArray,\n                    dragStart: this.onDraggingStart.bind(this),\n                    dragStop: function (args) {\n                        var model = _this.getCellInstance(_this.mainElement.id);\n                        if (_this.allowPushing &&\n                            _this.collisions(model.row, model.col, model.sizeX, model.sizeY, _this.mainElement).length > 0) {\n                            _this.setHolderPosition(args);\n                            _this.setPanelPosition(_this.mainElement, model.row, model.col);\n                            _this.updatePanelLayout(_this.mainElement, model);\n                        }\n                        else {\n                            _this.setPanelPosition(_this.mainElement, model.row, model.col);\n                        }\n                        _this.mainElement = null;\n                        var item = _this.getPanelBase(args);\n                        if (_this.shadowEle) {\n                            detach(_this.shadowEle);\n                        }\n                        removeClass([_this.element], [preventSelect]);\n                        removeClass([args.element], [dragging]);\n                        _this.shadowEle = null;\n                        args.element.classList.remove('e-dragging');\n                        var row = _this.getRowColumnDragValues(args)[0];\n                        var col = _this.getRowColumnDragValues(args)[1];\n                        var panelModel = _this.getCellInstance(args.element.id);\n                        if (_this.allowPushing &&\n                            _this.collisions(row, col, panelModel.sizeX, panelModel.sizeY, document.getElementById(item.id)).length === 0) {\n                            _this.panelPropertyChange(_this.getCellInstance(args.element.id), { row: row, col: col });\n                            _this.oldRowCol[args.element.id].row = row;\n                            _this.oldRowCol[args.element.id].col = col;\n                            _this.setAttributes({ value: { col: col.toString(), row: row.toString() } }, args.element);\n                            _this.sortedPanel();\n                        }\n                        else {\n                            _this.panelPropertyChange(_this.getCellInstance(args.element.id), {\n                                row: _this.oldRowCol[args.element.id].row,\n                                col: _this.oldRowCol[args.element.id].col\n                            });\n                            args.element.setAttribute('data-col', _this.getCellInstance(args.element.id).col.toString());\n                            args.element.setAttribute('data-row', _this.getCellInstance(args.element.id).row.toString());\n                            _this.sortedPanel();\n                        }\n                        var panelInstance = _this.getCellInstance(args.element.id);\n                        _this.setPanelPosition(args.element, panelInstance.row, panelInstance.col);\n                        _this.updatePanels();\n                        _this.updateCloneArrayObject();\n                        _this.checkForChanges(true);\n                        _this.dragStopEventArgs = { event: args.event, element: args.element };\n                        _this.trigger('dragStop', args);\n                        _this.resizeEvents();\n                        _this.rows = _this.maxRow(true);\n                        _this.setHeightWidth();\n                        _this.updateDragArea();\n                    },\n                    drag: function (args) {\n                        _this.draggedEventArgs = {\n                            event: args.event,\n                            element: args.element,\n                            target: closest((args.target), '.e-panel')\n                        };\n                        _this.trigger('drag', _this.draggedEventArgs);\n                        _this.onDragStart(args);\n                    }\n                });\n                if (this.dragCollection.indexOf(this.dragobj) === -1) {\n                    this.dragCollection.push(this.dragobj);\n                }\n            }\n        }\n    };\n    DashboardLayout.prototype.updatePanels = function () {\n        this.moveItemsUpwards();\n        this.updateOldRowColumn();\n        this.sortedPanel();\n    };\n    DashboardLayout.prototype.updateDragArea = function () {\n        this.dragCollection.forEach(function (dragobj) {\n            // eslint-disable-next-line\n            dragobj.setDragArea();\n        });\n    };\n    DashboardLayout.prototype.updateRowsHeight = function (row, sizeY, addRows) {\n        if (row + sizeY >= this.rows) {\n            this.rows = this.rows + addRows;\n            this.setHeightWidth();\n        }\n    };\n    DashboardLayout.prototype.onDraggingStart = function (args) {\n        var dragArgs = args;\n        this.trigger('dragStart', dragArgs, function (dragArgs) {\n        });\n        this.panelsInitialModel = this.cloneModels(this.panels);\n        this.mainElement = args.element;\n        this.cloneObject = JSON.parse(JSON.stringify(this.cloneObject));\n        var eleRowValue = this.startRow = parseInt(args.element.getAttribute('data-row'), 10);\n        this.startCol = parseInt(args.element.getAttribute('data-col'), 10);\n        var eleSizeY = parseInt(args.element.getAttribute('data-sizeY'), 10);\n        this.updateRowsHeight(eleRowValue, eleSizeY, eleSizeY);\n        this.updateDragArea();\n        this.shadowEle = document.createElement('div');\n        this.shadowEle.classList.add('e-holder');\n        this.shadowEle.classList.add('e-holder-transition');\n        setStyle(this.shadowEle, { 'position': 'absolute' });\n        addClass([this.element], [preventSelect]);\n        addClass([args.element], [dragging]);\n        this.element.appendChild(this.shadowEle);\n        this.renderReactTemplates();\n        this.shadowEle = document.querySelector('.e-holder');\n        this.shadowEle.style.height = (this.getCellInstance(args.element.id).sizeY * this.cellSize[1]) + 'px';\n        this.shadowEle.style.width = (this.getCellInstance(args.element.id).sizeX * this.cellSize[0]) + 'px';\n        var panelInstance = this.getCellInstance(args.element.id);\n        this.setPanelPosition(this.shadowEle, panelInstance.row, panelInstance.col);\n    };\n    // eslint-disable-next-line\n    DashboardLayout.prototype.cloneModels = function (source, target) {\n        if (target === undefined) {\n            target = [];\n        }\n        for (var i = 0; i < source.length; i++) {\n            // tslint:disable-next-line\n            if (!target[i]) {\n                target[i] = {};\n            }\n            // eslint-disable-next-line guard-for-in\n            for (var k in source[i]) {\n                target[i][k] = source[i][k];\n            }\n        }\n        return target;\n    };\n    DashboardLayout.prototype.onDragStart = function (args) {\n        var endCol;\n        var endRow;\n        var dragCol;\n        var col = dragCol = this.getRowColumnDragValues(args)[1];\n        var row = this.getRowColumnDragValues(args)[0];\n        if (col < 0 || row < 0) {\n            return;\n        }\n        this.panelPropertyChange(this.getCellInstance(args.element.id), { row: row, col: col });\n        var panelModel = this.getCellInstance(args.element.id);\n        this.updateRowsHeight(panelModel.row, panelModel.sizeY, 1);\n        this.updateDragArea();\n        if (this.allowPushing) {\n            this.setAttributes({ value: { col: col.toString(), row: row.toString() } }, args.element);\n            this.panelPropertyChange(this.getCellInstance(args.element.id), { row: row, col: col });\n            endCol = this.oldRowCol[(args.element.id)].col;\n            endRow = this.oldRowCol[(args.element.id)].row;\n            this.oldRowCol[(args.element.id)] = { row: row, col: col };\n            this.updateOldRowColumn();\n            if (this.startCol !== endCol || this.startRow !== endRow) {\n                this.setHolderPosition(args);\n                if (this.startCol !== endCol) {\n                    this.startRow = endRow;\n                }\n                if (this.startRow !== endRow) {\n                    this.startCol = endCol;\n                }\n                if (this.allowPushing) {\n                    this.mainElement = args.element;\n                    var model = panelModel;\n                    this.checkCollision = this.collisions(model.row, model.col, model.sizeX, model.sizeY, args.element);\n                    if (panelModel.col >= this.checkColumnValue) {\n                        this.checkCollision = [];\n                    }\n                    this.updatePanelLayout(args.element, panelModel);\n                    this.moveItemsUpwards();\n                }\n            }\n        }\n        if (this.allowPushing !== false) {\n            this.panelPropertyChange(this.getCellInstance(args.element.id), { row: row, col: col });\n        }\n        if (this.oldRowCol[args.element.id].row !== row || this.oldRowCol[args.element.id].col !== col) {\n            this.panelPropertyChange(this.getCellInstance(args.element.id), { row: row, col: col });\n            this.setAttributes({ value: { col: col.toString(), row: row.toString() } }, args.element);\n        }\n        if (this.startCol !== dragCol) {\n            this.startCol = endCol;\n            this.moveItemsUpwards();\n        }\n        if (!this.allowPushing) {\n            this.setHolderPosition(args);\n        }\n        this.removeResizeClasses(this.panelCollection);\n        this.setClasses(this.panelCollection);\n        if (this.allowPushing === false) {\n            return;\n        }\n    };\n    DashboardLayout.prototype.getPanelBase = function (args) {\n        var item;\n        for (var i = 0; i < this.panelCollection.length; i++) {\n            if (this.panelCollection[i].id === ((args.element\n                && args.element.id) || args)) {\n                item = this.panelCollection[i];\n            }\n        }\n        return item;\n    };\n    DashboardLayout.prototype.getPanel = function (row, column, excludeItems) {\n        if (excludeItems && !(excludeItems instanceof Array)) {\n            excludeItems = [excludeItems];\n        }\n        var sizeY = 1;\n        while (row > -1) {\n            var sizeX = 1;\n            var col = column;\n            while (col > -1) {\n                var items = this.sortedArray[row];\n                if (items) {\n                    var item = items[col];\n                    if (item && (!excludeItems ||\n                        excludeItems.indexOf(item) === -1) && parseInt(item.getAttribute('data-sizeX'), 10) >= sizeX\n                        && parseInt(item.getAttribute('data-sizeY'), 10) >= sizeY) {\n                        return item;\n                    }\n                }\n                ++sizeX;\n                --col;\n            }\n            --row;\n            ++sizeY;\n        }\n        return null;\n    };\n    DashboardLayout.prototype.setHolderPosition = function (args) {\n        var sizeY = parseInt(args.element.getAttribute('data-sizeY'), 10);\n        var col = parseInt(args.element.getAttribute('data-col'), 10);\n        var row = parseInt(args.element.getAttribute('data-row'), 10);\n        var sizeX = parseInt(args.element.getAttribute('data-sizeX'), 10);\n        var widthValue = this.getCellSize()[0];\n        var heightValue = this.getCellSize()[1];\n        var top = row === 0 ? 0 : (((row) * (heightValue + this.cellSpacing[1])));\n        var left = col === 0 ? 0 : (((col) * (widthValue + this.cellSpacing[0])));\n        var cellSizeOne = this.getCellSize()[1];\n        var cellSizeZero = this.getCellSize()[0];\n        this.elementRef.top = this.shadowEle.style.top = top + 'px';\n        this.elementRef.left = this.shadowEle.style.left = left + 'px';\n        this.elementRef.height = this.shadowEle.style.height = ((sizeY * cellSizeOne) + ((sizeY - 1) * this.cellSpacing[1])) + 'px';\n        this.elementRef.width = this.shadowEle.style.width = ((sizeX * cellSizeZero) + ((sizeX - 1) * this.cellSpacing[0])) + 'px';\n    };\n    DashboardLayout.prototype.getCellInstance = function (idValue) {\n        var currentCellInstance;\n        for (var i = 0; i < this.panels.length; i++) {\n            if (this.panels[i].id === idValue) {\n                currentCellInstance = this.panels[i];\n            }\n        }\n        return currentCellInstance;\n    };\n    /**\n     * Allows to add a panel to the Dashboardlayout.\n     *\n     * @param {panel} panel -  Defines the panel element.\n     *\n     * @returns void\n\n     */\n    DashboardLayout.prototype.addPanel = function (panel) {\n        this.panelsSizeY = 0;\n        this.maxCol();\n        if (!panel.minSizeX) {\n            panel.minSizeX = 1;\n        }\n        if (!panel.minSizeY) {\n            panel.minSizeY = 1;\n        }\n        if (!panel.id) {\n            panel.id = 'layout_' + this.panelID.toString();\n            this.panelID = this.panelID + 1;\n        }\n        // eslint-disable-next-line\n        var panelProp = new Panel(this, 'panels', panel, true);\n        this.panels.push(panelProp);\n        this.panelsInitialModel = this.cloneModels(this.panels);\n        this.setMinMaxValues(panelProp);\n        if (this.maxColumnValue < panelProp.col || this.maxColumnValue < (panelProp.col + panelProp.sizeX)) {\n            this.panelPropertyChange(panelProp, { col: this.maxColumnValue - panelProp.sizeX });\n        }\n        var cell = this.renderCell(panelProp, true, null);\n        this.oldRowCol[panelProp.id] = { row: panelProp.row, col: panelProp.col };\n        this.cloneObject[panelProp.id] = { row: panelProp.row, col: panelProp.col };\n        this.updateOldRowColumn();\n        this.element.insertAdjacentElement('afterbegin', cell);\n        this.addPanelCalled = true;\n        if (this.checkMediaQuery()) {\n            this.checkMediaQuerySizing();\n            this.removeResizeClasses(this.panelCollection);\n        }\n        else {\n            this.mainElement = cell;\n            if (!this.checkCollision) {\n                this.checkCollision = [];\n            }\n            this.setPanelPosition(cell, panelProp.row, panelProp.col);\n            this.updatePanelLayout(cell, panelProp);\n        }\n        this.addPanelCalled = false;\n        if (this.allowDragging &&\n            this.mediaQuery ? !(this.checkMediaQuery()) : false) {\n            this.enableDraggingContent([document.getElementById(panelProp.id)]);\n        }\n        this.setClasses([cell]);\n        if (this.allowFloating) {\n            this.mainElement = null;\n            this.moveItemsUpwards();\n        }\n        this.updateOldRowColumn();\n        this.sortedPanel();\n        this.updateCloneArrayObject();\n        if (this.allowResizing) {\n            for (var i = 0; i < cell.querySelectorAll('.e-resize').length; i++) {\n                var eventName = (Browser.info.name === 'msie') ? 'mousedown pointerdown' : 'mousedown';\n                EventHandler.add(cell.querySelectorAll('.e-resize')[i], eventName, this.downResizeHandler, this);\n                if (Browser.info.name !== 'msie') {\n                    EventHandler.add(cell.querySelectorAll('.e-resize')[i], 'touchstart', this.touchDownResizeHandler, this);\n                }\n            }\n        }\n        this.checkForChanges(false, [panelProp]);\n    };\n    /**\n     * Allows to update a panel in the DashboardLayout.\n     *\n     * @param {panel} panel - Defines the panel element.\n     *\n     * @returns void\n\n     */\n    DashboardLayout.prototype.updatePanel = function (panel) {\n        this.panelsSizeY = 0;\n        if (!panel.id) {\n            return;\n        }\n        var panelInstance = this.getCellInstance(panel.id);\n        if (!panelInstance) {\n            return;\n        }\n        this.maxCol();\n        panel.col = (panel.col < 1) ? 0 : ((panel.col > this.columns)) ? this.columns - 1 : panel.col;\n        if (isNullOrUndefined(panel.col)) {\n            panel.col = panelInstance.col;\n        }\n        this.panelPropertyChange(panelInstance, panel);\n        this.setMinMaxValues(panelInstance);\n        var cell = document.getElementById(panel.id);\n        this.mainElement = cell;\n        var cssClass = panelInstance.cssClass ? panelInstance.cssClass.split(' ') : null;\n        this.panelContent = cell.querySelector('.e-panel-container') ?\n            cell.querySelector('.e-panel-container') :\n            this.createSubElement(cssClass, cell.id + '_content', panelContainer);\n        cell.appendChild(this.panelContent);\n        if (panelInstance.header) {\n            var headerTemplateElement = cell.querySelector('.e-panel-header') ?\n                cell.querySelector('.e-panel-header') : this.createSubElement([], cell.id + 'template', '');\n            addClass([headerTemplateElement], [header]);\n            headerTemplateElement.innerHTML = '';\n            var id = this.element.id + 'HeaderTemplate' + panelInstance.id;\n            this.renderTemplate(panelInstance.header, headerTemplateElement, id, true, 'header');\n            this.panelContent.appendChild(headerTemplateElement);\n            this.renderReactTemplates();\n        }\n        else {\n            if (cell.querySelector('.e-panel-header')) {\n                detach(cell.querySelector('.e-panel-header'));\n            }\n        }\n        if (panelInstance.content) {\n            var cssClass_2 = panelInstance.cssClass ? panelInstance.cssClass.split(' ') : null;\n            this.panelBody = cell.querySelector('.e-panel-content') ? cell.querySelector('.e-panel-content') :\n                this.createSubElement(cssClass_2, cell.id + '_body', panelContent);\n            this.panelBody.innerHTML = '';\n            var headerHeight = this.panelContent.querySelector('.e-panel-header') ?\n                window.getComputedStyle(this.panelContent.querySelector('.e-panel-header')).height : '0px';\n            var contentHeightValue = 'calc( 100% - ' + headerHeight + ')';\n            setStyle(this.panelBody, { height: contentHeightValue });\n            var id = this.element.id + 'ContentTemplate' + panelInstance.id;\n            this.renderTemplate(panelInstance.content, this.panelBody, id, true, 'content');\n            this.panelContent.appendChild(this.panelBody);\n            this.renderReactTemplates();\n        }\n        else {\n            if (cell.querySelector('.e-panel-content')) {\n                detach(cell.querySelector('.e-panel-content'));\n            }\n        }\n        this.setXYAttributes(cell, panelInstance);\n        this.setHeightAndWidth(cell, panelInstance);\n        this.setPanelPosition(cell, panelInstance.row, panelInstance.col);\n        this.updatePanelLayout(cell, panelInstance);\n        if (this.checkMediaQuery()) {\n            this.checkMediaQuerySizing();\n        }\n        this.mainElement = null;\n        this.updatePanels();\n        this.updateCloneArrayObject();\n    };\n    DashboardLayout.prototype.updateCloneArrayObject = function () {\n        this.cloneArray = this.sortedArray;\n        this.cloneObject = JSON.parse(JSON.stringify(this.oldRowCol));\n    };\n    /**\n     * Returns the panels object of the DashboardLayout.\n     *\n     * @returns [`PanelModel[]`](./panelModel)\n     */\n    DashboardLayout.prototype.serialize = function () {\n        var cloneModel = this.cloneModels(this.panels);\n        var customObject = [];\n        for (var i = 0; i < cloneModel.length; i++) {\n            customObject.push({\n                id: cloneModel[i].id, row: cloneModel[i].row, col: cloneModel[i].col, sizeX: cloneModel[i].sizeX,\n                sizeY: cloneModel[i].sizeY, minSizeX: cloneModel[i].minSizeX, minSizeY: cloneModel[i].minSizeY,\n                maxSizeX: cloneModel[i].maxSizeX, maxSizeY: cloneModel[i].maxSizeY\n            });\n        }\n        return (customObject);\n    };\n    /**\n     * Removes all the panels from the DashboardLayout.\n     */\n    DashboardLayout.prototype.removeAll = function () {\n        this.removeAllCalled = true;\n        for (var i = 0; i < this.panelCollection.length; i++) {\n            detach(this.panelCollection[i]);\n            this.clearTemplate();\n        }\n        this.removeAllPanel();\n        this.rows = 0;\n        this.gridPanelCollection = [];\n        this.setHeightWidth();\n        this.sortedPanel();\n        this.sortedArray = [];\n        this.overlapElementClone = [];\n        this.overlapElement = [];\n        this.overlapSubElementClone = [];\n        this.panelCollection = [];\n        this.oldRowCol = {};\n        this.cloneObject = {};\n        var clonedPanels = this.cloneModels(this.panels);\n        this.setProperties({ panels: [] }, true);\n        this.updatePanels();\n        this.updateCloneArrayObject();\n        this.checkForChanges(false, null, clonedPanels);\n        this.removeAllCalled = false;\n    };\n    /**\n     * Removes the panel from the DashboardLayout.\n     *\n     * @param {string} id -  Defines the panel ID.\n     *\n     * @returns void\n     */\n    DashboardLayout.prototype.removePanel = function (id) {\n        var _this = this;\n        this.panelsSizeY = 0;\n        this.panelsInitialModel = this.cloneModels(this.panels);\n        var removedPanel;\n        for (var i = 0; i < this.panelCollection.length; i++) {\n            if (this.panelCollection[i].id === id) {\n                detach(this.panelCollection[i]);\n                this.panelCollection.splice(i, 1);\n            }\n            if (this.panels[i].id === id) {\n                removedPanel = this.panels[i];\n                this.panels.splice(i, 1);\n                this.panelsInitialModel.splice(i, 1);\n                this.updateOldRowColumn();\n                this.sortedPanel();\n            }\n        }\n        this.updatePanels();\n        if (this.checkMediaQuery()) {\n            this.isPanelRemoved = true;\n            this.checkMediaQuerySizing();\n            this.isPanelRemoved = false;\n        }\n        this.gridPanelCollection.forEach(function (item) {\n            if (item.id === id) {\n                _this.gridPanelCollection.splice(_this.gridPanelCollection.indexOf(item), 1);\n            }\n        });\n        this.updateCloneArrayObject();\n        this.checkForChanges(false, null, [removedPanel]);\n    };\n    /**\n     *Moves the panel in the DashboardLayout.\n     *\n     * @param {string} id - Defines the panel ID.\n     *\n     * @param  {number} row - Defines the row of dashboard layout.\n     *\n     * @param {number} col - Defines the column of dashboard layout.\n     *\n     * @returns void\n     */\n    DashboardLayout.prototype.movePanel = function (id, row, col) {\n        this.movePanelCalled = true;\n        this.panelsInitialModel = this.cloneModels(this.panels);\n        var panelInstance = this.getCellInstance(id);\n        if ((isNaN(row) || row === null) || (isNaN(col) || col === null) || !panelInstance) {\n            return;\n        }\n        if (col < 0) {\n            col = 0;\n        }\n        else if (col > this.columns) {\n            col = this.columns - panelInstance.sizeX;\n        }\n        this.panelPropertyChange(panelInstance, { row: row, col: col });\n        var ele = document.getElementById(id);\n        this.mainElement = ele;\n        this.startRow = parseInt(ele.getAttribute('data-row'), 10);\n        this.startCol = parseInt(ele.getAttribute('data-col'), 10);\n        this.setAttributes({ value: { col: col.toString(), row: row.toString() } }, ele);\n        this.updateOldRowColumn();\n        this.setPanelPosition(ele, row, col);\n        this.updatePanelLayout(ele, panelInstance);\n        this.updateRowHeight();\n        this.updatePanels();\n        this.updateCloneArrayObject();\n        this.mainElement = null;\n        if (this.allowFloating) {\n            this.moveItemsUpwards();\n        }\n        this.movePanelCalled = false;\n        this.checkForChanges(false);\n    };\n    DashboardLayout.prototype.setAttributes = function (value, ele) {\n        for (var i = 0; i < Object.keys(value).length; i++) {\n            if (Object.keys(value)) {\n                if (value[Object.keys(value)[i]].col) {\n                    ele.setAttribute('data-col', value[Object.keys(value)[i]].col.toString());\n                }\n                if (value[Object.keys(value)[i]].row) {\n                    ele.setAttribute('data-row', value[Object.keys(value)[i]].row.toString());\n                }\n                if (value[Object.keys(value)[i]].sizeX) {\n                    ele.setAttribute('data-sizeX', value[Object.keys(value)[i]].sizeX.toString());\n                }\n                if (value[Object.keys(value)[i]].sizeY) {\n                    ele.setAttribute('data-sizeY', value[Object.keys(value)[i]].sizeY.toString());\n                }\n                if (value[Object.keys(value)[i]].minSizeX) {\n                    ele.setAttribute('data-minSizeX', value[Object.keys(value)[i]].minSizeX.toString());\n                }\n                if (value[Object.keys(value)[i]].minSizeY) {\n                    ele.setAttribute('data-minSizeY', value[Object.keys(value)[i]].minSizeY.toString());\n                }\n                if (value[Object.keys(value)[i]].maxSizeX) {\n                    ele.setAttribute('data-maxSizeY', value[Object.keys(value)[i]].maxSizeX.toString());\n                }\n                if (value[Object.keys(value)[i]].maxSizeY) {\n                    ele.setAttribute('data-maxSizeY', value[Object.keys(value)[i]].maxSizeY.toString());\n                }\n            }\n        }\n    };\n    /**\n     * Resize the panel in the DashboardLayout.\n     *\n     * @param {string} id - Defines the panel ID.\n     *\n     * @param {number} sizeX - Defines the sizeX of dashboard layout.\n     *\n     * @param {number} sizeY - Defines the sizeY of dashboard layout.\n     */\n    DashboardLayout.prototype.resizePanel = function (id, sizeX, sizeY) {\n        this.panelsInitialModel = this.cloneModels(this.panels);\n        var panelInstance = this.getCellInstance(id);\n        this.resizeCalled = true;\n        var ele = document.getElementById(id);\n        var args = { event: null, element: ele, isInteracted: false };\n        this.trigger('resizeStart', args);\n        this.panelPropertyChange(panelInstance, { sizeX: sizeX, sizeY: sizeY });\n        this.setMinMaxValues(panelInstance);\n        this.checkMinMaxValues(panelInstance);\n        this.mainElement = ele;\n        this.setAttributes({ value: { sizeX: panelInstance.sizeX.toString(), sizeY: panelInstance.sizeY.toString() } }, ele);\n        this.setHeightAndWidth(ele, panelInstance);\n        this.updatePanelLayout(ele, panelInstance);\n        this.updatePanels();\n        this.updateRowHeight();\n        this.resizeCalled = false;\n        this.trigger('resizeStop', args);\n        this.checkForChanges(false);\n    };\n    /**\n     * Destroys the DashboardLayout component\n     *\n     * @returns void\n     */\n    DashboardLayout.prototype.destroy = function () {\n        // eslint-disable-next-line\n        EventHandler.remove(window, 'resize', this.refreshListener);\n        removeClass([this.element], ['e-dashboardlayout', 'e-lib', 'e-responsive', 'e-control']);\n        this.element.removeAttribute('style');\n        for (var i = 0; i < this.dragCollection.length; i++) {\n            this.dragCollection[i].destroy();\n        }\n        this.removeAllPanel();\n        _super.prototype.destroy.call(this);\n        this.clearTemplate();\n        this.renderReactTemplates();\n    };\n    DashboardLayout.prototype.removeAllPanel = function () {\n        while (this.element.firstElementChild) {\n            detach(this.element.firstElementChild);\n            this.clearTemplate();\n        }\n    };\n    DashboardLayout.prototype.setEnableRtl = function () {\n        if (this.enableRtl === true) {\n            addClass([this.element], 'e-rtl');\n        }\n        else {\n            removeClass([this.element], 'e-rtl');\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * returns void\n     *\n     * @private\n     */\n    DashboardLayout.prototype.updateCellSizeAndSpacing = function () {\n        this.panelResponsiveUpdate();\n        this.setHeightWidth();\n        this.getRowColumn();\n        for (var i = 0; i < this.element.querySelectorAll('.e-panel').length; i++) {\n            var ele = this.element.querySelectorAll('.e-panel')[i];\n            var panelModel = this.getCellInstance(ele.id);\n            this.setHeightAndWidth(ele, panelModel);\n            this.setPanelPosition(ele, panelModel.row, panelModel.col);\n        }\n    };\n    DashboardLayout.prototype.updatePanelsDynamically = function (panels) {\n        this.removeAll();\n        this.setProperties({ panels: panels }, true);\n        this.setOldRowCol();\n        if (this.table) {\n            this.table.remove();\n        }\n        this.initialize();\n        if (this.checkMediaQuery()) {\n            this.refresh();\n        }\n        if (this.showGridLines) {\n            this.initGridLines();\n        }\n    };\n    DashboardLayout.prototype.checkForIDValues = function (panels) {\n        var _this = this;\n        if (!isNullOrUndefined(panels) && panels.length > 0) {\n            this.panelID = 0;\n            panels.forEach(function (panel) {\n                if (!panel.id) {\n                    _this.panelPropertyChange(panel, { id: 'layout_' + _this.panelID.toString() });\n                    _this.panelID = _this.panelID + 1;\n                }\n            });\n        }\n        else {\n            this.restrictDynamicUpdate = true;\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * returns void\n     *\n     * @private\n     */\n    // eslint-disable-next-line\n    DashboardLayout.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        if (newProp.panels && newProp.panels.length > 0 && newProp.panels[0] instanceof Panel) {\n            this.checkForIDValues(newProp.panels);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'enableRtl':\n                    this.setProperties({ enableRtl: newProp.enableRtl }, true);\n                    this.setEnableRtl();\n                    break;\n                case 'mediaQuery':\n                    this.setProperties({ mediaQuery: newProp.mediaQuery }, true);\n                    if (this.checkMediaQuery()) {\n                        this.checkMediaQuerySizing();\n                    }\n                    break;\n                case 'allowDragging':\n                    this.setProperties({ allowDragging: newProp.allowDragging }, true);\n                    this.ensureDrag();\n                    break;\n                case 'allowResizing':\n                    this.setProperties({ allowResizing: newProp.allowResizing }, true);\n                    if (this.allowResizing) {\n                        this.setClasses(this.panelCollection);\n                        this.resizeEvents();\n                    }\n                    else {\n                        var panelElements = this.element.querySelectorAll('.e-panel .e-panel-container .e-resize');\n                        for (var i = 0; i < panelElements.length; i++) {\n                            var eventName = (Browser.info.name === 'msie') ? 'mousedown pointerdown' : 'mousedown';\n                            var element = panelElements[i];\n                            EventHandler.remove(element, eventName, this.downResizeHandler);\n                            if (Browser.info.name !== 'msie') {\n                                EventHandler.remove(element, 'touchstart', this.touchDownResizeHandler);\n                            }\n                        }\n                        this.removeResizeClasses(this.panelCollection);\n                    }\n                    break;\n                case 'cellSpacing':\n                    this.setProperties({ cellSpacing: newProp.cellSpacing }, true);\n                    this.updateCellSizeAndSpacing();\n                    this.updateGridLines();\n                    break;\n                case 'draggableHandle':\n                    this.setProperties({ draggableHandle: newProp.draggableHandle }, true);\n                    this.ensureDrag();\n                    break;\n                case 'allowFloating':\n                    this.setProperties({ allowFloating: newProp.allowFloating }, true);\n                    this.moveItemsUpwards();\n                    break;\n                case 'showGridLines':\n                    if (this.showGridLines) {\n                        this.setProperties({ showGridLines: newProp.showGridLines }, true);\n                        this.initGridLines();\n                    }\n                    else {\n                        if (this.table) {\n                            detach(this.table);\n                        }\n                    }\n                    break;\n                case 'allowPushing':\n                    this.setProperties({ allowPushing: newProp.allowPushing }, true);\n                    break;\n                case 'panels':\n                    if (!newProp.columns && !this.restrictDynamicUpdate && (newProp.panels[0] && newProp.panels.length > 0)) {\n                        this.isRenderComplete = false;\n                        this.updatePanelsDynamically(newProp.panels);\n                        this.isRenderComplete = true;\n                    }\n                    else if (!(newProp.panels[0] && newProp.panels.length)) {\n                        this.isRenderComplete = false;\n                        this.updatePanelsDynamically(this.panels);\n                        this.isRenderComplete = true;\n                    }\n                    else {\n                        this.restrictDynamicUpdate = false;\n                    }\n                    break;\n                case 'columns':\n                    this.isRenderComplete = false;\n                    if (newProp.panels) {\n                        this.updatePanelsDynamically(newProp.panels);\n                    }\n                    this.setProperties({ columns: newProp.columns }, true);\n                    this.panelCollection = [];\n                    this.maxColumnValue = this.columns;\n                    this.calculateCellSize();\n                    this.panels.forEach(function (panel) {\n                        _this.setMinMaxValues(panel);\n                        if (_this.maxColumnValue < panel.col || _this.maxColumnValue < (panel.col + panel.sizeX)) {\n                            var colValue = _this.maxColumnValue - panel.sizeX;\n                            _this.panelPropertyChange(panel, { col: colValue < 0 ? 0 : colValue });\n                            _this.setXYAttributes(document.getElementById(panel.id), panel);\n                        }\n                        _this.setHeightAndWidth(document.getElementById(panel.id), panel);\n                        _this.panelCollection.push(document.getElementById(panel.id));\n                        _this.setPanelPosition(document.getElementById(panel.id), panel.row, panel.col);\n                        _this.mainElement = document.getElementById(panel.id);\n                        _this.updatePanelLayout(document.getElementById(panel.id), panel);\n                        _this.mainElement = null;\n                    });\n                    this.updatePanels();\n                    this.updateCloneArrayObject();\n                    this.isRenderComplete = true;\n                    this.updateGridLines();\n                    break;\n            }\n        }\n    };\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns string\n     * @private\n     */\n    DashboardLayout.prototype.getPersistData = function () {\n        var keyEntity = ['panels'];\n        return this.addOnPersist(keyEntity);\n    };\n    /* istanbul ignore next */\n    DashboardLayout.prototype.mergePersistPanelData = function (persistedData) {\n        var data = window.localStorage.getItem(this.getModuleName() + this.element.id);\n        if (!(isNullOrUndefined(data) || (data === '')) || !isNullOrUndefined(persistedData)) {\n            var dataObj = !isNullOrUndefined(persistedData) ? persistedData : JSON.parse(data);\n            var keys = Object.keys(dataObj);\n            this.isProtectedOnChange = true;\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                if ((typeof getValue(key, this) === 'object' && !isNullOrUndefined(getValue(key, this)))) {\n                    if (Array.isArray(getValue(key, this)) && key === 'panels') {\n                        this.mergePanels(dataObj[key], this[key]);\n                    }\n                }\n            }\n            this.isProtectedOnChange = false;\n        }\n    };\n    /* istanbul ignore next */\n    DashboardLayout.prototype.mergePanels = function (sortedPanels, panels) {\n        var storedColumns = sortedPanels;\n        var _loop_6 = function (i) {\n            this_4.checkForIDValues(panels);\n            var localPanel = panels.filter(function (pan) { return pan.id === storedColumns[i].id; })[0];\n            if (!isNullOrUndefined(localPanel)) {\n                storedColumns[i] = extend(localPanel, storedColumns[i], {}, true);\n            }\n        };\n        var this_4 = this;\n        for (var i = 0; i < storedColumns.length; i++) {\n            _loop_6(i);\n        }\n    };\n    /**\n     * Returns the current module name.\n     *\n     * @returns string\n     *\n     * @private\n     */\n    DashboardLayout.prototype.getModuleName = function () {\n        return 'DashboardLayout';\n    };\n    __decorate([\n        Property(true)\n    ], DashboardLayout.prototype, \"allowDragging\", void 0);\n    __decorate([\n        Property(false)\n    ], DashboardLayout.prototype, \"allowResizing\", void 0);\n    __decorate([\n        Property(true)\n    ], DashboardLayout.prototype, \"allowPushing\", void 0);\n    __decorate([\n        Property(true)\n    ], DashboardLayout.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(true)\n    ], DashboardLayout.prototype, \"allowFloating\", void 0);\n    __decorate([\n        Property(1)\n    ], DashboardLayout.prototype, \"cellAspectRatio\", void 0);\n    __decorate([\n        Property([5, 5])\n    ], DashboardLayout.prototype, \"cellSpacing\", void 0);\n    __decorate([\n        Property(1)\n    ], DashboardLayout.prototype, \"columns\", void 0);\n    __decorate([\n        Property(false)\n    ], DashboardLayout.prototype, \"showGridLines\", void 0);\n    __decorate([\n        Property(null)\n    ], DashboardLayout.prototype, \"draggableHandle\", void 0);\n    __decorate([\n        Property('en-US')\n    ], DashboardLayout.prototype, \"locale\", void 0);\n    __decorate([\n        Property('max-width: 600px')\n    ], DashboardLayout.prototype, \"mediaQuery\", void 0);\n    __decorate([\n        Collection([], Panel)\n    ], DashboardLayout.prototype, \"panels\", void 0);\n    __decorate([\n        Property(['e-south-east'])\n    ], DashboardLayout.prototype, \"resizableHandles\", void 0);\n    __decorate([\n        Event()\n    ], DashboardLayout.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], DashboardLayout.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], DashboardLayout.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], DashboardLayout.prototype, \"dragStop\", void 0);\n    __decorate([\n        Event()\n    ], DashboardLayout.prototype, \"resizeStart\", void 0);\n    __decorate([\n        Event()\n    ], DashboardLayout.prototype, \"resize\", void 0);\n    __decorate([\n        Event()\n    ], DashboardLayout.prototype, \"resizeStop\", void 0);\n    __decorate([\n        Event()\n    ], DashboardLayout.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], DashboardLayout.prototype, \"destroyed\", void 0);\n    DashboardLayout = __decorate([\n        NotifyPropertyChanges\n    ], DashboardLayout);\n    return DashboardLayout;\n}(Component));\nexport { DashboardLayout };\n"]},"metadata":{},"sourceType":"module"}