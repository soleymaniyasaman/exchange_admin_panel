{"ast":null,"code":"var _jsxFileName = \"/Users/yasaman/Documents/moj_adminpanel/adminpanel/src/components/managemant/policies.js\",\n    _s = $RefreshSig$();\n\nimport React, { ReactDOM } from \"react\";\nimport CKEditor from \"./classicEditor\";\nimport { IAM_APP, TERMS_AND_CONDITIONS_ITEM, TERMS_AND_CONDITIONS_UPDATE } from '../../utils/constants';\nimport { useFetchApi } from '../../utils/hooks';\nimport { Container, Box, Dialog, DialogTitle, DialogContent, DialogActions } from '@material-ui/core';\nimport { Button } from '@material-ui/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ConfirmModal = props => {\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    maxWidth: \"xs\" //   onEntering={handleEntering}\n    ,\n    \"aria-labelledby\": \"confirmation-dialog-title\",\n    open: props.openModal,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      id: \"confirmation-dialog-title\",\n      children: \"\\u0622\\u06CC\\u0627 \\u0627\\u0632 \\u062A\\u063A\\u06CC\\u06CC\\u0631 \\u0645\\u062A\\u0646 \\u0645\\u0637\\u0645\\u0626\\u0646 \\u0647\\u0633\\u062A\\u06CC\\u062F\\u061F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        autoFocus: true,\n        onClick: () => props.setOpenModal(false),\n        variant: \"outlined\",\n        color: \"secondary\",\n        children: \"\\u062E\\u06CC\\u0631\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => {\n          props.handleUserApprove();\n          setTimeout(() => {\n            props.setOpenModal(false);\n          }, 2000);\n        },\n        variant: \"contained\",\n        color: \"primary\",\n        children: \"\\u0628\\u0644\\u0647\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 10\n  }, this);\n};\n\n_c = ConfirmModal;\n\nconst Policies = () => {\n  _s();\n\n  const [content, setContent] = React.useState();\n  const [openModal, setOpenModal] = React.useState(false);\n  const [{\n    data: aboutUs,\n    isLoading: aboutUsLoading\n  }, doFetch] = useFetchApi(undefined);\n  const [{\n    data: aboutUsUpdate,\n    isLoading: aboutUsUpdateLoading\n  }, getAboutUs] = useFetchApi(undefined, {}); //------ Test for race condition ------ //\n\n  const setContents = () => {\n    console.log(\"Setting content\", typeof content);\n  };\n\n  const onChange = evt => {\n    setContent(evt.editor.getData()); // console.log(\"onChange fired with event info: \",evt, \"and data: \",evt.editor.getData());\n    // console.log(\"and data: \",evt.editor.getData());\n  }; // const onBlur =(evt) => {\n  // }\n  // const afterPaste =(evt) => {\n  // }\n\n\n  console.log(\"content\", content);\n\n  async function handleSave() {\n    console.log(\"Setting content\", content);\n    const payload = {\n      \"key\": \"string\",\n      \"value\": content,\n      \"additional_data\": {}\n    };\n    getAboutUs(\"PUT\", IAM_APP, TERMS_AND_CONDITIONS_UPDATE(14), payload);\n  }\n\n  React.useEffect(() => {\n    doFetch(\"GET\", IAM_APP, TERMS_AND_CONDITIONS_ITEM(14));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content\",\n    children: [/*#__PURE__*/_jsxDEV(ConfirmModal, {\n      openModal: openModal,\n      setOpenModal: setOpenModal,\n      handleUserApprove: handleSave\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" d-flex align-items-center justify-content-between w-auto mx-auto pt-2\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/assests/drawer/Polygon.svg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font_title_name me-1\",\n          style: {\n            minWidth: \"150px\"\n          },\n          children: \"\\u0635\\u0641\\u062D\\u0647 \\u0631\\u0627\\u0647\\u0646\\u0645\\u0627\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(CKEditor, {\n      content: content ? content : aboutUs === null || aboutUs === void 0 ? void 0 : aboutUs.value,\n      activeClass: \"mt-4\",\n      events: {\n        // blur: onBlur,\n        // afterPaste: afterPaste,\n        change: onChange\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-end mt-3 ps-5\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: () => {\n          setOpenModal(true); // handleSave()\n        },\n        children: \"\\u062B\\u0628\\u062A \\u0627\\u0637\\u0644\\u0627\\u0639\\u0627\\u062A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Policies, \"STqpcc80+D8Bdc1ir3ExIH37Vv8=\", false, function () {\n  return [useFetchApi, useFetchApi];\n});\n\n_c2 = Policies;\nexport default Policies;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ConfirmModal\");\n$RefreshReg$(_c2, \"Policies\");","map":{"version":3,"sources":["/Users/yasaman/Documents/moj_adminpanel/adminpanel/src/components/managemant/policies.js"],"names":["React","ReactDOM","CKEditor","IAM_APP","TERMS_AND_CONDITIONS_ITEM","TERMS_AND_CONDITIONS_UPDATE","useFetchApi","Container","Box","Dialog","DialogTitle","DialogContent","DialogActions","Button","ConfirmModal","props","openModal","setOpenModal","handleUserApprove","setTimeout","Policies","content","setContent","useState","data","aboutUs","isLoading","aboutUsLoading","doFetch","undefined","aboutUsUpdate","aboutUsUpdateLoading","getAboutUs","setContents","console","log","onChange","evt","editor","getData","handleSave","payload","useEffect","minWidth","value","change"],"mappings":"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","sourcesContent":["import React, { ReactDOM } from \"react\";\nimport CKEditor from \"./classicEditor\";\nimport { IAM_APP , TERMS_AND_CONDITIONS_ITEM , TERMS_AND_CONDITIONS_UPDATE} from '../../utils/constants';\nimport { useFetchApi } from '../../utils/hooks';\nimport {  Container, Box, Dialog, DialogTitle, DialogContent, DialogActions } from '@material-ui/core';\nimport { Button } from '@material-ui/core';\n\n\nconst ConfirmModal = (props) => {\n\n  return <Dialog\n    maxWidth=\"xs\"\n  //   onEntering={handleEntering}\n    aria-labelledby=\"confirmation-dialog-title\"\n    open={props.openModal}\n  >\n      <DialogTitle id=\"confirmation-dialog-title\">آیا از تغییر متن مطمئن هستید؟</DialogTitle>\n      <DialogContent >\n\n      </DialogContent>\n      <DialogActions>\n          <Button autoFocus onClick={ () => props.setOpenModal(false)} variant=\"outlined\" color=\"secondary\">\n              خیر\n          </Button>\n          <Button onClick={ () => {\n              props.handleUserApprove()\n              setTimeout( () => {props.setOpenModal(false)} , 2000 )\n          }} variant=\"contained\" color=\"primary\">\n              بله\n          </Button>\n      </DialogActions>\n  </Dialog>\n}\n\n\nconst Policies = () => {\n\n  const [content, setContent] = React.useState();\n  const [openModal, setOpenModal] = React.useState(false);   \n  const [{ data: aboutUs, isLoading: aboutUsLoading },doFetch] = useFetchApi(undefined)\n  const [{ data: aboutUsUpdate, isLoading: aboutUsUpdateLoading }, getAboutUs] = useFetchApi(undefined, {})\n  \n  //------ Test for race condition ------ //\n  const setContents =() =>{\n    console.log(\"Setting content\",typeof content);\n  }\n\n  const onChange =(evt) => {\n    setContent(evt.editor.getData())\n    // console.log(\"onChange fired with event info: \",evt, \"and data: \",evt.editor.getData());\n    // console.log(\"and data: \",evt.editor.getData());\n  }\n\n  // const onBlur =(evt) => {\n  // }\n\n  // const afterPaste =(evt) => {\n  // }\n  console.log(\"content\",content)\n  async function handleSave() {\n    console.log(\"Setting content\",content);\n\n    const payload = {\n        \"key\": \"string\",\n        \"value\": content,\n        \"additional_data\":{}\n      \n      }\n    getAboutUs(\"PUT\", IAM_APP, TERMS_AND_CONDITIONS_UPDATE(14),payload)\n   }\n\n\n\n   React.useEffect( () => {\n    doFetch(\"GET\", IAM_APP, TERMS_AND_CONDITIONS_ITEM(14) )\n}, [])\n    return (\n        <div className=\"content\">\n        <ConfirmModal openModal={openModal} setOpenModal={setOpenModal} handleUserApprove={handleSave} />\n        <div className=\" d-flex align-items-center justify-content-between w-auto mx-auto pt-2\">\n        <div className=\"d-flex\">\n            <img src=\"/assests/drawer/Polygon.svg\" />\n            <p className=\"font_title_name me-1\" style={{minWidth: \"150px\"}}>صفحه راهنما</p>\n        </div>\n        </div>\n        {/* <button onClick={() => setContents()} children='Set content' /> */}\n        <CKEditor\n          content={content?content:aboutUs?.value}\n          activeClass=\"mt-4\"\n          \n          events={{\n            // blur: onBlur,\n            // afterPaste: afterPaste,\n            change: onChange\n          }}\n        />\n          <div className=\"d-flex justify-content-end mt-3 ps-5\">\n          <Button \n          variant=\"contained\" \n          color=\"primary\" \n          onClick={() => {\n            setOpenModal(true)\n            // handleSave()\n            }}>ثبت اطلاعات</Button>\n          </div>\n      </div>\n    );\n  \n}\n\nexport default Policies;"]},"metadata":{},"sourceType":"module"}