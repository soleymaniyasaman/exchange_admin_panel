{"ast":null,"code":"import * as events from '../base/constant';\nimport { ToolbarStatus } from '../../editor-manager/plugin/toolbar-status';\nimport { getDefaultHtmlTbStatus } from '../../common/util';\n/**\n * HtmlToolbarStatus module for refresh the toolbar status\n */\n\nvar HtmlToolbarStatus =\n/** @class */\nfunction () {\n  function HtmlToolbarStatus(parent) {\n    this.parent = parent;\n    this.toolbarStatus = this.prevToolbarStatus = getDefaultHtmlTbStatus();\n    this.addEventListener();\n  }\n\n  HtmlToolbarStatus.prototype.addEventListener = function () {\n    this.parent.on(events.toolbarRefresh, this.onRefreshHandler, this);\n    this.parent.on(events.destroy, this.removeEventListener, this);\n  };\n\n  HtmlToolbarStatus.prototype.removeEventListener = function () {\n    this.parent.off(events.toolbarRefresh, this.onRefreshHandler);\n    this.parent.off(events.destroy, this.removeEventListener);\n  };\n\n  HtmlToolbarStatus.prototype.onRefreshHandler = function (args) {\n    if (this.parent.readonly) {\n      return;\n    }\n\n    var fontsize = [];\n    var fontName = [];\n    var formats = [];\n    this.parent.fontSize.items.forEach(function (item) {\n      fontsize.push(item.value);\n    });\n    this.parent.fontFamily.items.forEach(function (item) {\n      fontName.push(item.value);\n    });\n    this.parent.format.types.forEach(function (item) {\n      formats.push(item.value.toLocaleLowerCase());\n    });\n    this.toolbarStatus = ToolbarStatus.get(this.parent.contentModule.getDocument(), this.parent.contentModule.getEditPanel(), formats, fontsize, fontName, args.documentNode);\n    var tbStatusString = JSON.stringify(this.toolbarStatus);\n    this.parent.notify(events.toolbarUpdated, this.toolbarStatus);\n\n    if (JSON.stringify(this.prevToolbarStatus) !== tbStatusString) {\n      this.parent.notify(events.updateTbItemsStatus, {\n        html: JSON.parse(tbStatusString),\n        markdown: null\n      });\n      this.prevToolbarStatus = JSON.parse(tbStatusString);\n    }\n  };\n\n  return HtmlToolbarStatus;\n}();\n\nexport { HtmlToolbarStatus };","map":{"version":3,"sources":["/Users/yasaman/Documents/moj_adminpanel/adminpanel/node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/html-toolbar-status.js"],"names":["events","ToolbarStatus","getDefaultHtmlTbStatus","HtmlToolbarStatus","parent","toolbarStatus","prevToolbarStatus","addEventListener","prototype","on","toolbarRefresh","onRefreshHandler","destroy","removeEventListener","off","args","readonly","fontsize","fontName","formats","fontSize","items","forEach","item","push","value","fontFamily","format","types","toLocaleLowerCase","get","contentModule","getDocument","getEditPanel","documentNode","tbStatusString","JSON","stringify","notify","toolbarUpdated","updateTbItemsStatus","html","parse","markdown"],"mappings":"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","sourcesContent":["import * as events from '../base/constant';\nimport { ToolbarStatus } from '../../editor-manager/plugin/toolbar-status';\nimport { getDefaultHtmlTbStatus } from '../../common/util';\n/**\n * HtmlToolbarStatus module for refresh the toolbar status\n */\nvar HtmlToolbarStatus = /** @class */ (function () {\n    function HtmlToolbarStatus(parent) {\n        this.parent = parent;\n        this.toolbarStatus = this.prevToolbarStatus = getDefaultHtmlTbStatus();\n        this.addEventListener();\n    }\n    HtmlToolbarStatus.prototype.addEventListener = function () {\n        this.parent.on(events.toolbarRefresh, this.onRefreshHandler, this);\n        this.parent.on(events.destroy, this.removeEventListener, this);\n    };\n    HtmlToolbarStatus.prototype.removeEventListener = function () {\n        this.parent.off(events.toolbarRefresh, this.onRefreshHandler);\n        this.parent.off(events.destroy, this.removeEventListener);\n    };\n    HtmlToolbarStatus.prototype.onRefreshHandler = function (args) {\n        if (this.parent.readonly) {\n            return;\n        }\n        var fontsize = [];\n        var fontName = [];\n        var formats = [];\n        this.parent.fontSize.items.forEach(function (item) {\n            fontsize.push(item.value);\n        });\n        this.parent.fontFamily.items.forEach(function (item) {\n            fontName.push(item.value);\n        });\n        this.parent.format.types.forEach(function (item) {\n            formats.push(item.value.toLocaleLowerCase());\n        });\n        this.toolbarStatus = ToolbarStatus.get(this.parent.contentModule.getDocument(), this.parent.contentModule.getEditPanel(), formats, fontsize, fontName, args.documentNode);\n        var tbStatusString = JSON.stringify(this.toolbarStatus);\n        this.parent.notify(events.toolbarUpdated, this.toolbarStatus);\n        if (JSON.stringify(this.prevToolbarStatus) !== tbStatusString) {\n            this.parent.notify(events.updateTbItemsStatus, { html: JSON.parse(tbStatusString), markdown: null });\n            this.prevToolbarStatus = JSON.parse(tbStatusString);\n        }\n    };\n    return HtmlToolbarStatus;\n}());\nexport { HtmlToolbarStatus };\n"]},"metadata":{},"sourceType":"module"}