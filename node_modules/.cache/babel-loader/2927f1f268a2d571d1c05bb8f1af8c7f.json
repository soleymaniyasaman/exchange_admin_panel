{"ast":null,"code":"import _objectSpread from\"/Users/yasaman/Documents/moj_adminpanel/adminpanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/yasaman/Documents/moj_adminpanel/adminpanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yasaman/Documents/moj_adminpanel/adminpanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/yasaman/Documents/moj_adminpanel/adminpanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/yasaman/Documents/moj_adminpanel/adminpanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{UserContext}from'../../../context/provider';import{Button}from\"@material-ui/core\";import{Formik}from\"formik\";import PopUp from'../../popUp';import{Link,withRouter}from\"react-router-dom\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";// import { Prompt } from 'react-router';\nvar Wizard=/*#__PURE__*/function(_React$Component){_inherits(Wizard,_React$Component);var _super=_createSuper(Wizard);function Wizard(props){var _this;_classCallCheck(this,Wizard);_this=_super.call(this,props);_this.history=_this.props;_this.validate=function(values){var activePage=React.Children.toArray(_this.props.children)[_this.state.page];return activePage.props.validate?activePage.props.validate(values):{};};_this.handleSubmit=function(values){// console.log(values);\nvar onSubmit=_this.props.onSubmit;if(_this.state.save){return onSubmit({values:values,save:_this.state.save}),_this.setState({save:false});}if(_this.state.isAuth){return onSubmit({values:values,isAuth:_this.state.isAuth}),_this.setState({isAuth:false});}};_this.state={page:0,values:props.initialValues,// toggle: false,\nblocked:false,save:false,isAuth:false// upload: false\n};return _this;}_createClass(Wizard,[{key:\"render\",value:function render(){var _this2=this;var children=this.props.children;var _this$state=this.state,page=_this$state.page,values=_this$state.values;var activePage=React.Children.toArray(children)[page];var data=this.context;return/*#__PURE__*/_jsx(Formik,{initialValues:values,enableReinitialize:true,validate:this.validate,onSubmit:this.handleSubmit,children:function children(props){return/*#__PURE__*/_jsxs(\"form\",{onSubmit:props.handleSubmit,children:[/*#__PURE__*/_jsxs(Link,{className:\"position-absolute d-flex text-decoration-none start-0 top-0 m-3 ms-5\",style:{color:\"#10D078\"},to:'/users',children:[\"\\u0628\\u0627\\u0632\\u06AF\\u0634\\u062A \\u0628\\u0647 \\u0644\\u06CC\\u0633\\u062A \\u06A9\\u0627\\u0631\\u0628\\u0631\\u0627\\u0646 \",\"->\",\" \"]}),/*#__PURE__*/React.cloneElement(activePage,{parentState:_objectSpread({},props)}),_this2.state.blocked?/*#__PURE__*/_jsx(PopUp//upload button alert\n,{popUpHead:\"تایید احراز هویت\",popUpBody:\"آیا از تایید احراز هویت مطمئن هستید؟\",onCancel:function onCancel(){return data.setShowAlert(false);},onCancelText:'لغو',onAccept:function onAccept(){return data.setShowAlert(false),_this2.setState({isAuth:true}),props.setFieldValue('isAuthentication',true),props.submitForm(_this2.handleSubmit);},onAcceptText:'انجام'}):/*#__PURE__*/_jsx(PopUp//save button alert\n,{popUpHead:\"تایید ویرایش اطلاعات\",popUpBody:\"آیا از تایید اطلاعات کاربر مطمئن هستید؟\",onCancel:function onCancel(){return data.setShowAlert(false);},onCancelText:'مطمئن نیستم',onAccept:function onAccept(){return data.setShowAlert(false),_this2.setState({save:true}),props.submitForm(_this2.handleSubmit);},onAcceptText:'بله'})]});}});}}]);return Wizard;}(React.Component);Wizard.Page=function(_ref){var children=_ref.children,parentState=_ref.parentState;if(children){return children(parentState);}return null;};Wizard.contextType=UserContext;Wizard.contextType=UserContext;export default withRouter(Wizard);","map":{"version":3,"sources":["/Users/yasaman/Documents/moj_adminpanel/adminpanel/src/components/users/usersForm/Wizard.js"],"names":["React","UserContext","Button","Formik","PopUp","Link","withRouter","Wizard","props","history","validate","values","activePage","Children","toArray","children","state","page","handleSubmit","onSubmit","save","setState","isAuth","initialValues","blocked","data","context","color","cloneElement","parentState","setShowAlert","setFieldValue","submitForm","Component","Page","contextType"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { UserContext } from '../../../context/provider';\nimport { Button } from \"@material-ui/core\"\nimport { Formik } from \"formik\";\nimport PopUp from '../../popUp';\nimport { Link, withRouter } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\n// import { Prompt } from 'react-router';\n\nclass Wizard extends React.Component {\n    static Page = ({ children, parentState }) => {\n        if (children){\n            return children(parentState);\n        }return null\n    };\n    static propTypes = {\n        match: PropTypes.object.isRequired,\n        location: PropTypes.object.isRequired,\n        history: PropTypes.object.isRequired\n    };\n    static contextType = UserContext;\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            page: 0,\n            values: props.initialValues,\n            // toggle: false,\n            blocked: false,\n            save: false,\n            isAuth: false\n            // upload: false\n        };\n    }\n\n    history = this.props;\n    validate = values => {\n        const activePage = React.Children.toArray(this.props.children)[\n            this.state.page\n        ];\n        return activePage.props.validate ? activePage.props.validate(values) : {};\n    };\n\n\n    handleSubmit = (values) => {\n        // console.log(values);\n        const { onSubmit } = this.props;\n        if (this.state.save) {\n            return (\n                onSubmit({ values: values, save: this.state.save }),\n                this.setState({ save: false })\n            )\n        }\n        if (this.state.isAuth) {\n            return (\n                onSubmit({ values: values, isAuth: this.state.isAuth }),\n                this.setState({ isAuth: false })\n            )\n        }\n    };\n\n\n    render() {\n        const { children } = this.props;\n        const { page, values } = this.state;\n        const activePage = React.Children.toArray(children)[page];\n        var data = this.context;\n\n\n        return (\n            <Formik\n                initialValues={values}\n                enableReinitialize={true}\n                validate={this.validate}\n                onSubmit={this.handleSubmit}\n            >\n                {props => (\n                    <form onSubmit={props.handleSubmit}>\n                         <Link className=\"position-absolute d-flex text-decoration-none start-0 top-0 m-3 ms-5\" style={{color: \"#10D078\"}} to={'/users'} >بازگشت به لیست کاربران {`->`} </Link>\n                        {/* <a to=\"\">بازگشت به لیست کاربران</a> */}\n                        {React.cloneElement(activePage, { parentState: { ...props } })}\n\n                            {/* <React.Fragment >\n                                <button className=\"one border-0 pr-2 fixed-bottom\"     //upload button\n                                    id=\"first-button\"\n                                    type=\"button\"\n                                    onClick={() => {\n                                        props.setFieldValue('isSaveButton', false)\n                                        this.setState({ blocked: true })\n                                        data.setShowAlert(true)\n                                    }}\n                                >\n                                    <i className=\"fa fa-upload pr-0\"></i>\n                                </Button>\n                                <button className=\"three border-0 fixed-bottom pr-2\"        //save button\n                                    type=\"button\"\n                                    id=\"second-button\"\n                                    onClick={() => {\n                                        props.setFieldValue('isSaveButton', true)\n                                        this.setState({ blocked: false })\n                                        data.setShowAlert(true)\n                                    }}\n                                >\n                                    <i className=\"fa fa-save\"></i>\n                                </button>\n                            </React.Fragment> */}\n\n                            {this.state.blocked ?\n                                        <PopUp                                //upload button alert\n                                            popUpHead={\"تایید احراز هویت\"}\n                                            popUpBody={\n                                                \"آیا از تایید احراز هویت مطمئن هستید؟\"\n                                            }\n                                            onCancel={() => data.setShowAlert(false)}\n                                            onCancelText={'لغو'}\n                                            onAccept={() => { return(\n                                                data.setShowAlert(false),\n                                                this.setState({ isAuth: true }),\n                                                props.setFieldValue('isAuthentication', true),\n                                                props.submitForm(this.handleSubmit)\n \n                                                 )}\n                                            }\n                                            onAcceptText={'انجام'}\n                                        /> :\n                                        <PopUp                                 //save button alert\n                                            popUpHead={\"تایید ویرایش اطلاعات\"}\n                                            popUpBody={\n                                                \"آیا از تایید اطلاعات کاربر مطمئن هستید؟\"\n                                            }\n                                            onCancel={() => data.setShowAlert(false)}\n                                            onCancelText={'مطمئن نیستم'}\n                                            onAccept={() => {return(\n                                                data.setShowAlert(false),\n                                                this.setState({ save: true }),\n                                                props.submitForm(this.handleSubmit)\n                                            )}\n                                            }\n                                            onAcceptText={'بله'}\n                                        />\n                                    }\n                    </form>\n                )}\n            </Formik>\n\n        );\n    }\n}\nWizard.contextType = UserContext;\n\nexport default withRouter(Wizard);"]},"metadata":{},"sourceType":"module"}