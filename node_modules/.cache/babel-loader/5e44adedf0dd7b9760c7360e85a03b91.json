{"ast":null,"code":"import { RenderType } from '../base/enum';\nimport * as events from '../base/constant';\n/**\n * Content module is used to render Rich Text Editor content\n *\n * @hidden\n\n */\n\nvar Render =\n/** @class */\nfunction () {\n  /**\n   * Constructor for render module\n   *\n   * @param {IRichTextEditor} parent - specifies the parent\n   * @param {ServiceLocator} locator - specifies the locator.\n   * @returns {void}\n   */\n  function Render(parent, locator) {\n    this.parent = parent;\n    this.locator = locator;\n    this.renderer = this.locator.getService('rendererFactory');\n    this.addEventListener();\n  }\n  /**\n   * To initialize Rich Text Editor header, content and footer rendering\n   *\n   * @returns {void}\n   * @hidden\n    */\n\n\n  Render.prototype.render = function () {\n    // eslint-disable-next-line\n    var rteObj = this.parent;\n    this.contentRenderer = this.renderer.getRenderer(RenderType.Content);\n    this.contentRenderer.renderPanel();\n  };\n  /**\n   * Refresh the entire RichTextEditor.\n   *\n   * @param {NotifyArgs} e - specifies the arguments.\n   * @returns {void}\n   */\n\n\n  Render.prototype.refresh = function (e) {\n    if (e === void 0) {\n      e = {\n        requestType: 'refresh'\n      };\n    }\n\n    this.parent.notify(e.requestType + \"-begin\", e);\n  };\n  /**\n   * Destroy the entire RichTextEditor.\n   *\n   * @returns {void}\n   */\n\n\n  Render.prototype.destroy = function () {\n    this.removeEventListener();\n  };\n\n  Render.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.on(events.modelChanged, this.refresh, this);\n    this.parent.on(events.keyUp, this.keyUp, this);\n  };\n\n  Render.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.off(events.modelChanged, this.refresh);\n    this.parent.off(events.keyUp, this.keyUp);\n  };\n\n  Render.prototype.keyUp = function (e) {\n    if (this.parent.editorMode === 'HTML') {\n      switch (e.args.which) {\n        case 46:\n        case 8:\n          // eslint-disable-next-line\n          var childNodes = this.parent.contentModule.getEditPanel().childNodes;\n\n          if (childNodes.length === 0 || childNodes.length === 1 && childNodes[0].childNodes.length === 0 && (childNodes[0].tagName === 'BR' || (childNodes[0].tagName === 'P' || childNodes[0].tagName === 'DIV') && childNodes[0].textContent === '')) {\n            var node = this.parent.contentModule.getEditPanel();\n\n            if (this.parent.enterKey === 'DIV') {\n              node.innerHTML = '<div><br/></div>';\n            } else if (this.parent.enterKey === 'BR') {\n              node.innerHTML = '<br/>';\n            } else {\n              node.innerHTML = '<p><br/></p>';\n            }\n\n            this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(), node.childNodes[0], 0);\n          }\n\n          break;\n      }\n    }\n  };\n\n  return Render;\n}();\n\nexport { Render };","map":{"version":3,"sources":["/Users/yasaman/Documents/moj_adminpanel/adminpanel/node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/render.js"],"names":["RenderType","events","Render","parent","locator","renderer","getService","addEventListener","prototype","render","rteObj","contentRenderer","getRenderer","Content","renderPanel","refresh","e","requestType","notify","destroy","removeEventListener","isDestroyed","on","modelChanged","keyUp","off","editorMode","args","which","childNodes","contentModule","getEditPanel","length","tagName","textContent","node","enterKey","innerHTML","formatter","editorManager","nodeSelection","setCursorPoint","getDocument"],"mappings":"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","sourcesContent":["import { RenderType } from '../base/enum';\nimport * as events from '../base/constant';\n/**\n * Content module is used to render Rich Text Editor content\n *\n * @hidden\n\n */\nvar Render = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     *\n     * @param {IRichTextEditor} parent - specifies the parent\n     * @param {ServiceLocator} locator - specifies the locator.\n     * @returns {void}\n     */\n    function Render(parent, locator) {\n        this.parent = parent;\n        this.locator = locator;\n        this.renderer = this.locator.getService('rendererFactory');\n        this.addEventListener();\n    }\n    /**\n     * To initialize Rich Text Editor header, content and footer rendering\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    Render.prototype.render = function () {\n        // eslint-disable-next-line\n        var rteObj = this.parent;\n        this.contentRenderer = this.renderer.getRenderer(RenderType.Content);\n        this.contentRenderer.renderPanel();\n    };\n    /**\n     * Refresh the entire RichTextEditor.\n     *\n     * @param {NotifyArgs} e - specifies the arguments.\n     * @returns {void}\n     */\n    Render.prototype.refresh = function (e) {\n        if (e === void 0) { e = { requestType: 'refresh' }; }\n        this.parent.notify(e.requestType + \"-begin\", e);\n    };\n    /**\n     * Destroy the entire RichTextEditor.\n     *\n     * @returns {void}\n     */\n    Render.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    Render.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.modelChanged, this.refresh, this);\n        this.parent.on(events.keyUp, this.keyUp, this);\n    };\n    Render.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.modelChanged, this.refresh);\n        this.parent.off(events.keyUp, this.keyUp);\n    };\n    Render.prototype.keyUp = function (e) {\n        if (this.parent.editorMode === 'HTML') {\n            switch (e.args.which) {\n                case 46:\n                case 8:\n                    // eslint-disable-next-line\n                    var childNodes = this.parent.contentModule.getEditPanel().childNodes;\n                    if ((childNodes.length === 0) ||\n                        (childNodes.length === 1 && childNodes[0].childNodes.length === 0 && ((childNodes[0].tagName === 'BR') ||\n                            ((childNodes[0].tagName === 'P' || childNodes[0].tagName === 'DIV') && childNodes[0].textContent === '')))) {\n                        var node = this.parent.contentModule.getEditPanel();\n                        if (this.parent.enterKey === 'DIV') {\n                            node.innerHTML = '<div><br/></div>';\n                        }\n                        else if (this.parent.enterKey === 'BR') {\n                            node.innerHTML = '<br/>';\n                        }\n                        else {\n                            node.innerHTML = '<p><br/></p>';\n                        }\n                        this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(), node.childNodes[0], 0);\n                    }\n                    break;\n            }\n        }\n    };\n    return Render;\n}());\nexport { Render };\n"]},"metadata":{},"sourceType":"module"}