{"ast":null,"code":"import { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * `Selection` module is used to handle RTE Selections.\n */\n\nvar NodeSelection =\n/** @class */\nfunction () {\n  function NodeSelection() {\n    this.startNodeName = [];\n    this.endNodeName = [];\n  }\n\n  NodeSelection.prototype.saveInstance = function (range, body) {\n    this.range = range.cloneRange();\n    this.rootNode = this.documentFromRange(range);\n    this.body = body;\n    this.startContainer = this.getNodeArray(range.startContainer, true);\n    this.endContainer = this.getNodeArray(range.endContainer, false);\n    this.startOffset = range.startOffset;\n    this.endOffset = range.endOffset;\n    this.html = this.body.innerHTML;\n    return this;\n  };\n\n  NodeSelection.prototype.documentFromRange = function (range) {\n    return 9 === range.startContainer.nodeType ? range.startContainer : range.startContainer.ownerDocument;\n  };\n\n  NodeSelection.prototype.getRange = function (docElement) {\n    var select = this.get(docElement);\n    var range = select && select.rangeCount > 0 ? select.getRangeAt(select.rangeCount - 1) : docElement.createRange();\n    return range.startContainer !== docElement || range.endContainer !== docElement || range.startOffset || range.endOffset || (range.setStart(docElement.body, 0), range.collapse(!0)), range;\n  };\n  /**\n   * get method\n   *\n   * @param {Document} docElement - specifies the get function\n   * @returns {void}\n   * @hidden\n    */\n\n\n  NodeSelection.prototype.get = function (docElement) {\n    return docElement.defaultView.getSelection();\n  };\n  /**\n   * save method\n   *\n   * @param {Range} range - range value.\n   * @param {Document} docElement - specifies the document.\n   * @returns {void}\n   * @hidden\n    */\n\n\n  NodeSelection.prototype.save = function (range, docElement) {\n    range = range ? range.cloneRange() : this.getRange(docElement);\n    return this.saveInstance(range, docElement.body);\n  };\n  /**\n   * getIndex method\n   *\n   * @param {Node} node - specifies the node value.\n   * @returns {void}\n   * @hidden\n    */\n\n\n  NodeSelection.prototype.getIndex = function (node) {\n    var index;\n    var num = 0;\n    node = !node.previousSibling && node.tagName === 'BR' ? node : node.previousSibling;\n\n    if (node) {\n      for (var type = node.nodeType; node; null) {\n        index = node.nodeType;\n        num++; //eslint-disable-next-line\n\n        type = index;\n        node = node.previousSibling;\n      }\n    }\n\n    return num;\n  };\n\n  NodeSelection.prototype.isChildNode = function (nodeCollection, parentNode) {\n    for (var index = 0; index < parentNode.childNodes.length; index++) {\n      if (nodeCollection.indexOf(parentNode.childNodes[index]) > -1) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  NodeSelection.prototype.getNode = function (startNode, endNode, nodeCollection) {\n    if (endNode === startNode && (startNode.nodeType === 3 || !startNode.firstChild || nodeCollection.indexOf(startNode.firstChild) !== -1 || this.isChildNode(nodeCollection, startNode))) {\n      return null;\n    }\n\n    if (nodeCollection.indexOf(startNode.firstChild) === -1 && startNode.firstChild && !this.isChildNode(nodeCollection, startNode)) {\n      return startNode.firstChild;\n    }\n\n    if (startNode.nextSibling) {\n      return startNode.nextSibling;\n    }\n\n    if (!startNode.parentNode) {\n      return null;\n    } else {\n      return startNode.parentNode;\n    }\n  };\n  /**\n   * getNodeCollection method\n   *\n   * @param {Range} range -specifies the range.\n   * @returns {void}\n   * @hidden\n    */\n\n\n  NodeSelection.prototype.getNodeCollection = function (range) {\n    var startNode = range.startContainer.childNodes[range.startOffset] || range.startContainer;\n    var endNode = range.endContainer.childNodes[range.endOffset > 0 ? range.endOffset - 1 : range.endOffset] || range.endContainer;\n\n    if ((startNode === endNode || startNode.nodeName === 'BR' && startNode === range.endContainer.childNodes[range.endOffset]) && startNode.childNodes.length === 0) {\n      return [startNode];\n    }\n\n    if (range.startOffset === range.endOffset && range.startOffset !== 0 && range.startContainer.nodeName === 'PRE') {\n      return [startNode.nodeName === 'BR' || startNode.nodeName === '#text' ? startNode : startNode.childNodes[0]];\n    }\n\n    var nodeCollection = [];\n\n    do {\n      if (nodeCollection.indexOf(startNode) === -1) {\n        nodeCollection.push(startNode);\n      }\n\n      startNode = this.getNode(startNode, endNode, nodeCollection);\n    } while (startNode);\n\n    return nodeCollection;\n  };\n  /**\n   * getParentNodeCollection method\n   *\n   * @param {Range} range - specifies the range value.\n   * @returns {void}\n   * @hidden\n    */\n\n\n  NodeSelection.prototype.getParentNodeCollection = function (range) {\n    return this.getParentNodes(this.getNodeCollection(range), range);\n  };\n  /**\n   * getParentNodes method\n   *\n   * @param {Node[]} nodeCollection - specifies the collection of nodes.\n   * @param {Range} range - specifies the range values.\n   * @returns {void}\n   * @hidden\n    */\n\n\n  NodeSelection.prototype.getParentNodes = function (nodeCollection, range) {\n    nodeCollection = nodeCollection.reverse();\n\n    for (var index = 0; index < nodeCollection.length; index++) {\n      if (nodeCollection.indexOf(nodeCollection[index].parentNode) !== -1 || nodeCollection[index].nodeType === 3 && range.startContainer !== range.endContainer && range.startContainer.parentNode !== range.endContainer.parentNode) {\n        nodeCollection.splice(index, 1);\n        index--;\n      } else if (nodeCollection[index].nodeType === 3) {\n        nodeCollection[index] = nodeCollection[index].parentNode;\n      }\n    }\n\n    return nodeCollection;\n  };\n  /**\n   * getSelectionNodeCollection method\n   *\n   * @param {Range} range - specifies the range value.\n   * @returns {void}\n   * @hidden\n    */\n\n\n  NodeSelection.prototype.getSelectionNodeCollection = function (range) {\n    return this.getSelectionNodes(this.getNodeCollection(range));\n  };\n  /**\n   * getSelectionNodeCollection along with BR node method\n   *\n   * @param {Range} range - specifies the range value.\n   * @returns {void}\n   * @hidden\n    */\n\n\n  NodeSelection.prototype.getSelectionNodeCollectionBr = function (range) {\n    return this.getSelectionNodesBr(this.getNodeCollection(range));\n  };\n  /**\n   * getParentNodes method\n   *\n   * @param {Node[]} nodeCollection - specifies the collection of nodes.\n   * @returns {void}\n   * @hidden\n    */\n\n\n  NodeSelection.prototype.getSelectionNodes = function (nodeCollection) {\n    nodeCollection = nodeCollection.reverse();\n    var regEx = new RegExp(String.fromCharCode(8203), 'g');\n\n    for (var index = 0; index < nodeCollection.length; index++) {\n      if (nodeCollection[index].nodeType !== 3 || nodeCollection[index].textContent.trim() === '' || nodeCollection[index].textContent.length === 1 && nodeCollection[index].textContent.match(regEx)) {\n        nodeCollection.splice(index, 1);\n        index--;\n      }\n    }\n\n    return nodeCollection.reverse();\n  };\n  /**\n   * Get selection text nodes with br method.\n   *\n   * @param {Node[]} nodeCollection - specifies the collection of nodes.\n   * @returns {void}\n   * @hidden\n    */\n\n\n  NodeSelection.prototype.getSelectionNodesBr = function (nodeCollection) {\n    nodeCollection = nodeCollection.reverse();\n    var regEx = new RegExp(String.fromCharCode(8203), 'g');\n\n    for (var index = 0; index < nodeCollection.length; index++) {\n      if (nodeCollection[index].nodeName !== 'BR' && (nodeCollection[index].nodeType !== 3 || nodeCollection[index].textContent.trim() === '' || nodeCollection[index].textContent.length === 1 && nodeCollection[index].textContent.match(regEx))) {\n        nodeCollection.splice(index, 1);\n        index--;\n      }\n    }\n\n    return nodeCollection.reverse();\n  };\n  /**\n   * getInsertNodeCollection method\n   *\n   * @param {Range} range - specifies the range value.\n   * @returns {void}\n   * @hidden\n    */\n\n\n  NodeSelection.prototype.getInsertNodeCollection = function (range) {\n    return this.getInsertNodes(this.getNodeCollection(range));\n  };\n  /**\n   * getInsertNodes method\n   *\n   * @param {Node[]} nodeCollection - specifies the collection of nodes.\n   * @returns {void}\n   * @hidden\n    */\n\n\n  NodeSelection.prototype.getInsertNodes = function (nodeCollection) {\n    nodeCollection = nodeCollection.reverse();\n\n    for (var index = 0; index < nodeCollection.length; index++) {\n      if (nodeCollection[index].childNodes.length !== 0 && nodeCollection[index].nodeType !== 3 || nodeCollection[index].nodeType === 3 && nodeCollection[index].textContent === '') {\n        nodeCollection.splice(index, 1);\n        index--;\n      }\n    }\n\n    return nodeCollection.reverse();\n  };\n  /**\n   * getNodeArray method\n   *\n   * @param {Node} node - specifies the node content.\n   * @param {boolean} isStart - specifies the boolean value.\n   * @param {Document} root - specifies the root document.\n   * @returns {void}\n   * @hidden\n    */\n\n\n  NodeSelection.prototype.getNodeArray = function (node, isStart, root) {\n    var array = []; // eslint-disable-next-line\n\n    isStart ? this.startNodeName = [] : this.endNodeName = [];\n\n    for (; node !== (root ? root : this.rootNode); null) {\n      if (isNullOrUndefined(node)) {\n        break;\n      } // eslint-disable-next-line\n\n\n      isStart ? this.startNodeName.push(node.nodeName.toLowerCase()) : this.endNodeName.push(node.nodeName.toLowerCase());\n      array.push(this.getIndex(node));\n      node = node.parentNode;\n    }\n\n    return array;\n  };\n\n  NodeSelection.prototype.setRangePoint = function (range, isvalid, num, size) {\n    var node = this.rootNode;\n    var index = num.length;\n    var constant = size;\n\n    for (; index--; null) {\n      node = node && node.childNodes[num[index]];\n    }\n\n    if (node && constant >= 0 && node.nodeName !== 'html') {\n      range[isvalid ? 'setStart' : 'setEnd'](node, constant);\n    }\n\n    return range;\n  };\n  /**\n   * restore method\n   *\n   * @returns {void}\n   * @hidden\n    */\n\n\n  NodeSelection.prototype.restore = function () {\n    var range = this.range.cloneRange();\n    range = this.setRangePoint(range, true, this.startContainer, this.startOffset);\n    range = this.setRangePoint(range, false, this.endContainer, this.endOffset);\n    this.selectRange(this.rootNode, range);\n    return range;\n  };\n\n  NodeSelection.prototype.selectRange = function (docElement, range) {\n    this.setRange(docElement, range);\n    this.save(range, docElement);\n  };\n  /**\n   * setRange method\n   *\n   * @param {Document} docElement - specifies the document.\n   * @param {Range} range - specifies the range.\n   * @returns {void}\n   * @hidden\n    */\n\n\n  NodeSelection.prototype.setRange = function (docElement, range) {\n    var selection = this.get(docElement);\n    selection.removeAllRanges();\n    selection.addRange(range);\n  };\n  /**\n   * setSelectionText method\n   *\n   * @param {Document} docElement - specifies the documrent\n   * @param {Node} startNode - specifies the starting node.\n   * @param {Node} endNode - specifies the the end node.\n   * @param {number} startIndex - specifies the starting index.\n   * @param {number} endIndex - specifies the end index.\n   * @returns {void}\n   * @hidden\n    */\n\n\n  NodeSelection.prototype.setSelectionText = function (docElement, startNode, endNode, startIndex, endIndex) {\n    var range = docElement.createRange();\n    range.setStart(startNode, startIndex);\n    range.setEnd(endNode, endIndex);\n    this.setRange(docElement, range);\n  };\n  /**\n   * setSelectionContents method\n   *\n   * @param {Document} docElement - specifies the document.\n   * @param {Node} element - specifies the node.\n   * @returns {void}\n   * @hidden\n    */\n\n\n  NodeSelection.prototype.setSelectionContents = function (docElement, element) {\n    var range = docElement.createRange();\n    range.selectNode(element);\n    this.setRange(docElement, range);\n  };\n  /**\n   * setSelectionNode method\n   *\n   * @param {Document} docElement - specifies the document.\n   * @param {Node} element - specifies the node.\n   * @returns {void}\n   * @hidden\n    */\n\n\n  NodeSelection.prototype.setSelectionNode = function (docElement, element) {\n    var range = docElement.createRange();\n    range.selectNodeContents(element);\n    this.setRange(docElement, range);\n  };\n  /**\n   * getSelectedNodes method\n   *\n   * @param {Document} docElement - specifies the document.\n   * @returns {void}\n   * @hidden\n    */\n\n\n  NodeSelection.prototype.getSelectedNodes = function (docElement) {\n    return this.getNodeCollection(this.getRange(docElement));\n  };\n  /**\n   * Clear method\n   *\n   * @param {Document} docElement - specifies the document.\n   * @returns {void}\n   * @hidden\n    */\n\n\n  NodeSelection.prototype.Clear = function (docElement) {\n    this.get(docElement).removeAllRanges();\n  };\n  /**\n   * insertParentNode method\n   *\n   * @param {Document} docElement - specifies the document.\n   * @param {Node} newNode - specicfies the new node.\n   * @param {Range} range - specifies the range.\n   * @returns {void}\n   * @hidden\n    */\n\n\n  NodeSelection.prototype.insertParentNode = function (docElement, newNode, range) {\n    range.surroundContents(newNode);\n    this.selectRange(docElement, range);\n  };\n  /**\n   * setCursorPoint method\n   *\n   * @param {Document} docElement - specifies the document.\n   * @param {Element} element - specifies the element.\n   * @param {number} point - specifies the point.\n   * @returns {void}\n   * @hidden\n    */\n\n\n  NodeSelection.prototype.setCursorPoint = function (docElement, element, point) {\n    var range = docElement.createRange();\n    var selection = docElement.defaultView.getSelection();\n    range.setStart(element, point);\n    range.collapse(true);\n    selection.removeAllRanges();\n    selection.addRange(range);\n  };\n\n  return NodeSelection;\n}();\n\nexport { NodeSelection };","map":{"version":3,"sources":["/Users/yasaman/Documents/moj_adminpanel/adminpanel/node_modules/@syncfusion/ej2-richtexteditor/src/selection/selection.js"],"names":["isNullOrUndefined","NodeSelection","startNodeName","endNodeName","prototype","saveInstance","range","body","cloneRange","rootNode","documentFromRange","startContainer","getNodeArray","endContainer","startOffset","endOffset","html","innerHTML","nodeType","ownerDocument","getRange","docElement","select","get","rangeCount","getRangeAt","createRange","setStart","collapse","defaultView","getSelection","save","getIndex","node","index","num","previousSibling","tagName","type","isChildNode","nodeCollection","parentNode","childNodes","length","indexOf","getNode","startNode","endNode","firstChild","nextSibling","getNodeCollection","nodeName","push","getParentNodeCollection","getParentNodes","reverse","splice","getSelectionNodeCollection","getSelectionNodes","getSelectionNodeCollectionBr","getSelectionNodesBr","regEx","RegExp","String","fromCharCode","textContent","trim","match","getInsertNodeCollection","getInsertNodes","isStart","root","array","toLowerCase","setRangePoint","isvalid","size","constant","restore","selectRange","setRange","selection","removeAllRanges","addRange","setSelectionText","startIndex","endIndex","setEnd","setSelectionContents","element","selectNode","setSelectionNode","selectNodeContents","getSelectedNodes","Clear","insertParentNode","newNode","surroundContents","setCursorPoint","point"],"mappings":"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","sourcesContent":["import { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * `Selection` module is used to handle RTE Selections.\n */\nvar NodeSelection = /** @class */ (function () {\n    function NodeSelection() {\n        this.startNodeName = [];\n        this.endNodeName = [];\n    }\n    NodeSelection.prototype.saveInstance = function (range, body) {\n        this.range = range.cloneRange();\n        this.rootNode = this.documentFromRange(range);\n        this.body = body;\n        this.startContainer = this.getNodeArray(range.startContainer, true);\n        this.endContainer = this.getNodeArray(range.endContainer, false);\n        this.startOffset = range.startOffset;\n        this.endOffset = range.endOffset;\n        this.html = this.body.innerHTML;\n        return this;\n    };\n    NodeSelection.prototype.documentFromRange = function (range) {\n        return (9 === range.startContainer.nodeType) ? range.startContainer : range.startContainer.ownerDocument;\n    };\n    NodeSelection.prototype.getRange = function (docElement) {\n        var select = this.get(docElement);\n        var range = select && select.rangeCount > 0 ? select.getRangeAt(select.rangeCount - 1) : docElement.createRange();\n        return (range.startContainer !== docElement || range.endContainer !== docElement\n            || range.startOffset || range.endOffset || (range.setStart(docElement.body, 0),\n            range.collapse(!0)),\n            range);\n    };\n    /**\n     * get method\n     *\n     * @param {Document} docElement - specifies the get function\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.get = function (docElement) {\n        return docElement.defaultView.getSelection();\n    };\n    /**\n     * save method\n     *\n     * @param {Range} range - range value.\n     * @param {Document} docElement - specifies the document.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.save = function (range, docElement) {\n        range = (range) ? range.cloneRange() : this.getRange(docElement);\n        return this.saveInstance(range, docElement.body);\n    };\n    /**\n     * getIndex method\n     *\n     * @param {Node} node - specifies the node value.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getIndex = function (node) {\n        var index;\n        var num = 0;\n        node = !node.previousSibling && node.tagName === 'BR' ? node : node.previousSibling;\n        if (node) {\n            for (var type = node.nodeType; node; null) {\n                index = node.nodeType;\n                num++;\n                //eslint-disable-next-line\n                type = index;\n                node = node.previousSibling;\n            }\n        }\n        return num;\n    };\n    NodeSelection.prototype.isChildNode = function (nodeCollection, parentNode) {\n        for (var index = 0; index < parentNode.childNodes.length; index++) {\n            if (nodeCollection.indexOf(parentNode.childNodes[index]) > -1) {\n                return true;\n            }\n        }\n        return false;\n    };\n    NodeSelection.prototype.getNode = function (startNode, endNode, nodeCollection) {\n        if (endNode === startNode &&\n            (startNode.nodeType === 3 || !startNode.firstChild || nodeCollection.indexOf(startNode.firstChild) !== -1\n                || this.isChildNode(nodeCollection, startNode))) {\n            return null;\n        }\n        if (nodeCollection.indexOf(startNode.firstChild) === -1 && startNode.firstChild && !this.isChildNode(nodeCollection, startNode)) {\n            return startNode.firstChild;\n        }\n        if (startNode.nextSibling) {\n            return startNode.nextSibling;\n        }\n        if (!startNode.parentNode) {\n            return null;\n        }\n        else {\n            return startNode.parentNode;\n        }\n    };\n    /**\n     * getNodeCollection method\n     *\n     * @param {Range} range -specifies the range.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getNodeCollection = function (range) {\n        var startNode = range.startContainer.childNodes[range.startOffset]\n            || range.startContainer;\n        var endNode = range.endContainer.childNodes[(range.endOffset > 0) ? (range.endOffset - 1) : range.endOffset]\n            || range.endContainer;\n        if ((startNode === endNode || (startNode.nodeName === 'BR' && startNode === range.endContainer.childNodes[range.endOffset])) &&\n            startNode.childNodes.length === 0) {\n            return [startNode];\n        }\n        if (range.startOffset === range.endOffset && range.startOffset !== 0 && range.startContainer.nodeName === 'PRE') {\n            return [startNode.nodeName === 'BR' || startNode.nodeName === '#text' ? startNode : startNode.childNodes[0]];\n        }\n        var nodeCollection = [];\n        do {\n            if (nodeCollection.indexOf(startNode) === -1) {\n                nodeCollection.push(startNode);\n            }\n            startNode = this.getNode(startNode, endNode, nodeCollection);\n        } while (startNode);\n        return nodeCollection;\n    };\n    /**\n     * getParentNodeCollection method\n     *\n     * @param {Range} range - specifies the range value.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getParentNodeCollection = function (range) {\n        return this.getParentNodes(this.getNodeCollection(range), range);\n    };\n    /**\n     * getParentNodes method\n     *\n     * @param {Node[]} nodeCollection - specifies the collection of nodes.\n     * @param {Range} range - specifies the range values.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getParentNodes = function (nodeCollection, range) {\n        nodeCollection = nodeCollection.reverse();\n        for (var index = 0; index < nodeCollection.length; index++) {\n            if ((nodeCollection.indexOf(nodeCollection[index].parentNode) !== -1)\n                || (nodeCollection[index].nodeType === 3 &&\n                    range.startContainer !== range.endContainer &&\n                    range.startContainer.parentNode !== range.endContainer.parentNode)) {\n                nodeCollection.splice(index, 1);\n                index--;\n            }\n            else if (nodeCollection[index].nodeType === 3) {\n                nodeCollection[index] = nodeCollection[index].parentNode;\n            }\n        }\n        return nodeCollection;\n    };\n    /**\n     * getSelectionNodeCollection method\n     *\n     * @param {Range} range - specifies the range value.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getSelectionNodeCollection = function (range) {\n        return this.getSelectionNodes(this.getNodeCollection(range));\n    };\n    /**\n     * getSelectionNodeCollection along with BR node method\n     *\n     * @param {Range} range - specifies the range value.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getSelectionNodeCollectionBr = function (range) {\n        return this.getSelectionNodesBr(this.getNodeCollection(range));\n    };\n    /**\n     * getParentNodes method\n     *\n     * @param {Node[]} nodeCollection - specifies the collection of nodes.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getSelectionNodes = function (nodeCollection) {\n        nodeCollection = nodeCollection.reverse();\n        var regEx = new RegExp(String.fromCharCode(8203), 'g');\n        for (var index = 0; index < nodeCollection.length; index++) {\n            if (nodeCollection[index].nodeType !== 3 || (nodeCollection[index].textContent.trim() === '' ||\n                (nodeCollection[index].textContent.length === 1 && nodeCollection[index].textContent.match(regEx)))) {\n                nodeCollection.splice(index, 1);\n                index--;\n            }\n        }\n        return nodeCollection.reverse();\n    };\n    /**\n     * Get selection text nodes with br method.\n     *\n     * @param {Node[]} nodeCollection - specifies the collection of nodes.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getSelectionNodesBr = function (nodeCollection) {\n        nodeCollection = nodeCollection.reverse();\n        var regEx = new RegExp(String.fromCharCode(8203), 'g');\n        for (var index = 0; index < nodeCollection.length; index++) {\n            if (nodeCollection[index].nodeName !== 'BR' &&\n                (nodeCollection[index].nodeType !== 3 || (nodeCollection[index].textContent.trim() === '' ||\n                    (nodeCollection[index].textContent.length === 1 && nodeCollection[index].textContent.match(regEx))))) {\n                nodeCollection.splice(index, 1);\n                index--;\n            }\n        }\n        return nodeCollection.reverse();\n    };\n    /**\n     * getInsertNodeCollection method\n     *\n     * @param {Range} range - specifies the range value.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getInsertNodeCollection = function (range) {\n        return this.getInsertNodes(this.getNodeCollection(range));\n    };\n    /**\n     * getInsertNodes method\n     *\n     * @param {Node[]} nodeCollection - specifies the collection of nodes.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getInsertNodes = function (nodeCollection) {\n        nodeCollection = nodeCollection.reverse();\n        for (var index = 0; index < nodeCollection.length; index++) {\n            if ((nodeCollection[index].childNodes.length !== 0 &&\n                nodeCollection[index].nodeType !== 3) ||\n                (nodeCollection[index].nodeType === 3 &&\n                    nodeCollection[index].textContent === '')) {\n                nodeCollection.splice(index, 1);\n                index--;\n            }\n        }\n        return nodeCollection.reverse();\n    };\n    /**\n     * getNodeArray method\n     *\n     * @param {Node} node - specifies the node content.\n     * @param {boolean} isStart - specifies the boolean value.\n     * @param {Document} root - specifies the root document.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getNodeArray = function (node, isStart, root) {\n        var array = [];\n        // eslint-disable-next-line\n        ((isStart) ? (this.startNodeName = []) : (this.endNodeName = []));\n        for (; node !== (root ? root : this.rootNode); null) {\n            if (isNullOrUndefined(node)) {\n                break;\n            }\n            // eslint-disable-next-line\n            (isStart) ? this.startNodeName.push(node.nodeName.toLowerCase()) : this.endNodeName.push(node.nodeName.toLowerCase());\n            array.push(this.getIndex(node));\n            node = node.parentNode;\n        }\n        return array;\n    };\n    NodeSelection.prototype.setRangePoint = function (range, isvalid, num, size) {\n        var node = this.rootNode;\n        var index = num.length;\n        var constant = size;\n        for (; index--; null) {\n            node = node && node.childNodes[num[index]];\n        }\n        if (node && constant >= 0 && node.nodeName !== 'html') {\n            range[isvalid ? 'setStart' : 'setEnd'](node, constant);\n        }\n        return range;\n    };\n    /**\n     * restore method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.restore = function () {\n        var range = this.range.cloneRange();\n        range = this.setRangePoint(range, true, this.startContainer, this.startOffset);\n        range = this.setRangePoint(range, false, this.endContainer, this.endOffset);\n        this.selectRange(this.rootNode, range);\n        return range;\n    };\n    NodeSelection.prototype.selectRange = function (docElement, range) {\n        this.setRange(docElement, range);\n        this.save(range, docElement);\n    };\n    /**\n     * setRange method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @param {Range} range - specifies the range.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.setRange = function (docElement, range) {\n        var selection = this.get(docElement);\n        selection.removeAllRanges();\n        selection.addRange(range);\n    };\n    /**\n     * setSelectionText method\n     *\n     * @param {Document} docElement - specifies the documrent\n     * @param {Node} startNode - specifies the starting node.\n     * @param {Node} endNode - specifies the the end node.\n     * @param {number} startIndex - specifies the starting index.\n     * @param {number} endIndex - specifies the end index.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.setSelectionText = function (docElement, startNode, endNode, startIndex, endIndex) {\n        var range = docElement.createRange();\n        range.setStart(startNode, startIndex);\n        range.setEnd(endNode, endIndex);\n        this.setRange(docElement, range);\n    };\n    /**\n     * setSelectionContents method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @param {Node} element - specifies the node.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.setSelectionContents = function (docElement, element) {\n        var range = docElement.createRange();\n        range.selectNode(element);\n        this.setRange(docElement, range);\n    };\n    /**\n     * setSelectionNode method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @param {Node} element - specifies the node.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.setSelectionNode = function (docElement, element) {\n        var range = docElement.createRange();\n        range.selectNodeContents(element);\n        this.setRange(docElement, range);\n    };\n    /**\n     * getSelectedNodes method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.getSelectedNodes = function (docElement) {\n        return this.getNodeCollection(this.getRange(docElement));\n    };\n    /**\n     * Clear method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.Clear = function (docElement) {\n        this.get(docElement).removeAllRanges();\n    };\n    /**\n     * insertParentNode method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @param {Node} newNode - specicfies the new node.\n     * @param {Range} range - specifies the range.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.insertParentNode = function (docElement, newNode, range) {\n        range.surroundContents(newNode);\n        this.selectRange(docElement, range);\n    };\n    /**\n     * setCursorPoint method\n     *\n     * @param {Document} docElement - specifies the document.\n     * @param {Element} element - specifies the element.\n     * @param {number} point - specifies the point.\n     * @returns {void}\n     * @hidden\n\n     */\n    NodeSelection.prototype.setCursorPoint = function (docElement, element, point) {\n        var range = docElement.createRange();\n        var selection = docElement.defaultView.getSelection();\n        range.setStart(element, point);\n        range.collapse(true);\n        selection.removeAllRanges();\n        selection.addRange(range);\n    };\n    return NodeSelection;\n}());\nexport { NodeSelection };\n"]},"metadata":{},"sourceType":"module"}