{"ast":null,"code":"var _jsxFileName = \"/Users/yasaman/Documents/moj_adminpanel/adminpanel/src/components/login/index.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport \"./style.css\";\nimport { Field, Formik, Form } from \"formik\";\nimport axios from \"axios\";\nimport { Button, CircularProgress } from \"@material-ui/core\";\nimport { AUTH_REFRESH, AUTH_LOGIN } from \"../../utils/constants\"; // import { useFetchApi } from '../../utils/hooks';\n\nimport { RefreshToken, removeToken, setToken } from '../../utils/utils';\nimport { useHistory } from 'react-router-dom';\nimport { UserContext } from '../../context/provider';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Login(props) {\n  _s();\n\n  const contextData = React.useContext(UserContext);\n  const history = useHistory();\n  const [loginLoading, setLoginLoading] = React.useState(false);\n  const [refreshLoading, setRefreshLoading] = React.useState(true);\n  const [hasError, setHasError] = React.useState('');\n\n  const setUserToken = values => {\n    setToken(values);\n    contextData.setIsLoggedIn(true);\n    setTimeout(() => history.push('/users'), 1000);\n  };\n\n  const checkUserRefreshToken = refreshToken => {\n    let payload = {\n      token: refreshToken\n    };\n    axios.post(AUTH_REFRESH, payload).then(res => res.data).then(result => {\n      if (result.status_code === 200) {\n        setUserToken(result.result);\n      }\n    }).catch(err => {\n      console.log(err);\n      setRefreshLoading(false);\n      removeToken();\n      contextData.setIsLoggedIn(false);\n    });\n  };\n\n  React.useEffect(() => {\n    let refreshToken = RefreshToken();\n\n    if (refreshToken) {\n      checkUserRefreshToken(refreshToken);\n    } else {\n      setRefreshLoading(false);\n    }\n  }, []);\n\n  const handleSubmit = values => {\n    setHasError('');\n    let payload = { ...values,\n      user_agent: window.navigator.userAgent,\n      client_host: \"local\"\n    };\n    setLoginLoading(true);\n    axios.post(AUTH_LOGIN, payload).then(res => res.data).then(result => {\n      if (result.status_code === 200) {\n        setUserToken(result.result);\n        setLoginLoading(false);\n      }\n    }).catch(err => {\n      var _err$response, _err$response$data;\n\n      setLoginLoading(false);\n\n      if ((err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.code) === 404) {\n        setHasError('کاربری با این مشخصات پیدا نشد');\n      } else {\n        setHasError('خطایی رخ داده است');\n      }\n\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center mt-5 pt-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 text-center text-success mt-5 \",\n          children: \"COMPANY LOGO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center mt-1 py-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 text-center login-card p-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"login-header text-bold text-right\",\n            children: \"\\u0648\\u0631\\u0648\\u062F \\u0628\\u0647 \\u067E\\u0646\\u0644 \\u0627\\u062F\\u0645\\u06CC\\u0646\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pt-3 pb-5 mx-auto\",\n            children: refreshLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex my-5 py-4 flex-column justify-content-between align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"mt-4 text-white\",\n                children: \"...\\u062F\\u0631 \\u062D\\u0627\\u0644 \\u0627\\u0639\\u062A\\u0628\\u0627\\u0631 \\u0633\\u0646\\u062C\\u06CC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 37\n            }, this) : /*#__PURE__*/_jsxDEV(Formik, {\n              initialValues: {\n                input: '',\n                password: ''\n              },\n              enableReinitialize: true // validate={this.validate}\n              ,\n              onSubmit: handleSubmit,\n              children: /*#__PURE__*/_jsxDEV(Form, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-bold font-gray-color px-5\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-3 d-flex flex-column\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"text-end text-white\",\n                      htmlFor: \"input\",\n                      children: \"\\u0646\\u0627\\u0645 \\u06A9\\u0627\\u0631\\u0628\\u0631\\u06CC\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 223,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(Field, {\n                      type: \"text\",\n                      name: \"input\",\n                      placeholder: \"\",\n                      required: true,\n                      className: \"form-control bg_input input_text\",\n                      style: {\n                        borderRadius: \"15px\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 225,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-3 mb-2 d-flex flex-column\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"text-end text-white\",\n                      htmlFor: \"password\",\n                      children: \"\\u0631\\u0645\\u0632\\u0639\\u0628\\u0648\\u0631\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 245,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(Field, {\n                      type: \"password\",\n                      name: \"password\",\n                      required: true,\n                      placeholder: \"\",\n                      className: \"form-control bg_input input_text\",\n                      style: {\n                        borderRadius: \"15px\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 247,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 49\n                  }, this), Boolean(hasError) && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-danger\",\n                    children: hasError\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 71\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-4 pt-3\",\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      disabled: loginLoading,\n                      variant: \"contained\",\n                      type: \"submit\",\n                      fullWidth: true,\n                      style: {\n                        borderRadius: \"15px\"\n                      },\n                      color: \"primary\",\n                      children: [\"\\u0648\\u0631\\u0648\\u062F\", loginLoading && /*#__PURE__*/_jsxDEV(CircularProgress, {\n                        size: 24,\n                        className: \"position-absolute\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 273,\n                        columnNumber: 74\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 269,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-100\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"back-ground-pic\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Login, \"2NZZb0eP4rJ0Nu8u+oeOy2gdPCQ=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/yasaman/Documents/moj_adminpanel/adminpanel/src/components/login/index.js"],"names":["React","Field","Formik","Form","axios","Button","CircularProgress","AUTH_REFRESH","AUTH_LOGIN","RefreshToken","removeToken","setToken","useHistory","UserContext","Login","props","contextData","useContext","history","loginLoading","setLoginLoading","useState","refreshLoading","setRefreshLoading","hasError","setHasError","setUserToken","values","setIsLoggedIn","setTimeout","push","checkUserRefreshToken","refreshToken","payload","token","post","then","res","data","result","status_code","catch","err","console","log","useEffect","handleSubmit","user_agent","window","navigator","userAgent","client_host","response","code","input","password","borderRadius","Boolean"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport \"./style.css\";\n\nimport { Field, Formik, Form } from \"formik\";\n\nimport axios from \"axios\";\n\nimport { Button, CircularProgress } from \"@material-ui/core\";\n\nimport { AUTH_REFRESH, AUTH_LOGIN } from \"../../utils/constants\";\n\n// import { useFetchApi } from '../../utils/hooks';\n\nimport { RefreshToken, removeToken, setToken } from '../../utils/utils';\n\nimport { useHistory } from 'react-router-dom';\n\nimport { UserContext } from '../../context/provider';\n\n\n\n\n\nfunction Login(props) {\n\n\n\n    const contextData = React.useContext(UserContext);\n\n\n\n    const history = useHistory();\n\n\n\n    const [loginLoading, setLoginLoading] = React.useState(false);\n\n    const [refreshLoading, setRefreshLoading] = React.useState(true);\n\n    const [hasError, setHasError] = React.useState('')\n\n\n\n    const setUserToken = (values) => {\n\n        setToken(values)\n\n        contextData.setIsLoggedIn(true)\n\n        setTimeout(() => history.push('/users'), 1000)\n\n    }\n\n\n\n    const checkUserRefreshToken = (refreshToken) => {\n\n        let payload = { token: refreshToken }\n\n        axios.post(AUTH_REFRESH, payload)\n\n            .then(res => res.data)\n\n            .then(result => {\n\n                if (result.status_code === 200) {\n\n                    setUserToken(result.result)\n\n                }\n\n            })\n\n            .catch(err => {\n\n                console.log(err)\n\n                setRefreshLoading(false)\n\n                removeToken()\n\n                contextData.setIsLoggedIn(false)\n\n            })\n\n    }\n\n\n\n    React.useEffect(() => {\n\n        let refreshToken = RefreshToken();\n\n        if (refreshToken) {\n\n            checkUserRefreshToken(refreshToken)\n\n        } else {\n\n            setRefreshLoading(false)\n\n        }\n\n    }, [])\n\n\n\n    const handleSubmit = (values) => {\n\n        setHasError('')\n\n        let payload = {\n\n            ...values,\n\n            user_agent: window.navigator.userAgent,\n\n            client_host: \"local\"\n\n        }\n\n        setLoginLoading(true)\n\n        axios.post(AUTH_LOGIN, payload)\n\n            .then(res => res.data)\n\n            .then(result => {\n\n                if (result.status_code === 200) {\n\n                    setUserToken(result.result)\n\n                    setLoginLoading(false)\n\n                }\n\n            })\n\n            .catch(err => {\n\n                setLoginLoading(false)\n\n                if (err?.response?.data?.code === 404) {\n\n                    setHasError('کاربری با این مشخصات پیدا نشد')\n\n                } else {\n\n                    setHasError('خطایی رخ داده است')\n\n                }\n\n                console.log(err)\n\n            })\n\n    }\n\n\n\n    return (\n\n        <>\n\n            <div className=\"container-fluid\">\n\n                <div className=\"row justify-content-center mt-5 pt-5\">\n\n                    <div className=\"col-md-6 text-center text-success mt-5 \">\n\n                        COMPANY LOGO\n\n                    </div>\n\n                </div>\n\n                <div className=\"row justify-content-center mt-1 py-5\">\n\n                    <div className=\"col-md-6 text-center login-card p-0\">\n\n                        <div className=\"login-header text-bold text-right\">\n\n                            ورود به پنل ادمین\n\n                        </div>\n\n                        <div className=\"pt-3 pb-5 mx-auto\">\n\n                            {\n\n                                refreshLoading ? (\n\n                                    <div className=\"d-flex my-5 py-4 flex-column justify-content-between align-items-center\" >\n\n                                        <CircularProgress />\n\n                                        <span className=\"mt-4 text-white\">...در حال اعتبار سنجی</span>\n\n                                    </div>\n\n                                ) : (\n\n                                    <Formik\n\n                                        initialValues={{ input: '', password: '' }}\n\n                                        enableReinitialize={true}\n\n                                        // validate={this.validate}\n\n                                        onSubmit={handleSubmit}\n\n                                    >\n\n                                        <Form>\n\n                                            <div className=\"text-bold font-gray-color px-5\">\n\n                                                <div className=\"mt-3 d-flex flex-column\">\n\n                                                    <label className=\"text-end text-white\" htmlFor=\"input\">نام کاربری</label>\n\n                                                    <Field\n\n                                                        type=\"text\"\n\n                                                        name=\"input\"\n\n                                                        placeholder=\"\"\n\n                                                        required\n\n                                                        className=\"form-control bg_input input_text\"\n\n                                                        style={{ borderRadius: \"15px\" }}\n\n                                                    />\n\n                                                </div>\n\n                                                <div className=\"mt-3 mb-2 d-flex flex-column\">\n\n                                                    <label className=\"text-end text-white\" htmlFor=\"password\">رمزعبور</label>\n\n                                                    <Field\n\n                                                        type=\"password\"\n\n                                                        name=\"password\"\n\n                                                        required\n\n                                                        placeholder=\"\"\n\n                                                        className=\"form-control bg_input input_text\"\n\n                                                        style={{ borderRadius: \"15px\" }}\n\n                                                    />\n\n                                                </div>\n\n                                                {Boolean(hasError) && <p className=\"text-danger\">{hasError}</p>}\n\n                                                <div className=\"mt-4 pt-3\">\n\n                                                    <Button disabled={loginLoading} variant=\"contained\" type=\"submit\" fullWidth style={{ borderRadius: \"15px\" }} color=\"primary\" >\n\n                                                        ورود\n\n                                                        {loginLoading && <CircularProgress size={24} className=\"position-absolute\" />}\n\n                                                    </Button>\n\n                                                </div>\n\n                                            </div>\n\n                                        </Form>\n\n                                    </Formik>\n\n                                )\n\n                            }\n\n                        </div>\n\n                    </div>\n\n                </div>\n\n            </div>\n\n            <div className=\"w-100\">\n\n                <div className=\"back-ground-pic\" ></div>\n\n            </div>\n\n        </>\n\n    )\n\n}\n\n\n\nexport default Login\n\n"]},"metadata":{},"sourceType":"module"}