{"ast":null,"code":"import { isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { ServiceLocator } from '../services/service-locator';\nimport { RendererFactory } from '../services/renderer-factory';\n/**\n * `ToolbarAction` module is used to toolbar click action\n */\n\nvar ToolbarAction =\n/** @class */\nfunction () {\n  function ToolbarAction(parent) {\n    this.parent = parent;\n    this.addEventListener();\n    this.serviceLocator = new ServiceLocator();\n    this.serviceLocator.register('rendererFactory', new RendererFactory());\n  }\n\n  ToolbarAction.prototype.addEventListener = function () {\n    this.parent.on(events.toolbarClick, this.toolbarClick, this);\n    this.parent.on(events.dropDownSelect, this.dropDownSelect, this);\n    this.parent.on(events.colorPickerChanged, this.renderSelection, this);\n    this.parent.on(events.destroy, this.removeEventListener, this);\n  };\n\n  ToolbarAction.prototype.toolbarClick = function (args) {\n    if (isNOU(args.item)) {\n      return;\n    }\n\n    if (!isNOU(args.item.controlParent)) {\n      // eslint-disable-next-line\n      var activeEle = args.item.controlParent.activeEle;\n\n      if (activeEle) {\n        activeEle.tabIndex = -1;\n      }\n    }\n\n    if (args.item.command === 'NumberFormatList' || args.item.command === 'BulletFormatList') {\n      if (args.originalEvent.target.classList.contains('e-order-list') || args.originalEvent.target.classList.contains('e-unorder-list')) {\n        args.item.command = 'Lists';\n        args.item.subCommand = args.item.subCommand === 'NumberFormatList' ? 'OL' : 'UL';\n      }\n    }\n\n    if (args.item.command === 'Lists') {\n      if (args.originalEvent.target.classList.contains('e-caret') && (args.originalEvent.target.parentElement.classList.contains('e-rte-bulletformatlist-dropdown') || args.originalEvent.target.parentElement.classList.contains('e-rte-numberformatlist-dropdown'))) {\n        args.item.command = args.item.subCommand = null;\n      }\n    }\n\n    this.parent.notify(events.htmlToolbarClick, args);\n    this.parent.notify(events.markdownToolbarClick, args);\n  };\n\n  ToolbarAction.prototype.dropDownSelect = function (e) {\n    this.parent.notify(events.selectionRestore, {});\n\n    if (!(document.body.contains(document.body.querySelector('.e-rte-quick-toolbar')) && e.item && (e.item.command === 'Images' || e.item.command === 'Display' || e.item.command === 'Table'))) {\n      var value = e.item.controlParent && this.parent.quickToolbarModule && this.parent.quickToolbarModule.tableQTBar && this.parent.quickToolbarModule.tableQTBar.element.contains(e.item.controlParent.element) ? 'Table' : null;\n\n      if (e.item.command === 'Lists') {\n        var listItem = {\n          listStyle: e.item.value,\n          listImage: e.item.listImage,\n          type: e.item.subCommand\n        };\n        this.parent.formatter.process(this.parent, e, e.originalEvent, listItem);\n      } else {\n        this.parent.formatter.process(this.parent, e, e.originalEvent, value);\n      }\n    }\n\n    this.parent.notify(events.selectionSave, {});\n  };\n\n  ToolbarAction.prototype.renderSelection = function (args) {\n    this.parent.notify(events.selectionRestore, {});\n    this.parent.formatter.process(this.parent, args, args.originalEvent, null);\n    this.parent.notify(events.selectionSave, {});\n  };\n\n  ToolbarAction.prototype.removeEventListener = function () {\n    this.parent.off(events.toolbarClick, this.toolbarClick);\n    this.parent.off(events.dropDownSelect, this.dropDownSelect);\n    this.parent.off(events.colorPickerChanged, this.renderSelection);\n    this.parent.off(events.destroy, this.removeEventListener);\n  };\n\n  return ToolbarAction;\n}();\n\nexport { ToolbarAction };","map":{"version":3,"sources":["/Users/yasaman/Documents/moj_adminpanel/adminpanel/node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/toolbar-action.js"],"names":["isNullOrUndefined","isNOU","events","ServiceLocator","RendererFactory","ToolbarAction","parent","addEventListener","serviceLocator","register","prototype","on","toolbarClick","dropDownSelect","colorPickerChanged","renderSelection","destroy","removeEventListener","args","item","controlParent","activeEle","tabIndex","command","originalEvent","target","classList","contains","subCommand","parentElement","notify","htmlToolbarClick","markdownToolbarClick","e","selectionRestore","document","body","querySelector","value","quickToolbarModule","tableQTBar","element","listItem","listStyle","listImage","type","formatter","process","selectionSave","off"],"mappings":"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","sourcesContent":["import { isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { ServiceLocator } from '../services/service-locator';\nimport { RendererFactory } from '../services/renderer-factory';\n/**\n * `ToolbarAction` module is used to toolbar click action\n */\nvar ToolbarAction = /** @class */ (function () {\n    function ToolbarAction(parent) {\n        this.parent = parent;\n        this.addEventListener();\n        this.serviceLocator = new ServiceLocator;\n        this.serviceLocator.register('rendererFactory', new RendererFactory);\n    }\n    ToolbarAction.prototype.addEventListener = function () {\n        this.parent.on(events.toolbarClick, this.toolbarClick, this);\n        this.parent.on(events.dropDownSelect, this.dropDownSelect, this);\n        this.parent.on(events.colorPickerChanged, this.renderSelection, this);\n        this.parent.on(events.destroy, this.removeEventListener, this);\n    };\n    ToolbarAction.prototype.toolbarClick = function (args) {\n        if (isNOU(args.item)) {\n            return;\n        }\n        if (!isNOU(args.item.controlParent)) {\n            // eslint-disable-next-line\n            var activeEle = args.item.controlParent\n                .activeEle;\n            if (activeEle) {\n                activeEle.tabIndex = -1;\n            }\n        }\n        if (args.item.command === 'NumberFormatList' || args.item.command === 'BulletFormatList') {\n            if (args.originalEvent.target.classList.contains('e-order-list') || args.originalEvent.target.classList.contains('e-unorder-list')) {\n                args.item.command = 'Lists';\n                args.item.subCommand = args.item.subCommand === 'NumberFormatList' ? 'OL' : 'UL';\n            }\n        }\n        if (args.item.command === 'Lists') {\n            if (args.originalEvent.target.classList.contains('e-caret') &&\n                (args.originalEvent.target.parentElement.classList.contains('e-rte-bulletformatlist-dropdown') || args.originalEvent.target.parentElement.classList.contains('e-rte-numberformatlist-dropdown'))) {\n                args.item.command = args.item.subCommand = null;\n            }\n        }\n        this.parent.notify(events.htmlToolbarClick, args);\n        this.parent.notify(events.markdownToolbarClick, args);\n    };\n    ToolbarAction.prototype.dropDownSelect = function (e) {\n        this.parent.notify(events.selectionRestore, {});\n        if (!(document.body.contains(document.body.querySelector('.e-rte-quick-toolbar'))\n            && e.item && (e.item.command === 'Images' || e.item.command === 'Display' || e.item.command === 'Table'))) {\n            var value = e.item.controlParent && this.parent.quickToolbarModule && this.parent.quickToolbarModule.tableQTBar\n                && this.parent.quickToolbarModule.tableQTBar.element.contains(e.item.controlParent.element) ? 'Table' : null;\n            if (e.item.command === 'Lists') {\n                var listItem = { listStyle: e.item.value, listImage: e.item.listImage, type: e.item.subCommand };\n                this.parent.formatter.process(this.parent, e, e.originalEvent, listItem);\n            }\n            else {\n                this.parent.formatter.process(this.parent, e, e.originalEvent, value);\n            }\n        }\n        this.parent.notify(events.selectionSave, {});\n    };\n    ToolbarAction.prototype.renderSelection = function (args) {\n        this.parent.notify(events.selectionRestore, {});\n        this.parent.formatter.process(this.parent, args, args.originalEvent, null);\n        this.parent.notify(events.selectionSave, {});\n    };\n    ToolbarAction.prototype.removeEventListener = function () {\n        this.parent.off(events.toolbarClick, this.toolbarClick);\n        this.parent.off(events.dropDownSelect, this.dropDownSelect);\n        this.parent.off(events.colorPickerChanged, this.renderSelection);\n        this.parent.off(events.destroy, this.removeEventListener);\n    };\n    return ToolbarAction;\n}());\nexport { ToolbarAction };\n"]},"metadata":{},"sourceType":"module"}