{"ast":null,"code":"import { Toolbar as BaseToolbar } from '@syncfusion/ej2-navigations';\nimport { select, isNullOrUndefined as isNOU, closest, selectAll } from '@syncfusion/ej2-base';\nimport { createDialog } from '../pop-up/dialog';\nimport * as events from '../base/constant';\nimport * as CLS from '../base/classes';\nimport { refresh, getPathObject, getLocaleText, getCssClass, sortbyClickHandler } from '../common/utility';\nimport { createDeniedDialog, updateLayout } from '../common/utility';\nimport { GetDetails } from '../common/operations';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { cutFiles, copyFiles, pasteHandler, hasEditAccess } from '../common/index';\nimport { doDownload, createNewFolder, uploadItem } from '../common/index';\n/**\n * Toolbar module\n */\n\nvar Toolbar =\n/** @class */\nfunction () {\n  /**\n   * Constructor for the Toolbar module\n   *\n   * @hidden\n   * @param {IFileManager} parent - specifies the parent element.\n   * @private\n   */\n  function Toolbar(parent) {\n    this.default = ['Delete', 'Rename', 'Download', 'Cut', 'Copy', 'Paste'];\n    this.single = ['Delete', 'Rename', 'Download', 'Cut', 'Copy'];\n    this.multiple = ['Delete', 'Download', 'Cut', 'Copy', 'Refresh'];\n    this.selection = ['NewFolder', 'Upload', 'SortBy', 'Refresh'];\n    this.parent = parent;\n    this.render();\n    this.addEventListener();\n  }\n\n  Toolbar.prototype.render = function () {\n    var _this = this;\n\n    this.items = this.toolbarItemData(this.getItems(this.parent.toolbarSettings.items.map(function (item) {\n      return item.trim();\n    })));\n    var eventArgs = {\n      items: this.items\n    };\n    this.parent.trigger('toolbarCreate', eventArgs, function (toolbarCreateArgs) {\n      _this.items = toolbarCreateArgs.items;\n      _this.toolbarObj = new BaseToolbar({\n        items: _this.items,\n        created: _this.toolbarCreateHandler.bind(_this),\n        overflowMode: 'Popup',\n        clicked: _this.onClicked.bind(_this),\n        enableHtmlSanitizer: _this.parent.enableHtmlSanitizer,\n        enableRtl: _this.parent.enableRtl\n      });\n      _this.toolbarObj.isStringTemplate = true;\n\n      _this.toolbarObj.appendTo('#' + _this.parent.element.id + CLS.TOOLBAR_ID);\n    });\n  };\n\n  Toolbar.prototype.getItemIndex = function (item) {\n    var itemId = this.getId(item);\n\n    for (var i = 0; i < this.items.length; i++) {\n      if (this.items[i].id === itemId) {\n        return i;\n      }\n    }\n\n    return -1;\n  };\n\n  Toolbar.prototype.getItems = function (items) {\n    var currItems = items.slice();\n\n    if (this.parent.isDevice && this.parent.allowMultiSelection) {\n      currItems.push('SelectAll');\n    }\n\n    return currItems;\n  };\n  /* istanbul ignore next */\n\n\n  Toolbar.prototype.onClicked = function (args) {\n    var _this = this;\n\n    if (isNOU(args.item) || !args.item.id) {\n      return;\n    }\n\n    var tool = args.item.id.substr((this.parent.element.id + '_tb_').length); // eslint-disable-next-line\n\n    var details;\n\n    if (tool === 'refresh' || tool === 'newfolder' || tool === 'upload') {\n      details = [getPathObject(this.parent)];\n      this.parent.itemData = details;\n    } else {\n      this.parent.notify(events.selectedData, {});\n      details = this.parent.itemData;\n    }\n\n    var eventArgs = {\n      cancel: false,\n      fileDetails: details,\n      item: args.item\n    };\n    this.parent.trigger('toolbarClick', eventArgs, function (toolbarClickArgs) {\n      var sItems;\n      var target;\n\n      if (!toolbarClickArgs.cancel) {\n        switch (tool) {\n          case 'sortby':\n            target = closest(args.originalEvent.target, '.' + CLS.TB_ITEM);\n\n            if (target && target.classList.contains('e-toolbar-popup')) {\n              args.cancel = true;\n            }\n\n            break;\n\n          case 'newfolder':\n            createNewFolder(_this.parent);\n            break;\n\n          case 'cut':\n            cutFiles(_this.parent);\n            break;\n\n          case 'copy':\n            copyFiles(_this.parent);\n            break;\n\n          case 'delete':\n            for (var i = 0; i < details.length; i++) {\n              if (!hasEditAccess(details[i])) {\n                createDeniedDialog(_this.parent, details[i], events.permissionEdit);\n                return;\n              }\n            }\n\n            createDialog(_this.parent, 'Delete');\n            break;\n\n          case 'details':\n            _this.parent.notify(events.detailsInit, {});\n\n            sItems = _this.parent.selectedItems;\n\n            if (_this.parent.activeModule === 'navigationpane') {\n              sItems = [];\n            }\n\n            GetDetails(_this.parent, sItems, _this.parent.path, 'details');\n            break;\n\n          case 'paste':\n            _this.parent.folderPath = '';\n            pasteHandler(_this.parent);\n            break;\n\n          case 'refresh':\n            refresh(_this.parent);\n            break;\n\n          case 'download':\n            doDownload(_this.parent);\n            break;\n\n          case 'rename':\n            if (!hasEditAccess(details[0])) {\n              createDeniedDialog(_this.parent, details[0], events.permissionEdit);\n            } else {\n              _this.parent.notify(events.renameInit, {});\n\n              createDialog(_this.parent, 'Rename');\n            }\n\n            break;\n\n          case 'upload':\n            uploadItem(_this.parent);\n            break;\n\n          case 'selectall':\n            _this.parent.notify(events.selectAllInit, {});\n\n            break;\n\n          case 'selection':\n            _this.parent.notify(events.clearAllInit, {});\n\n            break;\n        }\n      }\n    });\n  };\n\n  Toolbar.prototype.toolbarCreateHandler = function () {\n    if (!isNOU(select('#' + this.getId('SortBy'), this.parent.element))) {\n      var items = [{\n        id: this.getPupupId('name'),\n        text: getLocaleText(this.parent, 'Name'),\n        iconCss: CLS.TB_OPTION_DOT\n      }, {\n        id: this.getPupupId('size'),\n        text: getLocaleText(this.parent, 'Size')\n      }, {\n        id: this.getPupupId('date'),\n        text: getLocaleText(this.parent, 'DateModified')\n      }, {\n        separator: true\n      }, {\n        id: this.getPupupId('ascending'),\n        text: getLocaleText(this.parent, 'Ascending'),\n        iconCss: this.parent.sortOrder === 'Ascending' ? CLS.TB_OPTION_TICK : ''\n      }, {\n        id: this.getPupupId('descending'),\n        text: getLocaleText(this.parent, 'Descending'),\n        iconCss: this.parent.sortOrder === 'Descending' ? CLS.TB_OPTION_TICK : ''\n      }, {\n        id: this.getPupupId('none'),\n        text: getLocaleText(this.parent, 'None'),\n        iconCss: this.parent.sortOrder === 'None' ? CLS.TB_OPTION_TICK : ''\n      }];\n      this.buttonObj = new DropDownButton({\n        items: items,\n        cssClass: getCssClass(this.parent, CLS.ROOT_POPUP),\n        select: sortbyClickHandler.bind(this, this.parent),\n        enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n        enableRtl: this.parent.enableRtl,\n        iconCss: CLS.ICON_SHORTBY\n      });\n      this.buttonObj.isStringTemplate = true;\n      this.buttonObj.appendTo('#' + this.getId('SortBy'));\n    }\n\n    if (!isNOU(select('#' + this.getId('View'), this.parent.element))) {\n      var gridSpan = '<span class=\"' + CLS.ICON_GRID + ' ' + CLS.MENU_ICON + '\"></span>';\n      var largeIconSpan = '<span class=\"' + CLS.ICON_LARGE + ' ' + CLS.MENU_ICON + '\"></span>';\n      var layoutItems = [{\n        id: this.getPupupId('large'),\n        text: largeIconSpan + getLocaleText(this.parent, 'View-LargeIcons'),\n        iconCss: this.parent.view === 'Details' ? '' : CLS.TB_OPTION_TICK\n      }, {\n        id: this.getPupupId('details'),\n        text: gridSpan + getLocaleText(this.parent, 'View-Details'),\n        iconCss: this.parent.view === 'Details' ? CLS.TB_OPTION_TICK : ''\n      }];\n      this.layoutBtnObj = new DropDownButton({\n        iconCss: this.parent.view === 'Details' ? CLS.ICON_GRID : CLS.ICON_LARGE,\n        cssClass: getCssClass(this.parent, 'e-caret-hide ' + CLS.ROOT_POPUP),\n        items: layoutItems,\n        select: this.layoutChange.bind(this),\n        enableRtl: this.parent.enableRtl,\n        enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n        content: '<span class=\"e-tbar-btn-text\">' + getLocaleText(this.parent, 'View') + '</span>'\n      });\n      this.layoutBtnObj.isStringTemplate = true;\n      this.layoutBtnObj.appendTo('#' + this.getId('View'));\n    }\n\n    this.hideItems(this.default, true);\n    this.hideStatus();\n    var btnElement = selectAll('.e-btn', this.toolbarObj.element);\n\n    var _loop_1 = function (btnCount) {\n      /* istanbul ignore next */\n      btnElement[btnCount].onkeydown = function (e) {\n        if (e.keyCode === 13 && !e.target.classList.contains('e-fe-popup')) {\n          e.preventDefault();\n        }\n      };\n\n      btnElement[btnCount].onkeyup = function (e) {\n        if (e.keyCode === 13 && !e.target.classList.contains('e-fe-popup')) {\n          btnElement[btnCount].click();\n        }\n      };\n    };\n\n    for (var btnCount = 0; btnCount < btnElement.length; btnCount++) {\n      _loop_1(btnCount);\n    }\n\n    this.parent.refreshLayout();\n  };\n\n  Toolbar.prototype.updateSortByButton = function () {\n    if (this.buttonObj) {\n      var items = this.buttonObj.items;\n\n      for (var itemCount = 0; itemCount < items.length; itemCount++) {\n        if (items[itemCount].id === this.getPupupId('name')) {\n          items[itemCount].iconCss = this.parent.sortBy === 'name' ? CLS.TB_OPTION_DOT : '';\n        } else if (items[itemCount].id === this.getPupupId('size')) {\n          items[itemCount].iconCss = this.parent.sortBy === 'size' ? CLS.TB_OPTION_DOT : '';\n        } else if (items[itemCount].id === this.getPupupId('date')) {\n          items[itemCount].iconCss = this.parent.sortBy === '_fm_modified' ? CLS.TB_OPTION_DOT : '';\n        } else if (items[itemCount].id === this.getPupupId('ascending')) {\n          items[itemCount].iconCss = this.parent.sortOrder === 'Ascending' ? CLS.TB_OPTION_TICK : '';\n        } else if (items[itemCount].id === this.getPupupId('descending')) {\n          items[itemCount].iconCss = this.parent.sortOrder === 'Descending' ? CLS.TB_OPTION_TICK : '';\n        } else if (items[itemCount].id === this.getPupupId('none')) {\n          items[itemCount].iconCss = this.parent.sortOrder === 'None' ? CLS.TB_OPTION_TICK : '';\n        }\n      }\n    }\n  };\n\n  Toolbar.prototype.getPupupId = function (id) {\n    return this.parent.element.id + '_ddl_' + id.toLowerCase();\n  };\n\n  Toolbar.prototype.layoutChange = function (args) {\n    if (this.parent.view === 'Details') {\n      if (args.item.id === this.getPupupId('large')) {\n        updateLayout(this.parent, 'LargeIcons');\n      }\n    } else {\n      if (args.item.id === this.getPupupId('details')) {\n        updateLayout(this.parent, 'Details');\n      }\n    }\n  };\n\n  Toolbar.prototype.toolbarItemData = function (data) {\n    var items = [];\n    var mode = 'Both';\n\n    if (this.parent.isMobile) {\n      mode = 'Overflow';\n    }\n\n    for (var i = 0; i < data.length; i++) {\n      var item = void 0;\n      var itemId = this.getId(data[i]);\n      var itemText = getLocaleText(this.parent, data[i]);\n      var itemTooltip = getLocaleText(this.parent, 'Tooltip-' + data[i]);\n      var spanElement = '<span class=\"e-tbar-btn-text e-tbar-ddb-text\">' + itemText + '</span>';\n\n      switch (data[i]) {\n        case '|':\n          item = {\n            type: 'Separator'\n          };\n          break;\n\n        case 'Upload':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: CLS.ICON_UPLOAD,\n            showTextOn: mode\n          };\n          break;\n\n        case 'SortBy':\n          item = {\n            id: itemId,\n            tooltipText: itemTooltip,\n            template: '<button id=\"' + itemId + '\" class=\"e-tbar-btn e-tbtn-txt\" tabindex=\"-1\">' + spanElement + '</button>'\n          };\n          break;\n\n        case 'Refresh':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: CLS.ICON_REFRESH,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Selection':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            suffixIcon: CLS.ICON_CLEAR,\n            overflow: 'Show',\n            align: 'Right'\n          };\n          break;\n\n        case 'View':\n          item = {\n            id: itemId,\n            tooltipText: itemTooltip,\n            prefixIcon: this.parent.view === 'Details' ? CLS.ICON_GRID : CLS.ICON_LARGE,\n            overflow: 'Show',\n            align: 'Right',\n            text: itemText,\n            showTextOn: 'Overflow',\n            template: '<button id=\"' + itemId + '\" class=\"e-tbar-btn e-tbtn-txt\" tabindex=\"-1\" aria-label=' + getLocaleText(this.parent, 'View') + '></button>'\n          };\n          break;\n\n        case 'Details':\n          item = {\n            id: itemId,\n            tooltipText: itemTooltip,\n            prefixIcon: CLS.ICON_DETAILS,\n            overflow: 'Show',\n            align: 'Right',\n            text: itemText,\n            showTextOn: 'Overflow'\n          };\n          break;\n\n        case 'NewFolder':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: CLS.ICON_NEWFOLDER,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Cut':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: CLS.ICON_CUT,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Copy':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: CLS.ICON_COPY,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Paste':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: CLS.ICON_PASTE,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Delete':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: CLS.ICON_DELETE,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Rename':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: CLS.ICON_RENAME,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Download':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: CLS.ICON_DOWNLOAD,\n            showTextOn: mode\n          };\n          break;\n\n        case 'SelectAll':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: CLS.ICON_SELECTALL,\n            showTextOn: mode\n          };\n          break;\n\n        default:\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip\n          };\n          break;\n      }\n\n      items.push(item);\n    }\n\n    return items;\n  };\n\n  Toolbar.prototype.getId = function (id) {\n    return this.parent.element.id + '_tb_' + id.toLowerCase();\n  };\n\n  Toolbar.prototype.addEventListener = function () {\n    this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n    this.parent.on(events.selectionChanged, this.onSelectionChanged, this);\n    this.parent.on(events.layoutChange, this.onLayoutChange, this);\n    this.parent.on(events.showPaste, this.showPaste, this);\n    this.parent.on(events.hidePaste, this.hidePaste, this);\n    this.parent.on(events.destroy, this.destroy, this);\n    this.parent.on(events.sortByChange, this.updateSortByButton, this);\n  };\n\n  Toolbar.prototype.reRenderToolbar = function (e) {\n    var _this = this;\n\n    if (e.newProp.toolbarSettings.items !== undefined) {\n      this.items = this.toolbarItemData(this.getItems(e.newProp.toolbarSettings.items.map(function (item) {\n        return item.trim();\n      })));\n      var eventArgs = {\n        items: this.items\n      };\n      this.parent.trigger('toolbarCreate', eventArgs, function (toolbarCreateArgs) {\n        if (_this.buttonObj) {\n          _this.buttonObj.destroy();\n        }\n\n        if (_this.layoutBtnObj) {\n          _this.layoutBtnObj.destroy();\n        }\n\n        _this.items = toolbarCreateArgs.items;\n        _this.toolbarObj.items = _this.items;\n\n        _this.toolbarObj.dataBind();\n\n        _this.toolbarCreateHandler();\n      });\n    }\n  };\n\n  Toolbar.prototype.onSelectionChanged = function () {\n    this.hideStatus();\n    this.hideItems(this.single, true);\n    this.hideItems(this.selection, false);\n\n    if (this.parent.selectedItems.length === 1) {\n      this.hideItems(this.single, false);\n      this.hideItems(this.selection, true);\n    } else if (this.parent.selectedItems.length > 1) {\n      this.hideItems(this.multiple, false);\n      this.hideItems(this.selection, true);\n    }\n\n    var ele = select('#' + this.getId('Selection'), this.toolbarObj.element);\n\n    if (this.parent.selectedItems.length > 0 && ele) {\n      var txt = void 0;\n\n      if (this.parent.selectedItems.length === 1) {\n        txt = this.parent.selectedItems.length + ' ' + getLocaleText(this.parent, 'Item-Selection');\n      } else {\n        txt = this.parent.selectedItems.length + ' ' + getLocaleText(this.parent, 'Items-Selection');\n      }\n\n      select('.e-tbar-btn-text', ele).textContent = txt;\n      this.toolbarObj.hideItem(ele.parentElement, false);\n    }\n  };\n\n  Toolbar.prototype.hideItems = function (tools, toHide) {\n    for (var i = 0; i < tools.length; i++) {\n      var ele = select('#' + this.getId(tools[i]), this.parent.element);\n\n      if (ele) {\n        this.toolbarObj.hideItem(ele.parentElement, toHide);\n      }\n    }\n  };\n\n  Toolbar.prototype.hideStatus = function () {\n    var ele = select('#' + this.getId('Selection'), this.toolbarObj.element);\n\n    if (ele) {\n      this.toolbarObj.hideItem(ele.parentElement, true);\n    }\n  };\n\n  Toolbar.prototype.showPaste = function () {\n    this.hideItems(['Paste'], false);\n  };\n\n  Toolbar.prototype.hidePaste = function () {\n    this.hideItems(['Paste'], true);\n  };\n\n  Toolbar.prototype.onLayoutChange = function () {\n    if (this.layoutBtnObj) {\n      this.layoutBtnObj.iconCss = this.parent.view === 'Details' ? CLS.ICON_GRID : CLS.ICON_LARGE;\n      var items = this.layoutBtnObj.items;\n\n      for (var itemCount = 0; itemCount < items.length; itemCount++) {\n        if (items[itemCount].id === this.getPupupId('large')) {\n          items[itemCount].iconCss = this.parent.view === 'LargeIcons' ? CLS.TB_OPTION_TICK : '';\n        } else if (items[itemCount].id === this.getPupupId('details')) {\n          items[itemCount].iconCss = this.parent.view === 'Details' ? CLS.TB_OPTION_TICK : '';\n        }\n      }\n    }\n  };\n\n  Toolbar.prototype.removeEventListener = function () {\n    this.parent.off(events.modelChanged, this.onPropertyChanged);\n    this.parent.off(events.selectionChanged, this.onSelectionChanged);\n    this.parent.off(events.layoutChange, this.onLayoutChange);\n    this.parent.off(events.showPaste, this.showPaste);\n    this.parent.off(events.hidePaste, this.hidePaste);\n    this.parent.off(events.destroy, this.destroy);\n    this.parent.off(events.sortByChange, this.updateSortByButton);\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns module name.\n   * @private\n   */\n\n\n  Toolbar.prototype.getModuleName = function () {\n    return 'toolbar';\n  };\n\n  Toolbar.prototype.onPropertyChanged = function (e) {\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      /* istanbul ignore next */\n      return;\n    }\n\n    for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'cssClass':\n          if (this.buttonObj) {\n            this.buttonObj.cssClass = getCssClass(this.parent, CLS.ROOT_POPUP);\n          }\n\n          if (this.layoutBtnObj) {\n            this.layoutBtnObj.cssClass = getCssClass(this.parent, 'e-caret-hide ' + CLS.ROOT_POPUP);\n          }\n\n          break;\n\n        case 'height':\n        case 'width':\n          this.toolbarObj.refreshOverflow();\n          break;\n\n        case 'toolbarSettings':\n          this.reRenderToolbar(e);\n          break;\n      }\n    }\n  };\n\n  Toolbar.prototype.destroy = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.removeEventListener();\n\n    if (this.buttonObj) {\n      this.buttonObj.destroy();\n    }\n\n    if (this.layoutBtnObj) {\n      this.layoutBtnObj.destroy();\n    }\n\n    this.toolbarObj.destroy();\n    this.parent.refreshLayout();\n  };\n\n  Toolbar.prototype.enableItems = function (items, isEnable) {\n    for (var i = 0; i < items.length; i++) {\n      var ele = select('#' + this.getId(items[i]), this.parent.element);\n\n      if (ele) {\n        this.toolbarObj.enableItems(ele.parentElement, isEnable);\n      }\n    }\n  };\n\n  return Toolbar;\n}();\n\nexport { Toolbar };","map":{"version":3,"sources":["/Users/yasaman/Documents/moj_adminpanel/adminpanel/node_modules/@syncfusion/ej2-filemanager/src/file-manager/actions/toolbar.js"],"names":["Toolbar","BaseToolbar","select","isNullOrUndefined","isNOU","closest","selectAll","createDialog","events","CLS","refresh","getPathObject","getLocaleText","getCssClass","sortbyClickHandler","createDeniedDialog","updateLayout","GetDetails","DropDownButton","cutFiles","copyFiles","pasteHandler","hasEditAccess","doDownload","createNewFolder","uploadItem","parent","default","single","multiple","selection","render","addEventListener","prototype","_this","items","toolbarItemData","getItems","toolbarSettings","map","item","trim","eventArgs","trigger","toolbarCreateArgs","toolbarObj","created","toolbarCreateHandler","bind","overflowMode","clicked","onClicked","enableHtmlSanitizer","enableRtl","isStringTemplate","appendTo","element","id","TOOLBAR_ID","getItemIndex","itemId","getId","i","length","currItems","slice","isDevice","allowMultiSelection","push","args","tool","substr","details","itemData","notify","selectedData","cancel","fileDetails","toolbarClickArgs","sItems","target","originalEvent","TB_ITEM","classList","contains","permissionEdit","detailsInit","selectedItems","activeModule","path","folderPath","renameInit","selectAllInit","clearAllInit","getPupupId","text","iconCss","TB_OPTION_DOT","separator","sortOrder","TB_OPTION_TICK","buttonObj","cssClass","ROOT_POPUP","ICON_SHORTBY","gridSpan","ICON_GRID","MENU_ICON","largeIconSpan","ICON_LARGE","layoutItems","view","layoutBtnObj","layoutChange","content","hideItems","hideStatus","btnElement","_loop_1","btnCount","onkeydown","e","keyCode","preventDefault","onkeyup","click","refreshLayout","updateSortByButton","itemCount","sortBy","toLowerCase","data","mode","isMobile","itemText","itemTooltip","spanElement","type","tooltipText","prefixIcon","ICON_UPLOAD","showTextOn","template","ICON_REFRESH","suffixIcon","ICON_CLEAR","overflow","align","ICON_DETAILS","ICON_NEWFOLDER","ICON_CUT","ICON_COPY","ICON_PASTE","ICON_DELETE","ICON_RENAME","ICON_DOWNLOAD","ICON_SELECTALL","on","modelChanged","onPropertyChanged","selectionChanged","onSelectionChanged","onLayoutChange","showPaste","hidePaste","destroy","sortByChange","reRenderToolbar","newProp","undefined","dataBind","ele","txt","textContent","hideItem","parentElement","tools","toHide","removeEventListener","off","getModuleName","module","_i","_a","Object","keys","prop","refreshOverflow","isDestroyed","enableItems","isEnable"],"mappings":"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","sourcesContent":["import { Toolbar as BaseToolbar } from '@syncfusion/ej2-navigations';\nimport { select, isNullOrUndefined as isNOU, closest, selectAll } from '@syncfusion/ej2-base';\nimport { createDialog } from '../pop-up/dialog';\nimport * as events from '../base/constant';\nimport * as CLS from '../base/classes';\nimport { refresh, getPathObject, getLocaleText, getCssClass, sortbyClickHandler } from '../common/utility';\nimport { createDeniedDialog, updateLayout } from '../common/utility';\nimport { GetDetails } from '../common/operations';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { cutFiles, copyFiles, pasteHandler, hasEditAccess } from '../common/index';\nimport { doDownload, createNewFolder, uploadItem } from '../common/index';\n/**\n * Toolbar module\n */\nvar Toolbar = /** @class */ (function () {\n    /**\n     * Constructor for the Toolbar module\n     *\n     * @hidden\n     * @param {IFileManager} parent - specifies the parent element.\n     * @private\n     */\n    function Toolbar(parent) {\n        this.default = ['Delete', 'Rename', 'Download', 'Cut', 'Copy', 'Paste'];\n        this.single = ['Delete', 'Rename', 'Download', 'Cut', 'Copy'];\n        this.multiple = ['Delete', 'Download', 'Cut', 'Copy', 'Refresh'];\n        this.selection = ['NewFolder', 'Upload', 'SortBy', 'Refresh'];\n        this.parent = parent;\n        this.render();\n        this.addEventListener();\n    }\n    Toolbar.prototype.render = function () {\n        var _this = this;\n        this.items = this.toolbarItemData(this.getItems(this.parent.toolbarSettings.items.map(function (item) { return item.trim(); })));\n        var eventArgs = { items: this.items };\n        this.parent.trigger('toolbarCreate', eventArgs, function (toolbarCreateArgs) {\n            _this.items = toolbarCreateArgs.items;\n            _this.toolbarObj = new BaseToolbar({\n                items: _this.items,\n                created: _this.toolbarCreateHandler.bind(_this),\n                overflowMode: 'Popup',\n                clicked: _this.onClicked.bind(_this),\n                enableHtmlSanitizer: _this.parent.enableHtmlSanitizer,\n                enableRtl: _this.parent.enableRtl\n            });\n            _this.toolbarObj.isStringTemplate = true;\n            _this.toolbarObj.appendTo('#' + _this.parent.element.id + CLS.TOOLBAR_ID);\n        });\n    };\n    Toolbar.prototype.getItemIndex = function (item) {\n        var itemId = this.getId(item);\n        for (var i = 0; i < this.items.length; i++) {\n            if (this.items[i].id === itemId) {\n                return i;\n            }\n        }\n        return -1;\n    };\n    Toolbar.prototype.getItems = function (items) {\n        var currItems = items.slice();\n        if (this.parent.isDevice && this.parent.allowMultiSelection) {\n            currItems.push('SelectAll');\n        }\n        return currItems;\n    };\n    /* istanbul ignore next */\n    Toolbar.prototype.onClicked = function (args) {\n        var _this = this;\n        if (isNOU(args.item) || !args.item.id) {\n            return;\n        }\n        var tool = args.item.id.substr((this.parent.element.id + '_tb_').length);\n        // eslint-disable-next-line\n        var details;\n        if (tool === 'refresh' || tool === 'newfolder' || tool === 'upload') {\n            details = [getPathObject(this.parent)];\n            this.parent.itemData = details;\n        }\n        else {\n            this.parent.notify(events.selectedData, {});\n            details = this.parent.itemData;\n        }\n        var eventArgs = { cancel: false, fileDetails: details, item: args.item };\n        this.parent.trigger('toolbarClick', eventArgs, function (toolbarClickArgs) {\n            var sItems;\n            var target;\n            if (!toolbarClickArgs.cancel) {\n                switch (tool) {\n                    case 'sortby':\n                        target = closest(args.originalEvent.target, '.' + CLS.TB_ITEM);\n                        if (target && target.classList.contains('e-toolbar-popup')) {\n                            args.cancel = true;\n                        }\n                        break;\n                    case 'newfolder':\n                        createNewFolder(_this.parent);\n                        break;\n                    case 'cut':\n                        cutFiles(_this.parent);\n                        break;\n                    case 'copy':\n                        copyFiles(_this.parent);\n                        break;\n                    case 'delete':\n                        for (var i = 0; i < details.length; i++) {\n                            if (!hasEditAccess(details[i])) {\n                                createDeniedDialog(_this.parent, details[i], events.permissionEdit);\n                                return;\n                            }\n                        }\n                        createDialog(_this.parent, 'Delete');\n                        break;\n                    case 'details':\n                        _this.parent.notify(events.detailsInit, {});\n                        sItems = _this.parent.selectedItems;\n                        if (_this.parent.activeModule === 'navigationpane') {\n                            sItems = [];\n                        }\n                        GetDetails(_this.parent, sItems, _this.parent.path, 'details');\n                        break;\n                    case 'paste':\n                        _this.parent.folderPath = '';\n                        pasteHandler(_this.parent);\n                        break;\n                    case 'refresh':\n                        refresh(_this.parent);\n                        break;\n                    case 'download':\n                        doDownload(_this.parent);\n                        break;\n                    case 'rename':\n                        if (!hasEditAccess(details[0])) {\n                            createDeniedDialog(_this.parent, details[0], events.permissionEdit);\n                        }\n                        else {\n                            _this.parent.notify(events.renameInit, {});\n                            createDialog(_this.parent, 'Rename');\n                        }\n                        break;\n                    case 'upload':\n                        uploadItem(_this.parent);\n                        break;\n                    case 'selectall':\n                        _this.parent.notify(events.selectAllInit, {});\n                        break;\n                    case 'selection':\n                        _this.parent.notify(events.clearAllInit, {});\n                        break;\n                }\n            }\n        });\n    };\n    Toolbar.prototype.toolbarCreateHandler = function () {\n        if (!isNOU(select('#' + this.getId('SortBy'), this.parent.element))) {\n            var items = [\n                { id: this.getPupupId('name'), text: getLocaleText(this.parent, 'Name'), iconCss: CLS.TB_OPTION_DOT },\n                { id: this.getPupupId('size'), text: getLocaleText(this.parent, 'Size') },\n                { id: this.getPupupId('date'), text: getLocaleText(this.parent, 'DateModified') },\n                { separator: true },\n                { id: this.getPupupId('ascending'), text: getLocaleText(this.parent, 'Ascending'),\n                    iconCss: this.parent.sortOrder === 'Ascending' ? CLS.TB_OPTION_TICK : '' },\n                { id: this.getPupupId('descending'), text: getLocaleText(this.parent, 'Descending'),\n                    iconCss: this.parent.sortOrder === 'Descending' ? CLS.TB_OPTION_TICK : '' },\n                { id: this.getPupupId('none'), text: getLocaleText(this.parent, 'None'),\n                    iconCss: this.parent.sortOrder === 'None' ? CLS.TB_OPTION_TICK : '' }\n            ];\n            this.buttonObj = new DropDownButton({\n                items: items, cssClass: getCssClass(this.parent, CLS.ROOT_POPUP),\n                select: sortbyClickHandler.bind(this, this.parent),\n                enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n                enableRtl: this.parent.enableRtl, iconCss: CLS.ICON_SHORTBY\n            });\n            this.buttonObj.isStringTemplate = true;\n            this.buttonObj.appendTo('#' + this.getId('SortBy'));\n        }\n        if (!isNOU(select('#' + this.getId('View'), this.parent.element))) {\n            var gridSpan = '<span class=\"' + CLS.ICON_GRID + ' ' + CLS.MENU_ICON + '\"></span>';\n            var largeIconSpan = '<span class=\"' + CLS.ICON_LARGE + ' ' + CLS.MENU_ICON + '\"></span>';\n            var layoutItems = [\n                {\n                    id: this.getPupupId('large'), text: largeIconSpan + getLocaleText(this.parent, 'View-LargeIcons'),\n                    iconCss: this.parent.view === 'Details' ? '' : CLS.TB_OPTION_TICK\n                },\n                {\n                    id: this.getPupupId('details'), text: gridSpan + getLocaleText(this.parent, 'View-Details'),\n                    iconCss: this.parent.view === 'Details' ? CLS.TB_OPTION_TICK : ''\n                }\n            ];\n            this.layoutBtnObj = new DropDownButton({\n                iconCss: this.parent.view === 'Details' ? CLS.ICON_GRID : CLS.ICON_LARGE,\n                cssClass: getCssClass(this.parent, 'e-caret-hide ' + CLS.ROOT_POPUP),\n                items: layoutItems, select: this.layoutChange.bind(this),\n                enableRtl: this.parent.enableRtl,\n                enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n                content: '<span class=\"e-tbar-btn-text\">' + getLocaleText(this.parent, 'View') + '</span>'\n            });\n            this.layoutBtnObj.isStringTemplate = true;\n            this.layoutBtnObj.appendTo('#' + this.getId('View'));\n        }\n        this.hideItems(this.default, true);\n        this.hideStatus();\n        var btnElement = selectAll('.e-btn', this.toolbarObj.element);\n        var _loop_1 = function (btnCount) {\n            /* istanbul ignore next */\n            btnElement[btnCount].onkeydown = function (e) {\n                if (e.keyCode === 13 && !e.target.classList.contains('e-fe-popup')) {\n                    e.preventDefault();\n                }\n            };\n            btnElement[btnCount].onkeyup = function (e) {\n                if (e.keyCode === 13 && !e.target.classList.contains('e-fe-popup')) {\n                    btnElement[btnCount].click();\n                }\n            };\n        };\n        for (var btnCount = 0; btnCount < btnElement.length; btnCount++) {\n            _loop_1(btnCount);\n        }\n        this.parent.refreshLayout();\n    };\n    Toolbar.prototype.updateSortByButton = function () {\n        if (this.buttonObj) {\n            var items = this.buttonObj.items;\n            for (var itemCount = 0; itemCount < items.length; itemCount++) {\n                if (items[itemCount].id === this.getPupupId('name')) {\n                    items[itemCount].iconCss = this.parent.sortBy === 'name' ? CLS.TB_OPTION_DOT : '';\n                }\n                else if (items[itemCount].id === this.getPupupId('size')) {\n                    items[itemCount].iconCss = this.parent.sortBy === 'size' ? CLS.TB_OPTION_DOT : '';\n                }\n                else if (items[itemCount].id === this.getPupupId('date')) {\n                    items[itemCount].iconCss = this.parent.sortBy === '_fm_modified' ? CLS.TB_OPTION_DOT : '';\n                }\n                else if (items[itemCount].id === this.getPupupId('ascending')) {\n                    items[itemCount].iconCss = this.parent.sortOrder === 'Ascending' ? CLS.TB_OPTION_TICK : '';\n                }\n                else if (items[itemCount].id === this.getPupupId('descending')) {\n                    items[itemCount].iconCss = this.parent.sortOrder === 'Descending' ? CLS.TB_OPTION_TICK : '';\n                }\n                else if (items[itemCount].id === this.getPupupId('none')) {\n                    items[itemCount].iconCss = this.parent.sortOrder === 'None' ? CLS.TB_OPTION_TICK : '';\n                }\n            }\n        }\n    };\n    Toolbar.prototype.getPupupId = function (id) {\n        return this.parent.element.id + '_ddl_' + id.toLowerCase();\n    };\n    Toolbar.prototype.layoutChange = function (args) {\n        if (this.parent.view === 'Details') {\n            if (args.item.id === this.getPupupId('large')) {\n                updateLayout(this.parent, 'LargeIcons');\n            }\n        }\n        else {\n            if (args.item.id === this.getPupupId('details')) {\n                updateLayout(this.parent, 'Details');\n            }\n        }\n    };\n    Toolbar.prototype.toolbarItemData = function (data) {\n        var items = [];\n        var mode = 'Both';\n        if (this.parent.isMobile) {\n            mode = 'Overflow';\n        }\n        for (var i = 0; i < data.length; i++) {\n            var item = void 0;\n            var itemId = this.getId(data[i]);\n            var itemText = getLocaleText(this.parent, data[i]);\n            var itemTooltip = getLocaleText(this.parent, 'Tooltip-' + data[i]);\n            var spanElement = '<span class=\"e-tbar-btn-text e-tbar-ddb-text\">' + itemText + '</span>';\n            switch (data[i]) {\n                case '|':\n                    item = { type: 'Separator' };\n                    break;\n                case 'Upload':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: CLS.ICON_UPLOAD, showTextOn: mode };\n                    break;\n                case 'SortBy':\n                    item = {\n                        id: itemId, tooltipText: itemTooltip,\n                        template: '<button id=\"' + itemId + '\" class=\"e-tbar-btn e-tbtn-txt\" tabindex=\"-1\">' + spanElement + '</button>'\n                    };\n                    break;\n                case 'Refresh':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: CLS.ICON_REFRESH, showTextOn: mode };\n                    break;\n                case 'Selection':\n                    item = {\n                        id: itemId, text: itemText, tooltipText: itemTooltip, suffixIcon: CLS.ICON_CLEAR, overflow: 'Show',\n                        align: 'Right'\n                    };\n                    break;\n                case 'View':\n                    item = {\n                        id: itemId, tooltipText: itemTooltip, prefixIcon: this.parent.view === 'Details' ? CLS.ICON_GRID : CLS.ICON_LARGE,\n                        overflow: 'Show', align: 'Right', text: itemText, showTextOn: 'Overflow',\n                        template: '<button id=\"' + itemId + '\" class=\"e-tbar-btn e-tbtn-txt\" tabindex=\"-1\" aria-label=' +\n                            getLocaleText(this.parent, 'View') + '></button>'\n                    };\n                    break;\n                case 'Details':\n                    item = {\n                        id: itemId, tooltipText: itemTooltip, prefixIcon: CLS.ICON_DETAILS, overflow: 'Show', align: 'Right',\n                        text: itemText, showTextOn: 'Overflow'\n                    };\n                    break;\n                case 'NewFolder':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: CLS.ICON_NEWFOLDER, showTextOn: mode };\n                    break;\n                case 'Cut':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: CLS.ICON_CUT, showTextOn: mode };\n                    break;\n                case 'Copy':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: CLS.ICON_COPY, showTextOn: mode };\n                    break;\n                case 'Paste':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: CLS.ICON_PASTE, showTextOn: mode };\n                    break;\n                case 'Delete':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: CLS.ICON_DELETE, showTextOn: mode };\n                    break;\n                case 'Rename':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: CLS.ICON_RENAME, showTextOn: mode };\n                    break;\n                case 'Download':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: CLS.ICON_DOWNLOAD, showTextOn: mode };\n                    break;\n                case 'SelectAll':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: CLS.ICON_SELECTALL, showTextOn: mode };\n                    break;\n                default:\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip };\n                    break;\n            }\n            items.push(item);\n        }\n        return items;\n    };\n    Toolbar.prototype.getId = function (id) {\n        return this.parent.element.id + '_tb_' + id.toLowerCase();\n    };\n    Toolbar.prototype.addEventListener = function () {\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        this.parent.on(events.selectionChanged, this.onSelectionChanged, this);\n        this.parent.on(events.layoutChange, this.onLayoutChange, this);\n        this.parent.on(events.showPaste, this.showPaste, this);\n        this.parent.on(events.hidePaste, this.hidePaste, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.sortByChange, this.updateSortByButton, this);\n    };\n    Toolbar.prototype.reRenderToolbar = function (e) {\n        var _this = this;\n        if (e.newProp.toolbarSettings.items !== undefined) {\n            this.items = this.toolbarItemData(this.getItems(e.newProp.toolbarSettings.items.map(function (item) { return item.trim(); })));\n            var eventArgs = { items: this.items };\n            this.parent.trigger('toolbarCreate', eventArgs, function (toolbarCreateArgs) {\n                if (_this.buttonObj) {\n                    _this.buttonObj.destroy();\n                }\n                if (_this.layoutBtnObj) {\n                    _this.layoutBtnObj.destroy();\n                }\n                _this.items = toolbarCreateArgs.items;\n                _this.toolbarObj.items = _this.items;\n                _this.toolbarObj.dataBind();\n                _this.toolbarCreateHandler();\n            });\n        }\n    };\n    Toolbar.prototype.onSelectionChanged = function () {\n        this.hideStatus();\n        this.hideItems(this.single, true);\n        this.hideItems(this.selection, false);\n        if (this.parent.selectedItems.length === 1) {\n            this.hideItems(this.single, false);\n            this.hideItems(this.selection, true);\n        }\n        else if (this.parent.selectedItems.length > 1) {\n            this.hideItems(this.multiple, false);\n            this.hideItems(this.selection, true);\n        }\n        var ele = select('#' + this.getId('Selection'), this.toolbarObj.element);\n        if (this.parent.selectedItems.length > 0 && ele) {\n            var txt = void 0;\n            if (this.parent.selectedItems.length === 1) {\n                txt = this.parent.selectedItems.length + ' ' + getLocaleText(this.parent, 'Item-Selection');\n            }\n            else {\n                txt = this.parent.selectedItems.length + ' ' + getLocaleText(this.parent, 'Items-Selection');\n            }\n            select('.e-tbar-btn-text', ele).textContent = txt;\n            this.toolbarObj.hideItem(ele.parentElement, false);\n        }\n    };\n    Toolbar.prototype.hideItems = function (tools, toHide) {\n        for (var i = 0; i < tools.length; i++) {\n            var ele = select('#' + this.getId(tools[i]), this.parent.element);\n            if (ele) {\n                this.toolbarObj.hideItem(ele.parentElement, toHide);\n            }\n        }\n    };\n    Toolbar.prototype.hideStatus = function () {\n        var ele = select('#' + this.getId('Selection'), this.toolbarObj.element);\n        if (ele) {\n            this.toolbarObj.hideItem(ele.parentElement, true);\n        }\n    };\n    Toolbar.prototype.showPaste = function () {\n        this.hideItems(['Paste'], false);\n    };\n    Toolbar.prototype.hidePaste = function () {\n        this.hideItems(['Paste'], true);\n    };\n    Toolbar.prototype.onLayoutChange = function () {\n        if (this.layoutBtnObj) {\n            this.layoutBtnObj.iconCss = this.parent.view === 'Details' ? CLS.ICON_GRID : CLS.ICON_LARGE;\n            var items = this.layoutBtnObj.items;\n            for (var itemCount = 0; itemCount < items.length; itemCount++) {\n                if (items[itemCount].id === this.getPupupId('large')) {\n                    items[itemCount].iconCss = this.parent.view === 'LargeIcons' ? CLS.TB_OPTION_TICK : '';\n                }\n                else if (items[itemCount].id === this.getPupupId('details')) {\n                    items[itemCount].iconCss = this.parent.view === 'Details' ? CLS.TB_OPTION_TICK : '';\n                }\n            }\n        }\n    };\n    Toolbar.prototype.removeEventListener = function () {\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        this.parent.off(events.selectionChanged, this.onSelectionChanged);\n        this.parent.off(events.layoutChange, this.onLayoutChange);\n        this.parent.off(events.showPaste, this.showPaste);\n        this.parent.off(events.hidePaste, this.hidePaste);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.sortByChange, this.updateSortByButton);\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns module name.\n     * @private\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    Toolbar.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            /* istanbul ignore next */\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    if (this.buttonObj) {\n                        this.buttonObj.cssClass = getCssClass(this.parent, CLS.ROOT_POPUP);\n                    }\n                    if (this.layoutBtnObj) {\n                        this.layoutBtnObj.cssClass = getCssClass(this.parent, 'e-caret-hide ' + CLS.ROOT_POPUP);\n                    }\n                    break;\n                case 'height':\n                case 'width':\n                    this.toolbarObj.refreshOverflow();\n                    break;\n                case 'toolbarSettings':\n                    this.reRenderToolbar(e);\n                    break;\n            }\n        }\n    };\n    Toolbar.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        if (this.buttonObj) {\n            this.buttonObj.destroy();\n        }\n        if (this.layoutBtnObj) {\n            this.layoutBtnObj.destroy();\n        }\n        this.toolbarObj.destroy();\n        this.parent.refreshLayout();\n    };\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        for (var i = 0; i < items.length; i++) {\n            var ele = select('#' + this.getId(items[i]), this.parent.element);\n            if (ele) {\n                this.toolbarObj.enableItems(ele.parentElement, isEnable);\n            }\n        }\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n"]},"metadata":{},"sourceType":"module"}