{"ast":null,"code":"import _slicedToArray from\"/Users/yasaman/Documents/moj_adminpanel/adminpanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{CircularProgress,Backdrop}from'@material-ui/core';import FormComp from\"./Inputs\";import CardSection from'./cardSection';import\"./style.css\";import{useFetchApi}from'../../utils/hooks';import{LEVELS_LIST,LEVEL_DETAIL,TRADING_APP}from'../../utils/constants';import{numDiscriminantInput}from'../../utils/discriminant';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LevelManage(props){var _useFetchApi=useFetchApi(undefined,[]),_useFetchApi2=_slicedToArray(_useFetchApi,2),_useFetchApi2$=_useFetchApi2[0],levelList=_useFetchApi2$.data,levelLoading=_useFetchApi2$.isLoading,getLevelList=_useFetchApi2[1];var _useFetchApi3=useFetchApi(undefined,{}),_useFetchApi4=_slicedToArray(_useFetchApi3,2),_useFetchApi4$=_useFetchApi4[0],createLevelData=_useFetchApi4$.data,createLevelLoading=_useFetchApi4$.isLoading,createLevel=_useFetchApi4[1];var _useFetchApi5=useFetchApi(undefined,{}),_useFetchApi6=_slicedToArray(_useFetchApi5,2),_useFetchApi6$=_useFetchApi6[0],updateLevelData=_useFetchApi6$.data,updateLevelLoading=_useFetchApi6$.isLoading,updateLevel=_useFetchApi6[1];var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),minValue1=_React$useState2[0],setMinValue1=_React$useState2[1];var _React$useState3=React.useState(0),_React$useState4=_slicedToArray(_React$useState3,2),minValue2=_React$useState4[0],setMinValue2=_React$useState4[1];var _React$useState5=React.useState(0),_React$useState6=_slicedToArray(_React$useState5,2),minValue3=_React$useState6[0],setMinValue3=_React$useState6[1];var _React$useState7=React.useState(0),_React$useState8=_slicedToArray(_React$useState7,2),minValue4=_React$useState8[0],setMinValue4=_React$useState8[1];var handleSubmitLevel=function handleSubmitLevel(isEditting,values,id){if(isEditting){console.log(\"values\",values);updateLevel(\"PUT\",TRADING_APP,LEVEL_DETAIL(id),values);}else{createLevel(\"POST\",TRADING_APP,LEVELS_LIST,values);}};var setMinValue=function setMinValue(value,index){var fname=\"setMinValue\".concat(index+2);index<3&&eval(fname)(value);};React.useEffect(function(){getLevelList(\"GET\",TRADING_APP,LEVELS_LIST);},[]);React.useEffect(function(){if(!createLevelLoading&&Object.keys(createLevelData).length){getLevelList(\"GET\",TRADING_APP,LEVELS_LIST);}if(!updateLevelLoading&&Object.keys(updateLevelData).length){getLevelList(\"GET\",TRADING_APP,LEVELS_LIST);}},[createLevelLoading,updateLevelLoading]);return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-white pe-2\",children:\"\\u0645\\u062F\\u06CC\\u0631\\u06CC\\u062A \\u0633\\u0637\\u0648\\u062D\"}),/*#__PURE__*/_jsx(Backdrop,{className:\"backdrop-loading\",open:levelLoading,children:/*#__PURE__*/_jsx(CircularProgress,{color:\"primary\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"content mt-3 \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex mb-2\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/assets/drawer/Polygon.svg\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font_title_name me-1\",style:{minWidth:\"150px\"},children:\"\\u0645\\u062F\\u06CC\\u0631\\u06CC\\u062A \\u0633\\u0637\\u0648\\u062D \"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"content-dark my-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex pe-3\",style:{maxWidth:\"580px\"},children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-end text-white ms-1\",style:{minWidth:\"150px\"},htmlFor:\"account_number\",children:\"\\u0645\\u062F\\u062A \\u06AF\\u0631\\u062F\\u0634 \\u062D\\u0633\\u0627\\u0628\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"color\",disabled:true,value:\"green\",className:\"form-control bg_input input_text\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"red\",children:\"\\u06F1\\u0645\\u0627\\u0647\"}),/*#__PURE__*/_jsx(\"option\",{value:\"green\",children:\"\\u06F3\\u0645\\u0627\\u0647\"}),/*#__PURE__*/_jsx(\"option\",{value:\"blue\",children:\"\\u06F6 \\u0645\\u0627\\u0647\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-dark mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"position-relative\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-green\",children:\"\\u0633\\u0637\\u062D \\u06F1\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:/*#__PURE__*/_jsx(FormComp,{index:0,item:levelList.length>=1?levelList[0]:{},isEditting:levelList.length>=1,minValue:numDiscriminantInput(minValue1),setMinValue:setMinValue,handleSubmitLevel:handleSubmitLevel})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-dark mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"position-relative\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-green\",children:\"\\u0633\\u0637\\u062D \\u06F2\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:/*#__PURE__*/_jsx(FormComp,{index:1,item:levelList.length>=2?levelList[1]:{},isEditting:levelList.length>=2,minValue:numDiscriminantInput(minValue2),setMinValue:setMinValue,handleSubmitLevel:handleSubmitLevel})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-dark mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"position-relative\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-green\",children:\"\\u0633\\u0637\\u062D \\u06F3\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:/*#__PURE__*/_jsx(FormComp,{index:2,item:levelList.length>=3?levelList[2]:{},isEditting:levelList.length>=3,minValue:numDiscriminantInput(minValue3),setMinValue:setMinValue,handleSubmitLevel:handleSubmitLevel})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-dark mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"position-relative\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-green\",children:\"\\u0633\\u0637\\u062D \\u06F4\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:/*#__PURE__*/_jsx(FormComp,{index:3,item:levelList.length>=4?levelList[3]:{},isEditting:levelList.length>=4,minValue:numDiscriminantInput(minValue4),setMinValue:setMinValue})})]})]})]});}export default LevelManage;","map":{"version":3,"sources":["/Users/yasaman/Documents/moj_adminpanel/adminpanel/src/components/levelManage/index.js"],"names":["React","CircularProgress","Backdrop","FormComp","CardSection","useFetchApi","LEVELS_LIST","LEVEL_DETAIL","TRADING_APP","numDiscriminantInput","LevelManage","props","undefined","levelList","data","levelLoading","isLoading","getLevelList","createLevelData","createLevelLoading","createLevel","updateLevelData","updateLevelLoading","updateLevel","useState","minValue1","setMinValue1","minValue2","setMinValue2","minValue3","setMinValue3","minValue4","setMinValue4","handleSubmitLevel","isEditting","values","id","console","log","setMinValue","value","index","fname","eval","useEffect","Object","keys","length","minWidth","maxWidth"],"mappings":"yKAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,gBAAR,CAA0BC,QAA1B,KAAyC,mBAAzC,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAO,aAAP,CACA,OAASC,WAAT,KAA4B,mBAA5B,CACA,OAASC,WAAT,CAAsBC,YAAtB,CAAoCC,WAApC,KAAuD,uBAAvD,CACA,OAASC,oBAAT,KAAqC,0BAArC,C,wFAGA,QAASC,CAAAA,WAAT,CAAqBC,KAArB,CAA4B,CAExB,iBAAqEN,WAAW,CAACO,SAAD,CAAY,EAAZ,CAAhF,8EAAeC,SAAf,gBAASC,IAAT,CAAqCC,YAArC,gBAA0BC,SAA1B,CAAqDC,YAArD,kBACA,kBAAgFZ,WAAW,CAACO,SAAD,CAAY,EAAZ,CAA3F,+EAAeM,eAAf,gBAASJ,IAAT,CAA2CK,kBAA3C,gBAAgCH,SAAhC,CAAiEI,WAAjE,kBACA,kBAAgFf,WAAW,CAACO,SAAD,CAAY,EAAZ,CAA3F,+EAAeS,eAAf,gBAASP,IAAT,CAA2CQ,kBAA3C,gBAAgCN,SAAhC,CAAiEO,WAAjE,kBAEA,oBAAkCvB,KAAK,CAACwB,QAAN,CAAe,CAAf,CAAlC,oDAAOC,SAAP,qBAAkBC,YAAlB,qBACA,qBAAkC1B,KAAK,CAACwB,QAAN,CAAe,CAAf,CAAlC,qDAAOG,SAAP,qBAAkBC,YAAlB,qBACA,qBAAkC5B,KAAK,CAACwB,QAAN,CAAe,CAAf,CAAlC,qDAAOK,SAAP,qBAAkBC,YAAlB,qBACA,qBAAkC9B,KAAK,CAACwB,QAAN,CAAe,CAAf,CAAlC,qDAAOO,SAAP,qBAAkBC,YAAlB,qBAEA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,UAAD,CAAaC,MAAb,CAAqBC,EAArB,CAA4B,CAClD,GAAIF,UAAJ,CAAe,CACXG,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAqBH,MAArB,EACAZ,WAAW,CAAC,KAAD,CAAQf,WAAR,CAAqBD,YAAY,CAAC6B,EAAD,CAAjC,CAAuCD,MAAvC,CAAX,CACH,CAHD,IAGM,CACFf,WAAW,CAAC,MAAD,CAASZ,WAAT,CAAsBF,WAAtB,CAAmC6B,MAAnC,CAAX,CACH,CACJ,CAPD,CASA,GAAMI,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAQC,KAAR,CAAkB,CAClC,GAAIC,CAAAA,KAAK,sBAAiBD,KAAK,CAAC,CAAvB,CAAT,CACAA,KAAK,CAAG,CAAR,EAAaE,IAAI,CAACD,KAAD,CAAJ,CAAYF,KAAZ,CAAb,CACH,CAHD,CAKAxC,KAAK,CAAC4C,SAAN,CAAiB,UAAM,CACnB3B,YAAY,CAAC,KAAD,CAAQT,WAAR,CAAqBF,WAArB,CAAZ,CACH,CAFD,CAEG,EAFH,EAIAN,KAAK,CAAC4C,SAAN,CAAiB,UAAM,CACnB,GAAI,CAACzB,kBAAD,EAAuB0B,MAAM,CAACC,IAAP,CAAY5B,eAAZ,EAA6B6B,MAAxD,CAA+D,CAC3D9B,YAAY,CAAC,KAAD,CAAQT,WAAR,CAAqBF,WAArB,CAAZ,CACH,CACD,GAAI,CAACgB,kBAAD,EAAuBuB,MAAM,CAACC,IAAP,CAAYzB,eAAZ,EAA6B0B,MAAxD,CAA+D,CAC3D9B,YAAY,CAAC,KAAD,CAAQT,WAAR,CAAqBF,WAArB,CAAZ,CACH,CACJ,CAPD,CAOG,CAACa,kBAAD,CAAqBG,kBAArB,CAPH,EASA,mBACI,aAAK,SAAS,CAAC,MAAf,wBACI,aAAM,SAAS,CAAC,iBAAhB,2EADJ,cAGI,KAAC,QAAD,EAAU,SAAS,CAAC,kBAApB,CAAuC,IAAI,CAAEP,YAA7C,uBACI,KAAC,gBAAD,EAAkB,KAAK,CAAC,SAAxB,EADJ,EAHJ,cAMI,aAAK,SAAS,CAAC,eAAf,wBACI,aAAK,SAAS,CAAC,aAAf,wBACI,YAAK,GAAG,CAAC,4BAAT,EADJ,cAEI,UAAG,SAAS,CAAC,sBAAb,CAAoC,KAAK,CAAE,CAACiC,QAAQ,CAAE,OAAX,CAA3C,4EAFJ,GADJ,cAKI,YAAK,SAAS,CAAC,mBAAf,uBACI,aAAK,SAAS,CAAC,aAAf,CAA6B,KAAK,CAAE,CAACC,QAAQ,CAAE,OAAX,CAApC,wBACI,cAAO,SAAS,CAAC,0BAAjB,CAA4C,KAAK,CAAE,CAACD,QAAQ,CAAE,OAAX,CAAnD,CAAwE,OAAO,CAAC,gBAAhF,kFADJ,cAEI,gBAAQ,IAAI,CAAC,OAAb,CAAqB,QAAQ,KAA7B,CAA8B,KAAK,CAAC,OAApC,CAA4C,SAAS,CAAC,kCAAtD,wBACI,eAAQ,KAAK,CAAC,KAAd,sCADJ,cAEI,eAAQ,KAAK,CAAC,OAAd,sCAFJ,cAGI,eAAQ,KAAK,CAAC,MAAd,uCAHJ,GAFJ,GADJ,EALJ,cAeI,aAAK,SAAS,CAAC,mBAAf,wBACI,YAAK,SAAS,CAAC,mBAAf,uBACI,aAAM,SAAS,CAAC,YAAhB,uCADJ,EADJ,cAII,YAAK,SAAS,CAAC,MAAf,uBACI,KAAC,QAAD,EACI,KAAK,CAAE,CADX,CAEI,IAAI,CAAEnC,SAAS,CAACkC,MAAV,EAAoB,CAApB,CAAwBlC,SAAS,CAAC,CAAD,CAAjC,CAAuC,EAFjD,CAGI,UAAU,CAAEA,SAAS,CAACkC,MAAV,EAAoB,CAHpC,CAII,QAAQ,CAAEtC,oBAAoB,CAACgB,SAAD,CAJlC,CAKI,WAAW,CAAEc,WALjB,CAMI,iBAAiB,CAAEN,iBANvB,EADJ,EAJJ,GAfJ,cA8BI,aAAK,SAAS,CAAC,mBAAf,wBACI,YAAK,SAAS,CAAC,mBAAf,uBACI,aAAM,SAAS,CAAC,YAAhB,uCADJ,EADJ,cAII,YAAK,SAAS,CAAC,MAAf,uBACI,KAAC,QAAD,EACI,KAAK,CAAE,CADX,CAEI,IAAI,CAAEpB,SAAS,CAACkC,MAAV,EAAoB,CAApB,CAAwBlC,SAAS,CAAC,CAAD,CAAjC,CAAuC,EAFjD,CAGI,UAAU,CAAEA,SAAS,CAACkC,MAAV,EAAoB,CAHpC,CAII,QAAQ,CAAEtC,oBAAoB,CAACkB,SAAD,CAJlC,CAKI,WAAW,CAAEY,WALjB,CAMI,iBAAiB,CAAEN,iBANvB,EADJ,EAJJ,GA9BJ,cA6CI,aAAK,SAAS,CAAC,mBAAf,wBACI,YAAK,SAAS,CAAC,mBAAf,uBACI,aAAM,SAAS,CAAC,YAAhB,uCADJ,EADJ,cAII,YAAK,SAAS,CAAC,MAAf,uBACI,KAAC,QAAD,EACI,KAAK,CAAE,CADX,CAEI,IAAI,CAAEpB,SAAS,CAACkC,MAAV,EAAoB,CAApB,CAAwBlC,SAAS,CAAC,CAAD,CAAjC,CAAuC,EAFjD,CAGI,UAAU,CAAEA,SAAS,CAACkC,MAAV,EAAoB,CAHpC,CAII,QAAQ,CAAEtC,oBAAoB,CAACoB,SAAD,CAJlC,CAKI,WAAW,CAAEU,WALjB,CAMI,iBAAiB,CAAEN,iBANvB,EADJ,EAJJ,GA7CJ,cA4DI,aAAK,SAAS,CAAC,mBAAf,wBACI,YAAK,SAAS,CAAC,mBAAf,uBACI,aAAM,SAAS,CAAC,YAAhB,uCADJ,EADJ,cAII,YAAK,SAAS,CAAC,MAAf,uBACI,KAAC,QAAD,EACI,KAAK,CAAE,CADX,CAEI,IAAI,CAAEpB,SAAS,CAACkC,MAAV,EAAoB,CAApB,CAAwBlC,SAAS,CAAC,CAAD,CAAjC,CAAuC,EAFjD,CAGI,UAAU,CAAEA,SAAS,CAACkC,MAAV,EAAoB,CAHpC,CAII,QAAQ,CAAEtC,oBAAoB,CAACsB,SAAD,CAJlC,CAKI,WAAW,CAAEQ,WALjB,EADJ,EAJJ,GA5DJ,GANJ,GADJ,CAoFH,CAED,cAAe7B,CAAAA,WAAf","sourcesContent":["import React from 'react';\nimport {CircularProgress, Backdrop} from '@material-ui/core';\nimport FormComp from \"./Inputs\";\nimport CardSection from './cardSection';\nimport \"./style.css\";\nimport { useFetchApi } from '../../utils/hooks';\nimport { LEVELS_LIST, LEVEL_DETAIL, TRADING_APP } from '../../utils/constants';\nimport { numDiscriminantInput } from '../../utils/discriminant';\n\n\nfunction LevelManage(props) {\n\n    const [{ data: levelList, isLoading: levelLoading }, getLevelList] = useFetchApi(undefined, []);\n    const [{ data: createLevelData, isLoading: createLevelLoading }, createLevel] = useFetchApi(undefined, {});\n    const [{ data: updateLevelData, isLoading: updateLevelLoading }, updateLevel] = useFetchApi(undefined, {});\n\n    const [minValue1, setMinValue1] = React.useState(0);\n    const [minValue2, setMinValue2] = React.useState(0);\n    const [minValue3, setMinValue3] = React.useState(0);\n    const [minValue4, setMinValue4] = React.useState(0);\n\n    const handleSubmitLevel = (isEditting, values, id) => {\n        if (isEditting){\n            console.log(\"values\",values)\n            updateLevel(\"PUT\", TRADING_APP, LEVEL_DETAIL(id), values)\n        }else {\n            createLevel(\"POST\", TRADING_APP, LEVELS_LIST, values)\n        }\n    }\n\n    const setMinValue = (value, index) => {\n        let fname = `setMinValue${index+2}`\n        index < 3 && eval(fname)(value)\n    }\n\n    React.useEffect( () => {\n        getLevelList(\"GET\", TRADING_APP, LEVELS_LIST)\n    }, [])\n\n    React.useEffect( () => {\n        if (!createLevelLoading && Object.keys(createLevelData).length){\n            getLevelList(\"GET\", TRADING_APP, LEVELS_LIST)\n        }\n        if (!updateLevelLoading && Object.keys(updateLevelData).length){\n            getLevelList(\"GET\", TRADING_APP, LEVELS_LIST)\n        }\n    }, [createLevelLoading, updateLevelLoading])\n\n    return (\n        <div className=\"mt-3\">\n            <span className=\"text-white pe-2\">مدیریت سطوح</span>\n            {/* <CardSection /> */}\n            <Backdrop className=\"backdrop-loading\" open={levelLoading} >\n                <CircularProgress color=\"primary\" />\n            </Backdrop>\n            <div className=\"content mt-3 \">\n                <div className=\"d-flex mb-2\">\n                    <img src=\"/assets/drawer/Polygon.svg\" />\n                    <p className=\"font_title_name me-1\" style={{minWidth: \"150px\"}}>مدیریت سطوح </p>\n                </div>\n                <div className=\"content-dark my-3\">\n                    <div className=\"d-flex pe-3\" style={{maxWidth: \"580px\"}}>\n                        <label className=\"text-end text-white ms-1\" style={{minWidth: \"150px\"}} htmlFor=\"account_number\">مدت گردش حساب</label>\n                        <select name=\"color\" disabled value=\"green\" className=\"form-control bg_input input_text\">\n                            <option value=\"red\">۱ماه</option>\n                            <option value=\"green\">۳ماه</option>\n                            <option value=\"blue\">۶ ماه</option>\n                        </select>\n                    </div>\n                </div>\n                <div className=\"content-dark mb-3\">\n                    <div className=\"position-relative\">\n                        <span className=\"text-green\">سطح ۱</span>\n                    </div>\n                    <div className=\"mt-3\">\n                        <FormComp \n                            index={0} \n                            item={levelList.length >= 1 ? levelList[0] : {}} \n                            isEditting={levelList.length >= 1} \n                            minValue={numDiscriminantInput(minValue1)} \n                            setMinValue={setMinValue}\n                            handleSubmitLevel={handleSubmitLevel}\n                        />\n                    </div>\n                </div>\n                <div className=\"content-dark mb-3\">\n                    <div className=\"position-relative\">\n                        <span className=\"text-green\">سطح ۲</span>\n                    </div>\n                    <div className=\"mt-3\">\n                        <FormComp \n                            index={1} \n                            item={levelList.length >= 2 ? levelList[1] : {}} \n                            isEditting={levelList.length >= 2} \n                            minValue={numDiscriminantInput(minValue2)} \n                            setMinValue={setMinValue}\n                            handleSubmitLevel={handleSubmitLevel}\n                        />\n                    </div>\n                </div>\n                <div className=\"content-dark mb-3\">\n                    <div className=\"position-relative\">\n                        <span className=\"text-green\">سطح ۳</span>\n                    </div>\n                    <div className=\"mt-3\">\n                        <FormComp \n                            index={2} \n                            item={levelList.length >= 3 ? levelList[2] : {}} \n                            isEditting={levelList.length >= 3} \n                            minValue={numDiscriminantInput(minValue3)} \n                            setMinValue={setMinValue}\n                            handleSubmitLevel={handleSubmitLevel}\n                        />\n                    </div>\n                </div>\n                <div className=\"content-dark mb-3\">\n                    <div className=\"position-relative\">\n                        <span className=\"text-green\">سطح ۴</span>\n                    </div>\n                    <div className=\"mt-3\">\n                        <FormComp \n                            index={3}\n                            item={levelList.length >= 4 ? levelList[3] : {}} \n                            isEditting={levelList.length >= 4} \n                            minValue={numDiscriminantInput(minValue4)} \n                            setMinValue={setMinValue}\n                        />\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default LevelManage\n"]},"metadata":{},"sourceType":"module"}