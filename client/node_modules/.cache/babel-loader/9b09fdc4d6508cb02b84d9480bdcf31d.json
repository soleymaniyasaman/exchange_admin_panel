{"ast":null,"code":"var _jsxFileName = \"/Users/yasaman/Documents/moj_adminpanel/adminpanel/src/components/managemant/policies.js\",\n    _s = $RefreshSig$();\n\nimport React, { ReactDOM } from \"react\";\nimport CKEditor from \"./classicEditor\";\nimport { IAM_APP, TERMS_AND_CONDITIONS_ITEM, TERMS_AND_CONDITIONS_UPDATE } from '../../utils/constants';\nimport { useFetchApi } from '../../utils/hooks';\nimport { Container, Box, Dialog, DialogTitle, DialogContent, DialogActions } from '@material-ui/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ConfirmModal = props => {\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    maxWidth: \"xs\" //   onEntering={handleEntering}\n    ,\n    \"aria-labelledby\": \"confirmation-dialog-title\",\n    open: props.openModal,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      id: \"confirmation-dialog-title\",\n      children: \"\\u0622\\u06CC\\u0627 \\u0627\\u0632 \\u062A\\u063A\\u06CC\\u06CC\\u0631 \\u0645\\u062A\\u0646 \\u0645\\u0637\\u0645\\u0626\\u0646 \\u0647\\u0633\\u062A\\u06CC\\u062F\\u061F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        autoFocus: true,\n        onClick: () => props.setOpenModal(false),\n        variant: \"outlined\",\n        color: \"secondary\",\n        children: \"\\u062E\\u06CC\\u0631\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => {\n          props.handleUserApprove();\n          setTimeout(() => {\n            props.setOpenModal(false);\n          }, 2000);\n        },\n        variant: \"contained\",\n        color: \"primary\",\n        children: \"\\u0628\\u0644\\u0647\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 10\n  }, this);\n};\n\n_c = ConfirmModal;\n\nconst Policies = () => {\n  _s();\n\n  const [content, setContent] = React.useState();\n  const [openModal, setOpenModal] = React.useState(false);\n  const [{\n    data: aboutUs,\n    isLoading: aboutUsLoading\n  }, doFetch] = useFetchApi(undefined);\n  const [{\n    data: aboutUsUpdate,\n    isLoading: aboutUsUpdateLoading\n  }, getAboutUs] = useFetchApi(undefined, {}); //------ Test for race condition ------ //\n\n  const setContents = () => {\n    console.log(\"Setting content\", typeof content);\n  };\n\n  const onChange = evt => {\n    setContent(evt.editor.getData()); // console.log(\"onChange fired with event info: \",evt, \"and data: \",evt.editor.getData());\n  }; // const onBlur =(evt) => {\n  // }\n  // const afterPaste =(evt) => {\n  // }\n\n\n  async function handleSave() {\n    const savedData = await editorJS.current.save();\n    console.log(\"saved\", savedData);\n    const payload = {\n      \"key\": \"string\",\n      \"value\": \"string\",\n      \"additional_data\": savedData\n    };\n    getAboutUs(\"PUT\", IAM_APP, TERMS_AND_CONDITIONS_UPDATE(10), payload);\n  }\n\n  React.useEffect(() => {\n    doFetch(\"GET\", IAM_APP, TERMS_AND_CONDITIONS_ITEM(10));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" d-flex align-items-center justify-content-between w-auto mx-auto pt-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setContents(),\n        children: \"Set content\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CKEditor, {\n        content: content,\n        events: {\n          // blur: onBlur,\n          // afterPaste: afterPaste,\n          change: onChange\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Policies, \"STqpcc80+D8Bdc1ir3ExIH37Vv8=\", false, function () {\n  return [useFetchApi, useFetchApi];\n});\n\n_c2 = Policies;\nexport default Policies;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ConfirmModal\");\n$RefreshReg$(_c2, \"Policies\");","map":{"version":3,"sources":["/Users/yasaman/Documents/moj_adminpanel/adminpanel/src/components/managemant/policies.js"],"names":["React","ReactDOM","CKEditor","IAM_APP","TERMS_AND_CONDITIONS_ITEM","TERMS_AND_CONDITIONS_UPDATE","useFetchApi","Container","Box","Dialog","DialogTitle","DialogContent","DialogActions","ConfirmModal","props","openModal","setOpenModal","handleUserApprove","setTimeout","Policies","content","setContent","useState","data","aboutUs","isLoading","aboutUsLoading","doFetch","undefined","aboutUsUpdate","aboutUsUpdateLoading","getAboutUs","setContents","console","log","onChange","evt","editor","getData","handleSave","savedData","editorJS","current","save","payload","useEffect","change"],"mappings":"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","sourcesContent":["import React, { ReactDOM } from \"react\";\nimport CKEditor from \"./classicEditor\";\nimport { IAM_APP , TERMS_AND_CONDITIONS_ITEM , TERMS_AND_CONDITIONS_UPDATE} from '../../utils/constants';\nimport { useFetchApi } from '../../utils/hooks';\nimport {  Container, Box, Dialog, DialogTitle, DialogContent, DialogActions } from '@material-ui/core';\n\n\nconst ConfirmModal = (props) => {\n\n  return <Dialog\n    maxWidth=\"xs\"\n  //   onEntering={handleEntering}\n    aria-labelledby=\"confirmation-dialog-title\"\n    open={props.openModal}\n  >\n      <DialogTitle id=\"confirmation-dialog-title\">آیا از تغییر متن مطمئن هستید؟</DialogTitle>\n      <DialogContent >\n\n      </DialogContent>\n      <DialogActions>\n          <Button autoFocus onClick={ () => props.setOpenModal(false)} variant=\"outlined\" color=\"secondary\">\n              خیر\n          </Button>\n          <Button onClick={ () => {\n              props.handleUserApprove()\n              setTimeout( () => {props.setOpenModal(false)} , 2000 )\n          }} variant=\"contained\" color=\"primary\">\n              بله\n          </Button>\n      </DialogActions>\n  </Dialog>\n}\n\n\nconst Policies = () => {\n\n  const [content, setContent] = React.useState();\n  const [openModal, setOpenModal] = React.useState(false);   \n  const [{ data: aboutUs, isLoading: aboutUsLoading },doFetch] = useFetchApi(undefined)\n  const [{ data: aboutUsUpdate, isLoading: aboutUsUpdateLoading }, getAboutUs] = useFetchApi(undefined, {})\n  \n  //------ Test for race condition ------ //\n  const setContents =() =>{\n    console.log(\"Setting content\",typeof content);\n  }\n\n  const onChange =(evt) => {\n    setContent(evt.editor.getData())\n    // console.log(\"onChange fired with event info: \",evt, \"and data: \",evt.editor.getData());\n  }\n\n  // const onBlur =(evt) => {\n  // }\n\n  // const afterPaste =(evt) => {\n  // }\n  async function handleSave() {\n    const savedData = await editorJS.current.save()\n    console.log(\"saved\",savedData)\n    const payload = {\n        \"key\": \"string\",\n        \"value\": \"string\",\n        \"additional_data\":savedData\n      \n      }\n    getAboutUs(\"PUT\", IAM_APP, TERMS_AND_CONDITIONS_UPDATE(10),payload)\n   }\n\n\n\n   React.useEffect( () => {\n    doFetch(\"GET\", IAM_APP, TERMS_AND_CONDITIONS_ITEM(10) )\n}, [])\n    return (\n        <div className=\"content\">\n        <div className=\" d-flex align-items-center justify-content-between w-auto mx-auto pt-2\">\n        <button onClick={() => setContents()} children='Set content' />\n        <CKEditor\n          content={content}\n          events={{\n            // blur: onBlur,\n            // afterPaste: afterPaste,\n            change: onChange\n          }}\n        />\n        </div>\n      </div>\n    );\n  \n}\n\nexport default Policies;"]},"metadata":{},"sourceType":"module"}