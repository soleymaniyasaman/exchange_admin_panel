{"ast":null,"code":"import * as CONSTANT from './../base/constant';\nimport * as EVENTS from './../../common/constant';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\n/**\n * Indents internal component\n *\n * @hidden\n\n */\n\nvar Indents =\n/** @class */\nfunction () {\n  /**\n   * Constructor for creating the Formats plugin\n   *\n   * @param {EditorManager} parent - specifies the parent element\n   * @hidden\n    */\n  function Indents(parent) {\n    this.indentValue = 20;\n    this.parent = parent;\n    this.addEventListener();\n  }\n\n  Indents.prototype.addEventListener = function () {\n    this.parent.observer.on(CONSTANT.INDENT_TYPE, this.applyIndents, this);\n    this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown, this);\n  };\n\n  Indents.prototype.onKeyDown = function (e) {\n    switch (e.event.action) {\n      case 'indents':\n        this.applyIndents({\n          subCommand: 'Indent',\n          callBack: e.callBack\n        });\n        e.event.preventDefault();\n        break;\n\n      case 'outdents':\n        this.applyIndents({\n          subCommand: 'Outdent',\n          callBack: e.callBack\n        });\n        e.event.preventDefault();\n        break;\n    }\n  };\n\n  Indents.prototype.applyIndents = function (e) {\n    var editEle = this.parent.editableElement;\n    var isRtl = editEle.classList.contains('e-rtl');\n    var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n    var save = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n    this.parent.domNode.setMarker(save);\n    var indentsNodes = this.parent.domNode.blockNodes();\n    var parentNodes = indentsNodes.slice();\n    var listsNodes = [];\n\n    for (var i = 0; i < parentNodes.length; i++) {\n      if (parentNodes[i].tagName !== 'LI' && 'LI' === parentNodes[i].parentNode.tagName) {\n        indentsNodes.splice(indentsNodes.indexOf(parentNodes[i]), 1);\n        listsNodes.push(parentNodes[i].parentNode);\n      } else if (parentNodes[i].tagName === 'LI') {\n        indentsNodes.splice(indentsNodes.indexOf(parentNodes[i]), 1);\n        listsNodes.push(parentNodes[i]);\n      }\n    }\n\n    if (listsNodes.length > 0) {\n      this.parent.observer.notify(EVENTS.KEY_DOWN_HANDLER, {\n        event: {\n          preventDefault: function () {\n            return;\n          },\n          stopPropagation: function () {\n            return;\n          },\n          shiftKey: e.subCommand === 'Indent' ? false : true,\n          which: 9,\n          action: 'indent'\n        },\n        ignoreDefault: true\n      });\n    }\n\n    for (var i = 0; i < indentsNodes.length; i++) {\n      var parentNode = indentsNodes[i];\n      var marginLeftOrRight = isRtl ? parentNode.style.marginRight : parentNode.style.marginLeft;\n      var indentsValue = void 0;\n\n      if (e.subCommand === 'Indent') {\n        /* eslint-disable */\n        indentsValue = marginLeftOrRight === '' ? this.indentValue + 'px' : parseInt(marginLeftOrRight, null) + this.indentValue + 'px';\n        isRtl ? parentNode.style.marginRight = indentsValue : parentNode.style.marginLeft = indentsValue;\n      } else {\n        indentsValue = marginLeftOrRight === '' || marginLeftOrRight === '0px' ? '' : parseInt(marginLeftOrRight, null) - this.indentValue + 'px';\n        isRtl ? parentNode.style.marginRight = indentsValue : parentNode.style.marginLeft = indentsValue;\n        /* eslint-enable */\n      }\n    }\n\n    editEle.focus();\n\n    if (isIDevice()) {\n      setEditFrameFocus(editEle, e.selector);\n    }\n\n    save = this.parent.domNode.saveMarker(save);\n    save.restore();\n\n    if (e.callBack) {\n      e.callBack({\n        requestType: e.subCommand,\n        editorMode: 'HTML',\n        event: e.event,\n        range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n        elements: this.parent.domNode.blockNodes()\n      });\n    }\n  };\n\n  return Indents;\n}();\n\nexport { Indents };","map":{"version":3,"sources":["/Users/yasaman/Documents/moj_adminpanel/adminpanel/node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/indents.js"],"names":["CONSTANT","EVENTS","isIDevice","setEditFrameFocus","Indents","parent","indentValue","addEventListener","prototype","observer","on","INDENT_TYPE","applyIndents","KEY_DOWN_HANDLER","onKeyDown","e","event","action","subCommand","callBack","preventDefault","editEle","editableElement","isRtl","classList","contains","range","nodeSelection","getRange","currentDocument","save","domNode","setMarker","indentsNodes","blockNodes","parentNodes","slice","listsNodes","i","length","tagName","parentNode","splice","indexOf","push","notify","stopPropagation","shiftKey","which","ignoreDefault","marginLeftOrRight","style","marginRight","marginLeft","indentsValue","parseInt","focus","selector","saveMarker","restore","requestType","editorMode","elements"],"mappings":"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","sourcesContent":["import * as CONSTANT from './../base/constant';\nimport * as EVENTS from './../../common/constant';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\n/**\n * Indents internal component\n *\n * @hidden\n\n */\nvar Indents = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element\n     * @hidden\n\n     */\n    function Indents(parent) {\n        this.indentValue = 20;\n        this.parent = parent;\n        this.addEventListener();\n    }\n    Indents.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.INDENT_TYPE, this.applyIndents, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown, this);\n    };\n    Indents.prototype.onKeyDown = function (e) {\n        switch (e.event.action) {\n            case 'indents':\n                this.applyIndents({ subCommand: 'Indent', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n            case 'outdents':\n                this.applyIndents({ subCommand: 'Outdent', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n        }\n    };\n    Indents.prototype.applyIndents = function (e) {\n        var editEle = this.parent.editableElement;\n        var isRtl = editEle.classList.contains('e-rtl');\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        var save = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n        this.parent.domNode.setMarker(save);\n        var indentsNodes = this.parent.domNode.blockNodes();\n        var parentNodes = indentsNodes.slice();\n        var listsNodes = [];\n        for (var i = 0; i < parentNodes.length; i++) {\n            if (parentNodes[i].tagName !== 'LI' && 'LI' === parentNodes[i].parentNode.tagName) {\n                indentsNodes.splice(indentsNodes.indexOf(parentNodes[i]), 1);\n                listsNodes.push(parentNodes[i].parentNode);\n            }\n            else if (parentNodes[i].tagName === 'LI') {\n                indentsNodes.splice(indentsNodes.indexOf(parentNodes[i]), 1);\n                listsNodes.push(parentNodes[i]);\n            }\n        }\n        if (listsNodes.length > 0) {\n            this.parent.observer.notify(EVENTS.KEY_DOWN_HANDLER, {\n                event: {\n                    preventDefault: function () {\n                        return;\n                    },\n                    stopPropagation: function () {\n                        return;\n                    },\n                    shiftKey: (e.subCommand === 'Indent' ? false : true),\n                    which: 9,\n                    action: 'indent'\n                },\n                ignoreDefault: true\n            });\n        }\n        for (var i = 0; i < indentsNodes.length; i++) {\n            var parentNode = indentsNodes[i];\n            var marginLeftOrRight = isRtl ? parentNode.style.marginRight : parentNode.style.marginLeft;\n            var indentsValue = void 0;\n            if (e.subCommand === 'Indent') {\n                /* eslint-disable */\n                indentsValue = marginLeftOrRight === '' ? this.indentValue + 'px' : parseInt(marginLeftOrRight, null) + this.indentValue + 'px';\n                isRtl ? (parentNode.style.marginRight = indentsValue) : (parentNode.style.marginLeft = indentsValue);\n            }\n            else {\n                indentsValue = (marginLeftOrRight === '' || marginLeftOrRight === '0px') ? '' : parseInt(marginLeftOrRight, null) - this.indentValue + 'px';\n                isRtl ? (parentNode.style.marginRight = indentsValue) : (parentNode.style.marginLeft = indentsValue);\n                /* eslint-enable */\n            }\n        }\n        editEle.focus();\n        if (isIDevice()) {\n            setEditFrameFocus(editEle, e.selector);\n        }\n        save = this.parent.domNode.saveMarker(save);\n        save.restore();\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.domNode.blockNodes()\n            });\n        }\n    };\n    return Indents;\n}());\nexport { Indents };\n"]},"metadata":{},"sourceType":"module"}