{"ast":null,"code":"import { closest, isNullOrUndefined, EventHandler } from '@syncfusion/ej2-base';\nimport { remove } from '@syncfusion/ej2-base';\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\nimport * as events from '../base/constant';\nimport { Resize } from '../actions/resize';\nimport { Page } from '../actions/page';\nimport { parentsUntil, applyBiggerTheme } from '../base/util';\nimport { Group } from '../actions/group';\nimport { Sort } from '../actions/sort';\nimport { PdfExport } from '../actions/pdf-export';\nimport { ExcelExport } from '../actions/excel-export';\nimport * as literals from '../base/string-literals';\nexport var menuClass = {\n  header: '.' + literals.gridHeader,\n  content: '.' + literals.gridContent,\n  edit: '.e-inline-edit',\n  batchEdit: '.e-editedbatchcell',\n  editIcon: 'e-edit',\n  pager: '.e-gridpager',\n  delete: 'e-delete',\n  save: 'e-save',\n  cancel: 'e-cancel',\n  copy: 'e-copy',\n  pdf: 'e-pdfexport',\n  group: 'e-icon-group',\n  ungroup: 'e-icon-ungroup',\n  csv: 'e-csvexport',\n  excel: 'e-excelexport',\n  fPage: 'e-icon-first',\n  nPage: 'e-icon-next',\n  lPage: 'e-icon-last',\n  pPage: 'e-icon-prev',\n  ascending: 'e-icon-ascending',\n  descending: 'e-icon-descending',\n  groupHeader: 'e-groupdroparea',\n  touchPop: 'e-gridpopup'\n};\n/**\n * The `ContextMenu` module is used to handle context menu actions.\n */\n\nvar ContextMenu =\n/** @class */\nfunction () {\n  function ContextMenu(parent, serviceLocator) {\n    this.defaultItems = {};\n    this.disableItems = [];\n    this.hiddenItems = [];\n    this.localeText = this.setLocaleKey();\n    this.parent = parent;\n    this.gridID = parent.element.id;\n    this.serviceLocator = serviceLocator;\n    this.addEventListener();\n  }\n  /**\n   * @returns {void}\n   * @hidden\n   */\n\n\n  ContextMenu.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.on(events.uiUpdate, this.enableAfterRenderMenu, this);\n    this.parent.on(events.initialLoad, this.render, this);\n    this.parent.on(events.destroy, this.destroy, this);\n  };\n  /**\n   * @returns {void}\n   * @hidden\n   */\n\n\n  ContextMenu.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.off(events.initialLoad, this.render);\n    this.parent.off(events.uiUpdate, this.enableAfterRenderMenu);\n    this.parent.off(events.destroy, this.destroy);\n    EventHandler.remove(this.element, 'keydown', this.keyDownHandler.bind(this));\n  };\n\n  ContextMenu.prototype.keyDownHandler = function (e) {\n    if (e.code === 'Tab' || e.which === 9) {\n      this.contextMenu.close();\n    }\n\n    if (e.code === 'Escape') {\n      this.contextMenu.close();\n      this.parent.notify(events.restoreFocus, {});\n    }\n  };\n\n  ContextMenu.prototype.render = function () {\n    this.parent.element.classList.add('e-noselect');\n    this.l10n = this.serviceLocator.getService('localization');\n    this.element = this.parent.createElement('ul', {\n      id: this.gridID + '_cmenu'\n    });\n    EventHandler.add(this.element, 'keydown', this.keyDownHandler.bind(this));\n    this.parent.element.appendChild(this.element);\n    var target = '#' + this.gridID;\n    this.contextMenu = new Menu({\n      items: this.getMenuItems(),\n      enableRtl: this.parent.enableRtl,\n      enablePersistence: this.parent.enablePersistence,\n      locale: this.parent.locale,\n      target: target,\n      select: this.contextMenuItemClick.bind(this),\n      beforeOpen: this.contextMenuBeforeOpen.bind(this),\n      onOpen: this.contextMenuOpen.bind(this),\n      onClose: this.contextMenuOnClose.bind(this),\n      cssClass: 'e-grid-menu'\n    });\n    this.contextMenu.appendTo(this.element);\n  };\n\n  ContextMenu.prototype.enableAfterRenderMenu = function (e) {\n    if (e.module === this.getModuleName() && e.enable) {\n      if (this.contextMenu) {\n        this.contextMenu.destroy();\n        remove(this.element);\n        this.parent.element.classList.remove('e-noselect');\n      }\n\n      this.render();\n    }\n  };\n\n  ContextMenu.prototype.getMenuItems = function () {\n    var menuItems = [];\n    var exportItems = [];\n\n    for (var _i = 0, _a = this.parent.contextMenuItems; _i < _a.length; _i++) {\n      var item = _a[_i];\n\n      if (typeof item === 'string' && this.getDefaultItems().indexOf(item) !== -1) {\n        if (item.toLocaleLowerCase().indexOf('export') !== -1) {\n          exportItems.push(this.buildDefaultItems(item));\n        } else {\n          menuItems.push(this.buildDefaultItems(item));\n        }\n      } else if (typeof item !== 'string') {\n        menuItems.push(item);\n      }\n    }\n\n    if (exportItems.length > 0) {\n      var exportGroup = this.buildDefaultItems('export');\n      exportGroup.items = exportItems;\n      menuItems.push(exportGroup);\n    }\n\n    return menuItems;\n  };\n\n  ContextMenu.prototype.getLastPage = function () {\n    var totalpage = Math.floor(this.parent.pageSettings.totalRecordsCount / this.parent.pageSettings.pageSize);\n\n    if (this.parent.pageSettings.totalRecordsCount % this.parent.pageSettings.pageSize) {\n      totalpage += 1;\n    }\n\n    return totalpage;\n  };\n\n  ContextMenu.prototype.contextMenuOpen = function () {\n    this.isOpen = true;\n  };\n  /**\n   * @param {ContextMenuClickEventArgs} args - specifies the ContextMenuClickEventArgs argument type\n   * @returns {void}\n   * @hidden\n   */\n\n\n  ContextMenu.prototype.contextMenuItemClick = function (args) {\n    var item = this.getKeyFromId(args.item.id);\n\n    switch (item) {\n      case 'AutoFitAll':\n        this.parent.autoFitColumns([]);\n        break;\n\n      case 'AutoFit':\n        this.parent.autoFitColumns(this.targetColumn.field);\n        break;\n\n      case 'Group':\n        this.parent.groupColumn(this.targetColumn.field);\n        break;\n\n      case 'Ungroup':\n        this.parent.ungroupColumn(this.targetColumn.field);\n        break;\n\n      case 'Edit':\n        if (this.parent.editModule) {\n          if (this.parent.editSettings.mode === 'Batch') {\n            if (this.row && this.cell && !isNaN(parseInt(this.cell.getAttribute(literals.ariaColIndex), 10))) {\n              this.parent.editModule.editCell(parseInt(this.row.getAttribute(literals.ariaRowIndex), 10), // eslint-disable-next-line\n              this.parent.getColumns()[parseInt(this.cell.getAttribute(literals.ariaColIndex), 10)].field);\n            }\n          } else {\n            this.parent.editModule.endEdit();\n            this.parent.editModule.startEdit(this.row);\n          }\n        }\n\n        break;\n\n      case 'Delete':\n        if (this.parent.editModule) {\n          if (this.parent.editSettings.mode !== 'Batch') {\n            this.parent.editModule.endEdit();\n          }\n\n          if (this.parent.getSelectedRecords().length === 1) {\n            this.parent.editModule.deleteRow(this.row);\n          } else {\n            this.parent.deleteRecord();\n          }\n        }\n\n        break;\n\n      case 'Save':\n        if (this.parent.editModule) {\n          this.parent.editModule.endEdit();\n        }\n\n        break;\n\n      case 'Cancel':\n        if (this.parent.editModule) {\n          this.parent.editModule.closeEdit();\n        }\n\n        break;\n\n      case 'Copy':\n        this.parent.copy();\n        break;\n\n      case 'PdfExport':\n        this.parent.pdfExport();\n        break;\n\n      case 'ExcelExport':\n        this.parent.excelExport();\n        break;\n\n      case 'CsvExport':\n        this.parent.csvExport();\n        break;\n\n      case 'SortAscending':\n        this.isOpen = false;\n        this.parent.sortColumn(this.targetColumn.field, 'Ascending');\n        break;\n\n      case 'SortDescending':\n        this.isOpen = false;\n        this.parent.sortColumn(this.targetColumn.field, 'Descending');\n        break;\n\n      case 'FirstPage':\n        this.parent.goToPage(1);\n        break;\n\n      case 'PrevPage':\n        this.parent.goToPage(this.parent.pageSettings.currentPage - 1);\n        break;\n\n      case 'LastPage':\n        this.parent.goToPage(this.getLastPage());\n        break;\n\n      case 'NextPage':\n        this.parent.goToPage(this.parent.pageSettings.currentPage + 1);\n        break;\n    }\n\n    args.column = this.targetColumn;\n    args.rowInfo = this.targetRowdata;\n    this.parent.trigger(events.contextMenuClick, args);\n  };\n\n  ContextMenu.prototype.contextMenuOnClose = function (args) {\n    var parent = 'parentObj';\n\n    if (args.items.length > 0 && args.items[0][parent] instanceof Menu) {\n      this.updateItemStatus();\n    }\n\n    this.parent.notify(events.selectRowOnContextOpen, {\n      isOpen: false\n    });\n  };\n\n  ContextMenu.prototype.getLocaleText = function (item) {\n    return this.l10n.getConstant(this.localeText[item]);\n  };\n\n  ContextMenu.prototype.updateItemStatus = function () {\n    this.contextMenu.showItems(this.hiddenItems);\n    this.contextMenu.enableItems(this.disableItems);\n    this.hiddenItems = [];\n    this.disableItems = [];\n    this.isOpen = false;\n  };\n\n  ContextMenu.prototype.contextMenuBeforeOpen = function (args) {\n    var closestGrid = closest(args.event.target, '.e-grid');\n\n    if (args.event && closestGrid && closestGrid !== this.parent.element) {\n      args.cancel = true;\n    } else if (args.event && (closest(args.event.target, '.' + menuClass.groupHeader) || closest(args.event.target, '.' + menuClass.touchPop) || closest(args.event.target, '.e-summarycell') || closest(args.event.target, '.e-groupcaption') || closest(args.event.target, '.e-filterbarcell'))) {\n      args.cancel = true;\n    } else {\n      this.targetColumn = this.getColumn(args.event);\n      this.targetRowdata = this.parent.getRowInfo(args.event.target);\n\n      if (isNullOrUndefined(args.parentItem) && this.targetColumn) {\n        if (this.targetRowdata.cell) {\n          this.parent.notify(events.selectRowOnContextOpen, {\n            isOpen: true\n          });\n          this.selectRow(args.event, this.targetRowdata.cell.classList.contains('e-selectionbackground') && this.parent.selectionSettings.type === 'Multiple' ? false : true);\n        }\n      }\n\n      var hideSepItems = [];\n      var showSepItems = [];\n\n      for (var _i = 0, _a = args.items; _i < _a.length; _i++) {\n        var item = _a[_i];\n        var key = this.getKeyFromId(item.id);\n        var dItem = this.defaultItems[key];\n\n        if (this.getDefaultItems().indexOf(key) !== -1) {\n          if (this.ensureDisabledStatus(key)) {\n            this.disableItems.push(item.text);\n          }\n\n          if (args.event && (this.ensureTarget(args.event.target, menuClass.edit) || this.ensureTarget(args.event.target, menuClass.batchEdit))) {\n            if (key !== 'Save' && key !== 'Cancel') {\n              this.hiddenItems.push(item.text);\n            }\n          } else if (this.parent.editModule && this.parent.editSettings.mode === 'Batch' && (closest(args.event.target, '.e-gridform') || this.parent.editModule.getBatchChanges()[literals.changedRecords].length || this.parent.editModule.getBatchChanges()[literals.addedRecords].length || this.parent.editModule.getBatchChanges()[literals.deletedRecords].length) && (key === 'Save' || key === 'Cancel')) {\n            continue;\n          } else if (isNullOrUndefined(args.parentItem) && args.event && !this.ensureTarget(args.event.target, dItem.target)) {\n            this.hiddenItems.push(item.text);\n          }\n        } else if (item.target && args.event && !this.ensureTarget(args.event.target, item.target)) {\n          if (item.separator) {\n            hideSepItems.push(item.id);\n          } else {\n            this.hiddenItems.push(item.text);\n          }\n        } else if (this.ensureTarget(args.event.target, item.target) && item.separator) {\n          showSepItems.push(item.id);\n        }\n      }\n\n      if (showSepItems.length > 0) {\n        this.contextMenu.showItems(showSepItems, true);\n      }\n\n      this.contextMenu.enableItems(this.disableItems, false);\n      this.contextMenu.hideItems(this.hiddenItems);\n\n      if (hideSepItems.length > 0) {\n        this.contextMenu.hideItems(hideSepItems, true);\n      }\n\n      this.eventArgs = args.event;\n      args.column = this.targetColumn;\n      args.rowInfo = this.targetRowdata;\n      this.parent.trigger(events.contextMenuOpen, args);\n\n      if (args.cancel || this.hiddenItems.length === args.items.length && !args.parentItem) {\n        this.updateItemStatus();\n        args.cancel = true;\n      }\n    }\n\n    applyBiggerTheme(this.parent.element, this.contextMenu.element.parentElement);\n  };\n\n  ContextMenu.prototype.ensureTarget = function (targetElement, selector) {\n    var target = targetElement;\n\n    if (this.ensureFrozenHeader(targetElement) && (selector === menuClass.header || selector === menuClass.content)) {\n      target = closest(targetElement, selector === menuClass.header ? 'thead' : literals.tbody);\n    } else if (selector === menuClass.content || selector === menuClass.header) {\n      target = parentsUntil(closest(targetElement, '.' + literals.table), selector.substr(1, selector.length));\n    } else {\n      target = closest(targetElement, selector);\n    }\n\n    return target && parentsUntil(target, 'e-grid') === this.parent.element;\n  };\n\n  ContextMenu.prototype.ensureFrozenHeader = function (targetElement) {\n    return (this.parent.isFrozenGrid() || this.parent.frozenRows) && closest(targetElement, menuClass.header) ? true : false;\n  };\n\n  ContextMenu.prototype.ensureDisabledStatus = function (item) {\n    var status = false;\n\n    switch (item) {\n      case 'AutoFitAll':\n      case 'AutoFit':\n        status = !(this.parent.ensureModuleInjected(Resize) && !this.parent.isEdit) || this.targetColumn && !this.targetColumn.field && item === 'AutoFit';\n        break;\n\n      case 'Group':\n        if (!this.parent.allowGrouping || this.parent.ensureModuleInjected(Group) && this.targetColumn && this.parent.groupSettings.columns.indexOf(this.targetColumn.field) >= 0 || this.targetColumn && !this.targetColumn.field) {\n          status = true;\n        }\n\n        break;\n\n      case 'Ungroup':\n        if (!this.parent.allowGrouping || !this.parent.ensureModuleInjected(Group) || this.parent.ensureModuleInjected(Group) && this.targetColumn && this.parent.groupSettings.columns.indexOf(this.targetColumn.field) < 0) {\n          status = true;\n        }\n\n        break;\n\n      case 'Edit':\n      case 'Delete':\n      case 'Save':\n      case 'Cancel':\n        if (!this.parent.editModule || this.parent.getDataRows().length === 0) {\n          status = true;\n        }\n\n        break;\n\n      case 'Copy':\n        if (this.parent.getSelectedRowIndexes().length === 0 && this.parent.getSelectedRowCellIndexes().length === 0 || this.parent.getCurrentViewRecords().length === 0) {\n          status = true;\n        }\n\n        break;\n\n      case 'export':\n        if (!this.parent.allowExcelExport || !this.parent.excelExport || !this.parent.ensureModuleInjected(PdfExport) && !this.parent.ensureModuleInjected(ExcelExport)) {\n          status = true;\n        }\n\n        break;\n\n      case 'PdfExport':\n        if (!this.parent.allowPdfExport || !this.parent.ensureModuleInjected(PdfExport)) {\n          status = true;\n        }\n\n        break;\n\n      case 'ExcelExport':\n      case 'CsvExport':\n        if (!this.parent.allowExcelExport || !this.parent.ensureModuleInjected(ExcelExport)) {\n          status = true;\n        }\n\n        break;\n\n      case 'SortAscending':\n      case 'SortDescending':\n        if (!this.parent.allowSorting || !this.parent.ensureModuleInjected(Sort) || this.targetColumn && !this.targetColumn.field) {\n          status = true;\n        } else if (this.parent.ensureModuleInjected(Sort) && this.parent.sortSettings.columns.length > 0 && this.targetColumn) {\n          var sortColumns = this.parent.sortSettings.columns;\n\n          for (var i = 0; i < sortColumns.length; i++) {\n            if (sortColumns[i].field === this.targetColumn.field && sortColumns[i].direction.toLowerCase() === item.toLowerCase().replace('sort', '').toLocaleLowerCase()) {\n              status = true;\n            }\n          }\n        }\n\n        break;\n\n      case 'FirstPage':\n      case 'PrevPage':\n        if (!this.parent.allowPaging || !this.parent.ensureModuleInjected(Page) || this.parent.getCurrentViewRecords().length === 0 || this.parent.ensureModuleInjected(Page) && this.parent.pageSettings.currentPage === 1) {\n          status = true;\n        }\n\n        break;\n\n      case 'LastPage':\n      case 'NextPage':\n        if (!this.parent.allowPaging || !this.parent.ensureModuleInjected(Page) || this.parent.getCurrentViewRecords().length === 0 || this.parent.ensureModuleInjected(Page) && this.parent.pageSettings.currentPage === this.getLastPage()) {\n          status = true;\n        }\n\n        break;\n    }\n\n    return status;\n  };\n  /**\n   * Gets the context menu element from the Grid.\n   *\n   * @returns {Element} returns the element\n   */\n\n\n  ContextMenu.prototype.getContextMenu = function () {\n    return this.element;\n  };\n  /**\n   * Destroys the context menu component in the Grid.\n   *\n   * @function destroy\n   * @returns {void}\n   * @hidden\n   */\n\n\n  ContextMenu.prototype.destroy = function () {\n    var gridElement = this.parent.element;\n\n    if (!gridElement || !gridElement.querySelector('.' + literals.gridHeader) && !gridElement.querySelector('.' + literals.gridContent)) {\n      return;\n    }\n\n    this.contextMenu.destroy();\n\n    if (this.element.parentNode) {\n      remove(this.element);\n    }\n\n    this.removeEventListener();\n    this.parent.element.classList.remove('e-noselect');\n  };\n\n  ContextMenu.prototype.getModuleName = function () {\n    return 'contextMenu';\n  };\n\n  ContextMenu.prototype.generateID = function (item) {\n    return this.gridID + '_cmenu_' + item;\n  };\n\n  ContextMenu.prototype.getKeyFromId = function (id) {\n    return id.replace(this.gridID + '_cmenu_', '');\n  };\n\n  ContextMenu.prototype.buildDefaultItems = function (item) {\n    var menuItem;\n\n    switch (item) {\n      case 'AutoFitAll':\n      case 'AutoFit':\n        menuItem = {\n          target: menuClass.header\n        };\n        break;\n\n      case 'Group':\n        menuItem = {\n          target: menuClass.header,\n          iconCss: menuClass.group\n        };\n        break;\n\n      case 'Ungroup':\n        menuItem = {\n          target: menuClass.header,\n          iconCss: menuClass.ungroup\n        };\n        break;\n\n      case 'Edit':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.editIcon\n        };\n        break;\n\n      case 'Delete':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.delete\n        };\n        break;\n\n      case 'Save':\n        menuItem = {\n          target: menuClass.edit,\n          iconCss: menuClass.save\n        };\n        break;\n\n      case 'Cancel':\n        menuItem = {\n          target: menuClass.edit,\n          iconCss: menuClass.cancel\n        };\n        break;\n\n      case 'Copy':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.copy\n        };\n        break;\n\n      case 'export':\n        menuItem = {\n          target: menuClass.content\n        };\n        break;\n\n      case 'PdfExport':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.pdf\n        };\n        break;\n\n      case 'ExcelExport':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.excel\n        };\n        break;\n\n      case 'CsvExport':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.csv\n        };\n        break;\n\n      case 'SortAscending':\n        menuItem = {\n          target: menuClass.header,\n          iconCss: menuClass.ascending\n        };\n        break;\n\n      case 'SortDescending':\n        menuItem = {\n          target: menuClass.header,\n          iconCss: menuClass.descending\n        };\n        break;\n\n      case 'FirstPage':\n        menuItem = {\n          target: menuClass.pager,\n          iconCss: menuClass.fPage\n        };\n        break;\n\n      case 'PrevPage':\n        menuItem = {\n          target: menuClass.pager,\n          iconCss: menuClass.pPage\n        };\n        break;\n\n      case 'LastPage':\n        menuItem = {\n          target: menuClass.pager,\n          iconCss: menuClass.lPage\n        };\n        break;\n\n      case 'NextPage':\n        menuItem = {\n          target: menuClass.pager,\n          iconCss: menuClass.nPage\n        };\n        break;\n    }\n\n    this.defaultItems[item] = {\n      text: this.getLocaleText(item),\n      id: this.generateID(item),\n      target: menuItem.target,\n      iconCss: menuItem.iconCss ? 'e-icons ' + menuItem.iconCss : ''\n    };\n    return this.defaultItems[item];\n  };\n\n  ContextMenu.prototype.getDefaultItems = function () {\n    return ['AutoFitAll', 'AutoFit', 'Group', 'Ungroup', 'Edit', 'Delete', 'Save', 'Cancel', 'Copy', 'export', 'PdfExport', 'ExcelExport', 'CsvExport', 'SortAscending', 'SortDescending', 'FirstPage', 'PrevPage', 'LastPage', 'NextPage'];\n  };\n\n  ContextMenu.prototype.setLocaleKey = function () {\n    var localeKeys = {\n      'AutoFitAll': 'autoFitAll',\n      'AutoFit': 'autoFit',\n      'Copy': 'Copy',\n      'Group': 'Group',\n      'Ungroup': 'Ungroup',\n      'Edit': 'EditRecord',\n      'Delete': 'DeleteRecord',\n      'Save': 'Save',\n      'Cancel': 'CancelButton',\n      'PdfExport': 'Pdfexport',\n      'ExcelExport': 'Excelexport',\n      'CsvExport': 'Csvexport',\n      'export': 'Export',\n      'SortAscending': 'SortAscending',\n      'SortDescending': 'SortDescending',\n      'FirstPage': 'FirstPage',\n      'LastPage': 'LastPage',\n      'PrevPage': 'PreviousPage',\n      'NextPage': 'NextPage'\n    };\n    return localeKeys;\n  };\n\n  ContextMenu.prototype.getColumn = function (e) {\n    var cell = closest(e.target, 'th.e-headercell');\n\n    if (cell) {\n      var uid = cell.querySelector('.e-headercelldiv, .e-stackedheadercelldiv').getAttribute('e-mappinguid');\n      return this.parent.getColumnByUid(uid);\n    } else {\n      var ele = this.parent.getRowInfo(e.target).column;\n      return ele || null;\n    }\n  };\n\n  ContextMenu.prototype.selectRow = function (e, isSelectable) {\n    this.cell = e.target;\n    this.row = closest(e.target, 'tr.e-row') || this.row;\n\n    if (this.row && isSelectable && !parentsUntil(e.target, 'e-gridpager')) {\n      this.parent.selectRow(parseInt(this.row.getAttribute(literals.ariaRowIndex), 10));\n    }\n  };\n\n  return ContextMenu;\n}();\n\nexport { ContextMenu };","map":{"version":3,"sources":["/Users/yasaman/Documents/moj_adminpanel/adminpanel/node_modules/@syncfusion/ej2-grids/src/grid/actions/context-menu.js"],"names":["closest","isNullOrUndefined","EventHandler","remove","ContextMenu","Menu","events","Resize","Page","parentsUntil","applyBiggerTheme","Group","Sort","PdfExport","ExcelExport","literals","menuClass","header","gridHeader","content","gridContent","edit","batchEdit","editIcon","pager","delete","save","cancel","copy","pdf","group","ungroup","csv","excel","fPage","nPage","lPage","pPage","ascending","descending","groupHeader","touchPop","parent","serviceLocator","defaultItems","disableItems","hiddenItems","localeText","setLocaleKey","gridID","element","id","addEventListener","prototype","isDestroyed","on","uiUpdate","enableAfterRenderMenu","initialLoad","render","destroy","removeEventListener","off","keyDownHandler","bind","e","code","which","contextMenu","close","notify","restoreFocus","classList","add","l10n","getService","createElement","appendChild","target","items","getMenuItems","enableRtl","enablePersistence","locale","select","contextMenuItemClick","beforeOpen","contextMenuBeforeOpen","onOpen","contextMenuOpen","onClose","contextMenuOnClose","cssClass","appendTo","module","getModuleName","enable","menuItems","exportItems","_i","_a","contextMenuItems","length","item","getDefaultItems","indexOf","toLocaleLowerCase","push","buildDefaultItems","exportGroup","getLastPage","totalpage","Math","floor","pageSettings","totalRecordsCount","pageSize","isOpen","args","getKeyFromId","autoFitColumns","targetColumn","field","groupColumn","ungroupColumn","editModule","editSettings","mode","row","cell","isNaN","parseInt","getAttribute","ariaColIndex","editCell","ariaRowIndex","getColumns","endEdit","startEdit","getSelectedRecords","deleteRow","deleteRecord","closeEdit","pdfExport","excelExport","csvExport","sortColumn","goToPage","currentPage","column","rowInfo","targetRowdata","trigger","contextMenuClick","updateItemStatus","selectRowOnContextOpen","getLocaleText","getConstant","showItems","enableItems","closestGrid","event","getColumn","getRowInfo","parentItem","selectRow","contains","selectionSettings","type","hideSepItems","showSepItems","key","dItem","ensureDisabledStatus","text","ensureTarget","getBatchChanges","changedRecords","addedRecords","deletedRecords","separator","hideItems","eventArgs","parentElement","targetElement","selector","ensureFrozenHeader","tbody","table","substr","isFrozenGrid","frozenRows","status","ensureModuleInjected","isEdit","allowGrouping","groupSettings","columns","getDataRows","getSelectedRowIndexes","getSelectedRowCellIndexes","getCurrentViewRecords","allowExcelExport","allowPdfExport","allowSorting","sortSettings","sortColumns","i","direction","toLowerCase","replace","allowPaging","getContextMenu","gridElement","querySelector","parentNode","generateID","menuItem","iconCss","localeKeys","uid","getColumnByUid","ele","isSelectable"],"mappings":"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","sourcesContent":["import { closest, isNullOrUndefined, EventHandler } from '@syncfusion/ej2-base';\nimport { remove } from '@syncfusion/ej2-base';\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\nimport * as events from '../base/constant';\nimport { Resize } from '../actions/resize';\nimport { Page } from '../actions/page';\nimport { parentsUntil, applyBiggerTheme } from '../base/util';\nimport { Group } from '../actions/group';\nimport { Sort } from '../actions/sort';\nimport { PdfExport } from '../actions/pdf-export';\nimport { ExcelExport } from '../actions/excel-export';\nimport * as literals from '../base/string-literals';\nexport var menuClass = {\n    header: '.' + literals.gridHeader,\n    content: '.' + literals.gridContent,\n    edit: '.e-inline-edit',\n    batchEdit: '.e-editedbatchcell',\n    editIcon: 'e-edit',\n    pager: '.e-gridpager',\n    delete: 'e-delete',\n    save: 'e-save',\n    cancel: 'e-cancel',\n    copy: 'e-copy',\n    pdf: 'e-pdfexport',\n    group: 'e-icon-group',\n    ungroup: 'e-icon-ungroup',\n    csv: 'e-csvexport',\n    excel: 'e-excelexport',\n    fPage: 'e-icon-first',\n    nPage: 'e-icon-next',\n    lPage: 'e-icon-last',\n    pPage: 'e-icon-prev',\n    ascending: 'e-icon-ascending',\n    descending: 'e-icon-descending',\n    groupHeader: 'e-groupdroparea',\n    touchPop: 'e-gridpopup'\n};\n/**\n * The `ContextMenu` module is used to handle context menu actions.\n */\nvar ContextMenu = /** @class */ (function () {\n    function ContextMenu(parent, serviceLocator) {\n        this.defaultItems = {};\n        this.disableItems = [];\n        this.hiddenItems = [];\n        this.localeText = this.setLocaleKey();\n        this.parent = parent;\n        this.gridID = parent.element.id;\n        this.serviceLocator = serviceLocator;\n        this.addEventListener();\n    }\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    ContextMenu.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.uiUpdate, this.enableAfterRenderMenu, this);\n        this.parent.on(events.initialLoad, this.render, this);\n        this.parent.on(events.destroy, this.destroy, this);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    ContextMenu.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initialLoad, this.render);\n        this.parent.off(events.uiUpdate, this.enableAfterRenderMenu);\n        this.parent.off(events.destroy, this.destroy);\n        EventHandler.remove(this.element, 'keydown', this.keyDownHandler.bind(this));\n    };\n    ContextMenu.prototype.keyDownHandler = function (e) {\n        if (e.code === 'Tab' || e.which === 9) {\n            this.contextMenu.close();\n        }\n        if (e.code === 'Escape') {\n            this.contextMenu.close();\n            this.parent.notify(events.restoreFocus, {});\n        }\n    };\n    ContextMenu.prototype.render = function () {\n        this.parent.element.classList.add('e-noselect');\n        this.l10n = this.serviceLocator.getService('localization');\n        this.element = this.parent.createElement('ul', { id: this.gridID + '_cmenu' });\n        EventHandler.add(this.element, 'keydown', this.keyDownHandler.bind(this));\n        this.parent.element.appendChild(this.element);\n        var target = '#' + this.gridID;\n        this.contextMenu = new Menu({\n            items: this.getMenuItems(),\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            locale: this.parent.locale,\n            target: target,\n            select: this.contextMenuItemClick.bind(this),\n            beforeOpen: this.contextMenuBeforeOpen.bind(this),\n            onOpen: this.contextMenuOpen.bind(this),\n            onClose: this.contextMenuOnClose.bind(this),\n            cssClass: 'e-grid-menu'\n        });\n        this.contextMenu.appendTo(this.element);\n    };\n    ContextMenu.prototype.enableAfterRenderMenu = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            if (this.contextMenu) {\n                this.contextMenu.destroy();\n                remove(this.element);\n                this.parent.element.classList.remove('e-noselect');\n            }\n            this.render();\n        }\n    };\n    ContextMenu.prototype.getMenuItems = function () {\n        var menuItems = [];\n        var exportItems = [];\n        for (var _i = 0, _a = this.parent.contextMenuItems; _i < _a.length; _i++) {\n            var item = _a[_i];\n            if (typeof item === 'string' && this.getDefaultItems().indexOf(item) !== -1) {\n                if (item.toLocaleLowerCase().indexOf('export') !== -1) {\n                    exportItems.push(this.buildDefaultItems(item));\n                }\n                else {\n                    menuItems.push(this.buildDefaultItems(item));\n                }\n            }\n            else if (typeof item !== 'string') {\n                menuItems.push(item);\n            }\n        }\n        if (exportItems.length > 0) {\n            var exportGroup = this.buildDefaultItems('export');\n            exportGroup.items = exportItems;\n            menuItems.push(exportGroup);\n        }\n        return menuItems;\n    };\n    ContextMenu.prototype.getLastPage = function () {\n        var totalpage = Math.floor(this.parent.pageSettings.totalRecordsCount / this.parent.pageSettings.pageSize);\n        if (this.parent.pageSettings.totalRecordsCount % this.parent.pageSettings.pageSize) {\n            totalpage += 1;\n        }\n        return totalpage;\n    };\n    ContextMenu.prototype.contextMenuOpen = function () {\n        this.isOpen = true;\n    };\n    /**\n     * @param {ContextMenuClickEventArgs} args - specifies the ContextMenuClickEventArgs argument type\n     * @returns {void}\n     * @hidden\n     */\n    ContextMenu.prototype.contextMenuItemClick = function (args) {\n        var item = this.getKeyFromId(args.item.id);\n        switch (item) {\n            case 'AutoFitAll':\n                this.parent.autoFitColumns([]);\n                break;\n            case 'AutoFit':\n                this.parent.autoFitColumns(this.targetColumn.field);\n                break;\n            case 'Group':\n                this.parent.groupColumn(this.targetColumn.field);\n                break;\n            case 'Ungroup':\n                this.parent.ungroupColumn(this.targetColumn.field);\n                break;\n            case 'Edit':\n                if (this.parent.editModule) {\n                    if (this.parent.editSettings.mode === 'Batch') {\n                        if (this.row && this.cell && !isNaN(parseInt(this.cell.getAttribute(literals.ariaColIndex), 10))) {\n                            this.parent.editModule.editCell(parseInt(this.row.getAttribute(literals.ariaRowIndex), 10), \n                            // eslint-disable-next-line\n                            this.parent.getColumns()[parseInt(this.cell.getAttribute(literals.ariaColIndex), 10)].field);\n                        }\n                    }\n                    else {\n                        this.parent.editModule.endEdit();\n                        this.parent.editModule.startEdit(this.row);\n                    }\n                }\n                break;\n            case 'Delete':\n                if (this.parent.editModule) {\n                    if (this.parent.editSettings.mode !== 'Batch') {\n                        this.parent.editModule.endEdit();\n                    }\n                    if (this.parent.getSelectedRecords().length === 1) {\n                        this.parent.editModule.deleteRow(this.row);\n                    }\n                    else {\n                        this.parent.deleteRecord();\n                    }\n                }\n                break;\n            case 'Save':\n                if (this.parent.editModule) {\n                    this.parent.editModule.endEdit();\n                }\n                break;\n            case 'Cancel':\n                if (this.parent.editModule) {\n                    this.parent.editModule.closeEdit();\n                }\n                break;\n            case 'Copy':\n                this.parent.copy();\n                break;\n            case 'PdfExport':\n                this.parent.pdfExport();\n                break;\n            case 'ExcelExport':\n                this.parent.excelExport();\n                break;\n            case 'CsvExport':\n                this.parent.csvExport();\n                break;\n            case 'SortAscending':\n                this.isOpen = false;\n                this.parent.sortColumn(this.targetColumn.field, 'Ascending');\n                break;\n            case 'SortDescending':\n                this.isOpen = false;\n                this.parent.sortColumn(this.targetColumn.field, 'Descending');\n                break;\n            case 'FirstPage':\n                this.parent.goToPage(1);\n                break;\n            case 'PrevPage':\n                this.parent.goToPage(this.parent.pageSettings.currentPage - 1);\n                break;\n            case 'LastPage':\n                this.parent.goToPage(this.getLastPage());\n                break;\n            case 'NextPage':\n                this.parent.goToPage(this.parent.pageSettings.currentPage + 1);\n                break;\n        }\n        args.column = this.targetColumn;\n        args.rowInfo = this.targetRowdata;\n        this.parent.trigger(events.contextMenuClick, args);\n    };\n    ContextMenu.prototype.contextMenuOnClose = function (args) {\n        var parent = 'parentObj';\n        if (args.items.length > 0 && args.items[0][parent] instanceof Menu) {\n            this.updateItemStatus();\n        }\n        this.parent.notify(events.selectRowOnContextOpen, { isOpen: false });\n    };\n    ContextMenu.prototype.getLocaleText = function (item) {\n        return this.l10n.getConstant(this.localeText[item]);\n    };\n    ContextMenu.prototype.updateItemStatus = function () {\n        this.contextMenu.showItems(this.hiddenItems);\n        this.contextMenu.enableItems(this.disableItems);\n        this.hiddenItems = [];\n        this.disableItems = [];\n        this.isOpen = false;\n    };\n    ContextMenu.prototype.contextMenuBeforeOpen = function (args) {\n        var closestGrid = closest(args.event.target, '.e-grid');\n        if (args.event && closestGrid && closestGrid !== this.parent.element) {\n            args.cancel = true;\n        }\n        else if (args.event && (closest(args.event.target, '.' + menuClass.groupHeader)\n            || closest(args.event.target, '.' + menuClass.touchPop) ||\n            closest(args.event.target, '.e-summarycell') ||\n            closest(args.event.target, '.e-groupcaption') ||\n            closest(args.event.target, '.e-filterbarcell'))) {\n            args.cancel = true;\n        }\n        else {\n            this.targetColumn = this.getColumn(args.event);\n            this.targetRowdata = this.parent.getRowInfo(args.event.target);\n            if ((isNullOrUndefined(args.parentItem)) && this.targetColumn) {\n                if (this.targetRowdata.cell) {\n                    this.parent.notify(events.selectRowOnContextOpen, { isOpen: true });\n                    this.selectRow(args.event, (this.targetRowdata.cell.classList.contains('e-selectionbackground')\n                        && this.parent.selectionSettings.type === 'Multiple') ? false : true);\n                }\n            }\n            var hideSepItems = [];\n            var showSepItems = [];\n            for (var _i = 0, _a = args.items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                var key = this.getKeyFromId(item.id);\n                var dItem = this.defaultItems[key];\n                if (this.getDefaultItems().indexOf(key) !== -1) {\n                    if (this.ensureDisabledStatus(key)) {\n                        this.disableItems.push(item.text);\n                    }\n                    if (args.event && (this.ensureTarget(args.event.target, menuClass.edit) ||\n                        this.ensureTarget(args.event.target, menuClass.batchEdit))) {\n                        if (key !== 'Save' && key !== 'Cancel') {\n                            this.hiddenItems.push(item.text);\n                        }\n                    }\n                    else if (this.parent.editModule && this.parent.editSettings.mode === 'Batch' &&\n                        ((closest(args.event.target, '.e-gridform')) ||\n                            this.parent.editModule.getBatchChanges()[literals.changedRecords].length ||\n                            this.parent.editModule.getBatchChanges()[literals.addedRecords].length ||\n                            this.parent.editModule.getBatchChanges()[literals.deletedRecords].length) && (key === 'Save' || key === 'Cancel')) {\n                        continue;\n                    }\n                    else if (isNullOrUndefined(args.parentItem) && args.event\n                        && !this.ensureTarget(args.event.target, dItem.target)) {\n                        this.hiddenItems.push(item.text);\n                    }\n                }\n                else if (item.target && args.event &&\n                    !this.ensureTarget(args.event.target, item.target)) {\n                    if (item.separator) {\n                        hideSepItems.push(item.id);\n                    }\n                    else {\n                        this.hiddenItems.push(item.text);\n                    }\n                }\n                else if (this.ensureTarget(args.event.target, item.target) && item.separator) {\n                    showSepItems.push(item.id);\n                }\n            }\n            if (showSepItems.length > 0) {\n                this.contextMenu.showItems(showSepItems, true);\n            }\n            this.contextMenu.enableItems(this.disableItems, false);\n            this.contextMenu.hideItems(this.hiddenItems);\n            if (hideSepItems.length > 0) {\n                this.contextMenu.hideItems(hideSepItems, true);\n            }\n            this.eventArgs = args.event;\n            args.column = this.targetColumn;\n            args.rowInfo = this.targetRowdata;\n            this.parent.trigger(events.contextMenuOpen, args);\n            if (args.cancel || (this.hiddenItems.length === args.items.length && !args.parentItem)) {\n                this.updateItemStatus();\n                args.cancel = true;\n            }\n        }\n        applyBiggerTheme(this.parent.element, this.contextMenu.element.parentElement);\n    };\n    ContextMenu.prototype.ensureTarget = function (targetElement, selector) {\n        var target = targetElement;\n        if (this.ensureFrozenHeader(targetElement) && (selector === menuClass.header || selector === menuClass.content)) {\n            target = closest(targetElement, selector === menuClass.header ? 'thead' : literals.tbody);\n        }\n        else if (selector === menuClass.content || selector === menuClass.header) {\n            target = parentsUntil(closest(targetElement, '.' + literals.table), selector.substr(1, selector.length));\n        }\n        else {\n            target = closest(targetElement, selector);\n        }\n        return target && parentsUntil(target, 'e-grid') === this.parent.element;\n    };\n    ContextMenu.prototype.ensureFrozenHeader = function (targetElement) {\n        return (this.parent.isFrozenGrid() || this.parent.frozenRows)\n            && closest(targetElement, menuClass.header) ? true : false;\n    };\n    ContextMenu.prototype.ensureDisabledStatus = function (item) {\n        var status = false;\n        switch (item) {\n            case 'AutoFitAll':\n            case 'AutoFit':\n                status = !(this.parent.ensureModuleInjected(Resize) && !this.parent.isEdit)\n                    || (this.targetColumn && !this.targetColumn.field && item === 'AutoFit');\n                break;\n            case 'Group':\n                if (!this.parent.allowGrouping || (this.parent.ensureModuleInjected(Group) && this.targetColumn\n                    && this.parent.groupSettings.columns.indexOf(this.targetColumn.field) >= 0) ||\n                    (this.targetColumn && !this.targetColumn.field)) {\n                    status = true;\n                }\n                break;\n            case 'Ungroup':\n                if (!this.parent.allowGrouping || !this.parent.ensureModuleInjected(Group)\n                    || (this.parent.ensureModuleInjected(Group) && this.targetColumn\n                        && this.parent.groupSettings.columns.indexOf(this.targetColumn.field) < 0)) {\n                    status = true;\n                }\n                break;\n            case 'Edit':\n            case 'Delete':\n            case 'Save':\n            case 'Cancel':\n                if (!this.parent.editModule || (this.parent.getDataRows().length === 0)) {\n                    status = true;\n                }\n                break;\n            case 'Copy':\n                if ((this.parent.getSelectedRowIndexes().length === 0 && this.parent.getSelectedRowCellIndexes().length === 0) ||\n                    this.parent.getCurrentViewRecords().length === 0) {\n                    status = true;\n                }\n                break;\n            case 'export':\n                if ((!this.parent.allowExcelExport || !this.parent.excelExport) ||\n                    !this.parent.ensureModuleInjected(PdfExport) && !this.parent.ensureModuleInjected(ExcelExport)) {\n                    status = true;\n                }\n                break;\n            case 'PdfExport':\n                if (!(this.parent.allowPdfExport) || !this.parent.ensureModuleInjected(PdfExport)) {\n                    status = true;\n                }\n                break;\n            case 'ExcelExport':\n            case 'CsvExport':\n                if (!(this.parent.allowExcelExport) || !this.parent.ensureModuleInjected(ExcelExport)) {\n                    status = true;\n                }\n                break;\n            case 'SortAscending':\n            case 'SortDescending':\n                if ((!this.parent.allowSorting) || !this.parent.ensureModuleInjected(Sort) ||\n                    (this.targetColumn && !this.targetColumn.field)) {\n                    status = true;\n                }\n                else if (this.parent.ensureModuleInjected(Sort) && this.parent.sortSettings.columns.length > 0 && this.targetColumn) {\n                    var sortColumns = this.parent.sortSettings.columns;\n                    for (var i = 0; i < sortColumns.length; i++) {\n                        if (sortColumns[i].field === this.targetColumn.field\n                            && sortColumns[i].direction.toLowerCase() === item.toLowerCase().replace('sort', '').toLocaleLowerCase()) {\n                            status = true;\n                        }\n                    }\n                }\n                break;\n            case 'FirstPage':\n            case 'PrevPage':\n                if (!this.parent.allowPaging || !this.parent.ensureModuleInjected(Page) ||\n                    this.parent.getCurrentViewRecords().length === 0 ||\n                    (this.parent.ensureModuleInjected(Page) && this.parent.pageSettings.currentPage === 1)) {\n                    status = true;\n                }\n                break;\n            case 'LastPage':\n            case 'NextPage':\n                if (!this.parent.allowPaging || !this.parent.ensureModuleInjected(Page) ||\n                    this.parent.getCurrentViewRecords().length === 0 ||\n                    (this.parent.ensureModuleInjected(Page) && this.parent.pageSettings.currentPage === this.getLastPage())) {\n                    status = true;\n                }\n                break;\n        }\n        return status;\n    };\n    /**\n     * Gets the context menu element from the Grid.\n     *\n     * @returns {Element} returns the element\n     */\n    ContextMenu.prototype.getContextMenu = function () {\n        return this.element;\n    };\n    /**\n     * Destroys the context menu component in the Grid.\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n     */\n    ContextMenu.prototype.destroy = function () {\n        var gridElement = this.parent.element;\n        if (!gridElement || (!gridElement.querySelector('.' + literals.gridHeader) && !gridElement.querySelector('.' + literals.gridContent))) {\n            return;\n        }\n        this.contextMenu.destroy();\n        if (this.element.parentNode) {\n            remove(this.element);\n        }\n        this.removeEventListener();\n        this.parent.element.classList.remove('e-noselect');\n    };\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextMenu';\n    };\n    ContextMenu.prototype.generateID = function (item) {\n        return this.gridID + '_cmenu_' + item;\n    };\n    ContextMenu.prototype.getKeyFromId = function (id) {\n        return id.replace(this.gridID + '_cmenu_', '');\n    };\n    ContextMenu.prototype.buildDefaultItems = function (item) {\n        var menuItem;\n        switch (item) {\n            case 'AutoFitAll':\n            case 'AutoFit':\n                menuItem = { target: menuClass.header };\n                break;\n            case 'Group':\n                menuItem = { target: menuClass.header, iconCss: menuClass.group };\n                break;\n            case 'Ungroup':\n                menuItem = { target: menuClass.header, iconCss: menuClass.ungroup };\n                break;\n            case 'Edit':\n                menuItem = { target: menuClass.content, iconCss: menuClass.editIcon };\n                break;\n            case 'Delete':\n                menuItem = { target: menuClass.content, iconCss: menuClass.delete };\n                break;\n            case 'Save':\n                menuItem = { target: menuClass.edit, iconCss: menuClass.save };\n                break;\n            case 'Cancel':\n                menuItem = { target: menuClass.edit, iconCss: menuClass.cancel };\n                break;\n            case 'Copy':\n                menuItem = { target: menuClass.content, iconCss: menuClass.copy };\n                break;\n            case 'export':\n                menuItem = { target: menuClass.content };\n                break;\n            case 'PdfExport':\n                menuItem = { target: menuClass.content, iconCss: menuClass.pdf };\n                break;\n            case 'ExcelExport':\n                menuItem = { target: menuClass.content, iconCss: menuClass.excel };\n                break;\n            case 'CsvExport':\n                menuItem = { target: menuClass.content, iconCss: menuClass.csv };\n                break;\n            case 'SortAscending':\n                menuItem = { target: menuClass.header, iconCss: menuClass.ascending };\n                break;\n            case 'SortDescending':\n                menuItem = { target: menuClass.header, iconCss: menuClass.descending };\n                break;\n            case 'FirstPage':\n                menuItem = { target: menuClass.pager, iconCss: menuClass.fPage };\n                break;\n            case 'PrevPage':\n                menuItem = { target: menuClass.pager, iconCss: menuClass.pPage };\n                break;\n            case 'LastPage':\n                menuItem = { target: menuClass.pager, iconCss: menuClass.lPage };\n                break;\n            case 'NextPage':\n                menuItem = { target: menuClass.pager, iconCss: menuClass.nPage };\n                break;\n        }\n        this.defaultItems[item] = {\n            text: this.getLocaleText(item), id: this.generateID(item),\n            target: menuItem.target, iconCss: menuItem.iconCss ? 'e-icons ' + menuItem.iconCss : ''\n        };\n        return this.defaultItems[item];\n    };\n    ContextMenu.prototype.getDefaultItems = function () {\n        return ['AutoFitAll', 'AutoFit',\n            'Group', 'Ungroup', 'Edit', 'Delete', 'Save', 'Cancel', 'Copy', 'export',\n            'PdfExport', 'ExcelExport', 'CsvExport', 'SortAscending', 'SortDescending',\n            'FirstPage', 'PrevPage', 'LastPage', 'NextPage'];\n    };\n    ContextMenu.prototype.setLocaleKey = function () {\n        var localeKeys = {\n            'AutoFitAll': 'autoFitAll',\n            'AutoFit': 'autoFit',\n            'Copy': 'Copy',\n            'Group': 'Group',\n            'Ungroup': 'Ungroup',\n            'Edit': 'EditRecord',\n            'Delete': 'DeleteRecord',\n            'Save': 'Save',\n            'Cancel': 'CancelButton',\n            'PdfExport': 'Pdfexport',\n            'ExcelExport': 'Excelexport',\n            'CsvExport': 'Csvexport',\n            'export': 'Export',\n            'SortAscending': 'SortAscending',\n            'SortDescending': 'SortDescending',\n            'FirstPage': 'FirstPage',\n            'LastPage': 'LastPage',\n            'PrevPage': 'PreviousPage',\n            'NextPage': 'NextPage'\n        };\n        return localeKeys;\n    };\n    ContextMenu.prototype.getColumn = function (e) {\n        var cell = closest(e.target, 'th.e-headercell');\n        if (cell) {\n            var uid = cell.querySelector('.e-headercelldiv, .e-stackedheadercelldiv').getAttribute('e-mappinguid');\n            return this.parent.getColumnByUid(uid);\n        }\n        else {\n            var ele = (this.parent.getRowInfo(e.target).column);\n            return ele || null;\n        }\n    };\n    ContextMenu.prototype.selectRow = function (e, isSelectable) {\n        this.cell = e.target;\n        this.row = closest(e.target, 'tr.e-row') || this.row;\n        if (this.row && isSelectable && !parentsUntil(e.target, 'e-gridpager')) {\n            this.parent.selectRow(parseInt(this.row.getAttribute(literals.ariaRowIndex), 10));\n        }\n    };\n    return ContextMenu;\n}());\nexport { ContextMenu };\n"]},"metadata":{},"sourceType":"module"}